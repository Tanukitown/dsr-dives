{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/sveltestrap/src/utils.js","../../node_modules/svelte/store/index.mjs","../../node_modules/sveltestrap/src/Button.svelte","../../node_modules/@popperjs/core/dist/esm/dom-utils/getWindow.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/instanceOf.js","../../node_modules/@popperjs/core/dist/esm/utils/math.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getBoundingClientRect.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getWindowScroll.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getNodeName.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getDocumentElement.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getWindowScrollBarX.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getComputedStyle.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/isScrollParent.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getCompositeRect.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getNodeScroll.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getHTMLElementScroll.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getLayoutRect.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getParentNode.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getScrollParent.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/listScrollParents.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/isTableElement.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getOffsetParent.js","../../node_modules/@popperjs/core/dist/esm/enums.js","../../node_modules/@popperjs/core/dist/esm/utils/orderModifiers.js","../../node_modules/@popperjs/core/dist/esm/utils/getBasePlacement.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/contains.js","../../node_modules/@popperjs/core/dist/esm/utils/rectToClientRect.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getClippingRect.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getViewportRect.js","../../node_modules/@popperjs/core/dist/esm/dom-utils/getDocumentRect.js","../../node_modules/@popperjs/core/dist/esm/utils/getVariation.js","../../node_modules/@popperjs/core/dist/esm/utils/getMainAxisFromPlacement.js","../../node_modules/@popperjs/core/dist/esm/utils/computeOffsets.js","../../node_modules/@popperjs/core/dist/esm/utils/mergePaddingObject.js","../../node_modules/@popperjs/core/dist/esm/utils/getFreshSideObject.js","../../node_modules/@popperjs/core/dist/esm/utils/expandToHashMap.js","../../node_modules/@popperjs/core/dist/esm/utils/detectOverflow.js","../../node_modules/@popperjs/core/dist/esm/createPopper.js","../../node_modules/@popperjs/core/dist/esm/utils/debounce.js","../../node_modules/@popperjs/core/dist/esm/utils/mergeByName.js","../../node_modules/@popperjs/core/dist/esm/modifiers/eventListeners.js","../../node_modules/@popperjs/core/dist/esm/modifiers/popperOffsets.js","../../node_modules/@popperjs/core/dist/esm/modifiers/computeStyles.js","../../node_modules/@popperjs/core/dist/esm/modifiers/applyStyles.js","../../node_modules/@popperjs/core/dist/esm/modifiers/offset.js","../../node_modules/@popperjs/core/dist/esm/utils/getOppositePlacement.js","../../node_modules/@popperjs/core/dist/esm/utils/getOppositeVariationPlacement.js","../../node_modules/@popperjs/core/dist/esm/utils/computeAutoPlacement.js","../../node_modules/@popperjs/core/dist/esm/modifiers/flip.js","../../node_modules/@popperjs/core/dist/esm/utils/within.js","../../node_modules/@popperjs/core/dist/esm/modifiers/preventOverflow.js","../../node_modules/@popperjs/core/dist/esm/utils/getAltAxis.js","../../node_modules/@popperjs/core/dist/esm/modifiers/arrow.js","../../node_modules/@popperjs/core/dist/esm/modifiers/hide.js","../../node_modules/@popperjs/core/dist/esm/popper.js","../../node_modules/sveltestrap/src/DropdownContext.js","../../node_modules/sveltestrap/src/Dropdown.svelte","../../node_modules/sveltestrap/src/popper.js","../../node_modules/sveltestrap/src/Card.svelte","../../node_modules/sveltestrap/src/CardBody.svelte","../../node_modules/sveltestrap/src/CardHeader.svelte","../../node_modules/sveltestrap/src/Container.svelte","../../node_modules/sveltestrap/src/DropdownItem.svelte","../../node_modules/sveltestrap/src/DropdownMenu.svelte","../../node_modules/sveltestrap/src/DropdownToggle.svelte","../../node_modules/framework-utils/dist/utils.esm.js","../../node_modules/@egjs/list-differ/dist/list-differ.esm.js","../../node_modules/@daybrush/utils/dist/utils.esm.js","../../node_modules/react-simple-compat/dist/compat.esm.js","../../node_modules/@egjs/agent/dist/agent.esm.js","../../node_modules/@scena/matrix/dist/matrix.esm.js","../../node_modules/css-to-mat/dist/css-to-mat.esm.js","../../node_modules/@egjs/children-differ/dist/children-differ.esm.js","../../node_modules/overlap-area/dist/overlap-area.esm.js","../../node_modules/@scena/event-emitter/dist/event-emitter.esm.js","../../node_modules/@scena/dragscroll/dist/dragscroll.esm.js","../../node_modules/gesto/dist/gesto.esm.js","../../node_modules/css-styled/dist/styled.esm.js","../../node_modules/react-compat-css-styled/dist/styled.esm.js","../../node_modules/react-compat-moveable/dist/moveable.esm.js","../../node_modules/moveable/dist/moveable.esm.js","../../node_modules/svelte-moveable/src/Moveable.svelte","../../node_modules/svelte-moveable/src/index.js","../../src/components/RoleIcons.svelte","../../src/components/Wyrmholes.svelte","../../src/App.svelte","../../src/main.ts"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes, is_svg) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration(undefined, is_svg);\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes, is_svg);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value === null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, cancelable, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(is_svg = false) {\n        this.is_svg = false;\n        this.is_svg = is_svg;\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            if (this.is_svg)\n                this.e = svg_element(target.nodeName);\n            else\n                this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes, is_svg = false) {\n        super(is_svg);\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { stylesheet } = info;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            info.rules = {};\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail, { cancelable = false } = {}) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail, { cancelable });\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n            return !event.defaultPrevented;\n        }\n        return true;\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n    return context;\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (flushidx < dirty_components.length) {\n            const component = dirty_components[flushidx];\n            flushidx++;\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst void_element_names = /^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;\nfunction is_void(name) {\n    return void_element_names.test(name) || name.toLowerCase() === '!doctype';\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    const assignment = (boolean && value === true) ? '' : `=\"${escape_attribute_value(value.toString())}\"`;\n    return ` ${name}${assignment}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${style_object[key]};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.48.0' }, detail), { bubbles: true }));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nfunction validate_dynamic_element(tag) {\n    const is_string = typeof tag === 'string';\n    if (tag && !is_string) {\n        throw new Error('<svelte:element> expects \"this\" attribute to be a string.');\n    }\n}\nfunction validate_void_dynamic_element(tag) {\n    if (tag && is_void(tag)) {\n        throw new Error(`<svelte:element this=\"${tag}\"> is self-closing and cannot have content.`);\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, is_void, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_dynamic_element, validate_each_argument, validate_each_keys, validate_slots, validate_store, validate_void_dynamic_element, xlink_attr };\n","export function getOriginalBodyPadding() {\n  const style = window ? window.getComputedStyle(document.body, null) : {};\n\n  return parseInt((style && style.getPropertyValue('padding-right')) || 0, 10);\n}\n\nexport function getScrollbarWidth() {\n  let scrollDiv = document.createElement('div');\n  // .modal-scrollbar-measure styles // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/scss/_modal.scss#L106-L113\n  scrollDiv.style.position = 'absolute';\n  scrollDiv.style.top = '-9999px';\n  scrollDiv.style.width = '50px';\n  scrollDiv.style.height = '50px';\n  scrollDiv.style.overflow = 'scroll';\n  document.body.appendChild(scrollDiv);\n  const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return scrollbarWidth;\n}\n\nexport function setScrollbarWidth(padding) {\n  document.body.style.paddingRight = padding > 0 ? `${padding}px` : null;\n}\n\nexport function isBodyOverflowing() {\n  return window ? document.body.clientWidth < window.innerWidth : false;\n}\n\nexport function isObject(value) {\n  const type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport function conditionallyUpdateScrollbar() {\n  const scrollbarWidth = getScrollbarWidth();\n  // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.6/js/src/modal.js#L433\n  const fixedContent = document.querySelectorAll(\n    '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top'\n  )[0];\n  const bodyPadding = fixedContent\n    ? parseInt(fixedContent.style.paddingRight || 0, 10)\n    : 0;\n\n  if (isBodyOverflowing()) {\n    setScrollbarWidth(bodyPadding + scrollbarWidth);\n  }\n}\n\nexport function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : `col-${colWidth}`;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : `col-${colWidth}-auto`;\n  }\n\n  return isXs ? `col-${colSize}` : `col-${colWidth}-${colSize}`;\n}\n\nexport function browserEvent(target, ...args) {\n  target.addEventListener(...args);\n\n  return () => target.removeEventListener(...args);\n}\n\nexport function getNewCarouselActiveIndex(direction, items, activeIndex) {\n  if (direction === 'prev') {\n    return activeIndex === 0 ? items.length - 1 : activeIndex - 1;\n  } else if (direction === 'next') {\n    return activeIndex === items.length - 1 ? 0 : activeIndex + 1;\n  }\n}\n\nfunction toClassName(value) {\n  let result = '';\n\n  if (typeof value === 'string' || typeof value === 'number') {\n    result += value;\n  } else if (typeof value === 'object') {\n    if (Array.isArray(value)) {\n      result = value.map(toClassName).filter(Boolean).join(' ');\n    } else {\n      for (let key in value) {\n        if (value[key]) {\n          result && (result += ' ');\n          result += key;\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nexport default function classnames(...args) {\n  return args.map(toClassName).filter(Boolean).join(' ');\n}\n\nexport function getTransitionDuration(element) {\n  if (!element) return 0;\n\n  // Get transition-duration of the element\n  let { transitionDuration, transitionDelay } =\n    window.getComputedStyle(element);\n\n  const floatTransitionDuration = Number.parseFloat(transitionDuration);\n  const floatTransitionDelay = Number.parseFloat(transitionDelay);\n\n  // Return 0 if element or transition duration is not found\n  if (!floatTransitionDuration && !floatTransitionDelay) {\n    return 0;\n  }\n\n  // If multiple durations are defined, take the first\n  transitionDuration = transitionDuration.split(',')[0];\n  transitionDelay = transitionDelay.split(',')[0];\n\n  return (\n    (Number.parseFloat(transitionDuration) +\n      Number.parseFloat(transitionDelay)) *\n    1000\n  );\n}\n\nexport function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = (Math.random() * 16) | 0;\n    const v = c == 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","<script>\n  import classnames from './utils';\n\n  let className = '';\n  export { className as class };\n  export let active = false;\n  export let block = false;\n  export let children = undefined;\n  export let close = false;\n  export let color = 'secondary';\n  export let disabled = false;\n  export let href = '';\n  export let inner = undefined;\n  export let outline = false;\n  export let size = null;\n  export let style = '';\n  export let value = '';\n  export let white = false;\n\n  $: ariaLabel = $$props['aria-label'];\n\n  $: classes = classnames(\n    className,\n    close ? 'btn-close' : 'btn',\n    close || `btn${outline ? '-outline' : ''}-${color}`,\n    size ? `btn-${size}` : false,\n    block ? 'd-block w-100' : false,\n    {\n      active,\n      'btn-close-white': close && white,\n    }\n  );\n\n  $: defaultAriaLabel = close ? 'Close' : null;\n</script>\n\n{#if href}\n  <a\n    {...$$restProps}\n    class={classes}\n    {disabled}\n    bind:this={inner}\n    on:click\n    {href}\n    aria-label={ariaLabel || defaultAriaLabel}\n    {style}\n  >\n    {#if children}\n      {children}\n    {:else}\n      <slot />\n    {/if}\n  </a>\n{:else}\n  <button\n    {...$$restProps}\n    class={classes}\n    {disabled}\n    bind:this={inner}\n    on:click\n    {value}\n    aria-label={ariaLabel || defaultAriaLabel}\n    {style}\n  >\n    <slot>\n      {#if children}\n        {children}\n      {:else}\n        <slot />\n      {/if}\n    </slot>\n  </button>\n{/if}\n","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","import { isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nexport default function getBoundingClientRect(element, includeScale) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  var rect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (isHTMLElement(element) && includeScale) {\n    var offsetHeight = element.offsetHeight;\n    var offsetWidth = element.offsetWidth; // Do not attempt to divide by 0, otherwise we get `Infinity` as scale\n    // Fallback to 1 in case both values are `0`\n\n    if (offsetWidth > 0) {\n      scaleX = round(rect.width) / offsetWidth || 1;\n    }\n\n    if (offsetHeight > 0) {\n      scaleY = round(rect.height) / offsetHeight || 1;\n    }\n  }\n\n  return {\n    width: rect.width / scaleX,\n    height: rect.height / scaleY,\n    top: rect.top / scaleY,\n    right: rect.right / scaleX,\n    bottom: rect.bottom / scaleY,\n    left: rect.left / scaleX,\n    x: rect.left / scaleX,\n    y: rect.top / scaleY\n  };\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') !== -1;\n  var isIE = navigator.userAgent.indexOf('Trident') !== -1;\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element) {\n  var rect = getBoundingClientRect(element);\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nexport default function getViewportRect(element) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0; // NB: This isn't supported on iOS <= 12. If the keyboard is open, the popper\n  // can be obscured underneath it.\n  // Also, `html.clientHeight` adds the bottom bar height in Safari iOS, even\n  // if it isn't open, so if this isn't available, the popper will be detected\n  // to overflow the bottom of the screen too early.\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height; // Uses Layout Viewport (like Chrome; Safari does not currently)\n    // In Chrome, it returns a value very close to 0 (+/-) but contains rounding\n    // errors due to floating point numbers, so we need to check precision.\n    // Safari returns a number <= 0, usually < -1 when pinch-zoomed\n    // Feature detection fails in mobile emulation mode in Chrome.\n    // Math.abs(win.innerWidth / visualViewport.scale - visualViewport.width) <\n    // 0.001\n    // Fallback here: \"Not Safari\" userAgent\n\n    if (!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (false) {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (false) {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (false) {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (false) {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n\n  if (false) {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (false) {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (false) {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (false) {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import { writable } from 'svelte/store';\n\nexport const createContext = () => writable({});\n","<script>\n  import { getContext, setContext, onDestroy } from 'svelte';\n  import { createPopperActions } from './popper';\n  import classnames from './utils';\n\n  import { createContext } from './DropdownContext';\n\n  const noop = () => undefined;\n\n  let context = createContext();\n  setContext('dropdownContext', context);\n  const navbarContext = getContext('navbar');\n\n  let className = '';\n  export { className as class };\n  export let active = false;\n  export let direction = 'down';\n  export let dropup = false;\n  export let group = false;\n  export let inNavbar = navbarContext ? navbarContext.inNavbar : false;\n  export let isOpen = false;\n  export let nav = false;\n  export let setActiveFromChild = false;\n  export let size = '';\n  export let toggle = undefined;\n\n  const [popperRef, popperContent] = createPopperActions();\n\n  const validDirections = ['up', 'down', 'left', 'right', 'start', 'end'];\n\n  if (validDirections.indexOf(direction) === -1) {\n    throw new Error(\n      `Invalid direction sent: '${direction}' is not one of 'up', 'down', 'left', 'right', 'start', 'end'`\n    );\n  }\n\n  let component;\n  let dropdownDirection;\n\n  $: subItemIsActive = !!(\n    setActiveFromChild &&\n    component &&\n    typeof component.querySelector === 'function' &&\n    component.querySelector('.active')\n  );\n\n  $: {\n    if (direction === 'left') dropdownDirection = 'start';\n    else if (direction === 'right') dropdownDirection = 'end';\n    else dropdownDirection = direction;\n  }\n\n  $: classes = classnames(\n    className,\n    direction !== 'down' && `drop${dropdownDirection}`,\n    nav && active ? 'active' : false,\n    setActiveFromChild && subItemIsActive ? 'active' : false,\n    {\n      'btn-group': group,\n      [`btn-group-${size}`]: !!size,\n      dropdown: !group,\n      show: isOpen,\n      'nav-item': nav\n    }\n  );\n\n  $: {\n    if (typeof document !== 'undefined') {\n      if (isOpen) {\n        ['click', 'touchstart', 'keyup'].forEach((event) =>\n          document.addEventListener(event, handleDocumentClick, true)\n        );\n      } else {\n        ['click', 'touchstart', 'keyup'].forEach((event) =>\n          document.removeEventListener(event, handleDocumentClick, true)\n        );\n      }\n    }\n  }\n\n  $: {\n    context.update(() => {\n      return {\n        toggle: handleToggle,\n        isOpen,\n        direction: direction === 'down' && dropup ? 'up' : direction,\n        inNavbar: nav || inNavbar,\n        popperRef: nav ? noop : popperRef,\n        popperContent: nav ? noop : popperContent\n      };\n    });\n  }\n\n  $: handleToggle = toggle || (() => (isOpen = !isOpen));\n\n  function handleDocumentClick(e) {\n    if (e && (e.which === 3 || (e.type === 'keyup' && e.which !== 9))) return;\n\n    if (\n      component.contains(e.target) &&\n      component !== e.target &&\n      (e.type !== 'keyup' || e.which === 9)\n    ) {\n      return;\n    }\n\n    handleToggle(e);\n  }\n\n  onDestroy(() => {\n    if (typeof document !== 'undefined') {\n      ['click', 'touchstart', 'keyup'].forEach((event) =>\n        document.removeEventListener(event, handleDocumentClick, true)\n      );\n    }\n  });\n</script>\n\n{#if nav}\n  <li {...$$restProps} class={classes} bind:this={component}>\n    <slot />\n  </li>\n{:else}\n  <div {...$$restProps} class={classes} bind:this={component}>\n    <slot />\n  </div>\n{/if}\n","import { createPopper } from '@popperjs/core/dist/esm/popper';\n\n// Code derived from https://github.com/bryanmylee/svelte-popperjs/blob/master/src/index.ts\nexport function createPopperActions(initOptions) {\n  let contentNode;\n  let options = initOptions;\n  let popperInstance = null;\n  let referenceNode;\n\n  const initPopper = () => {\n    if (referenceNode && contentNode) {\n      popperInstance = createPopper(referenceNode, contentNode, options);\n    }\n  };\n\n  const deinitPopper = () => {\n    if (popperInstance) {\n      popperInstance.destroy();\n      popperInstance = null;\n    }\n  };\n\n  const referenceAction = (node) => {\n    referenceNode = node;\n    initPopper();\n    return {\n      destroy() {\n        deinitPopper();\n      }\n    };\n  };\n\n  const contentAction = (node, contentOptions) => {\n    contentNode = node;\n    options = Object.assign(Object.assign({}, initOptions), contentOptions);\n    initPopper();\n\n    return {\n      update(newContentOptions) {\n        options = Object.assign(\n          Object.assign({}, initOptions),\n          newContentOptions\n        );\n        if (popperInstance && options) {\n          popperInstance.setOptions(options);\n        }\n      },\n      destroy() {\n        deinitPopper();\n      }\n    };\n  };\n\n  return [referenceAction, contentAction, () => popperInstance];\n}\n","<script>\n  import classnames from './utils';\n\n  let className = '';\n  export { className as class };\n  export let body = false;\n  export let color = '';\n  export let inverse = false;\n  export let outline = false;\n  export let style = '';\n\n  $: classes = classnames(\n    className,\n    'card',\n    inverse ? 'text-white' : false,\n    body ? 'card-body' : false,\n    color ? `${outline ? 'border' : 'bg'}-${color}` : false\n  );\n</script>\n\n<div {...$$restProps} class={classes} on:click {style}>\n  <slot />\n</div>\n","<script>\n  import classnames from './utils';\n\n  let className = '';\n  export { className as class };\n\n  $: classes = classnames(className, 'card-body');\n</script>\n\n<div {...$$restProps} class={classes}>\n  <slot />\n</div>\n","<script>\n  import classnames from './utils';\n\n  let className = '';\n  export { className as class };\n  export let tag = 'div';\n\n  $: classes = classnames(className, 'card-header');\n</script>\n\n{#if tag === 'h3'}\n  <h3 {...$$restProps} class={classes} on:click>\n    <slot />\n  </h3>\n{:else}\n  <div {...$$restProps} class={classes} on:click>\n    <slot />\n  </div>\n{/if}\n","<script>\n  import classnames from './utils';\n\n  let className = '';\n  export { className as class };\n  export let sm = undefined;\n  export let md = undefined;\n  export let lg = undefined;\n  export let xl = undefined;\n  export let xxl = undefined;\n  export let fluid = false;\n\n  $: classes = classnames(className, {\n    'container-sm': sm,\n    'container-md': md,\n    'container-lg': lg,\n    'container-xl': xl,\n    'container-xxl': xxl,\n    'container-fluid': fluid,\n    container: !sm && !md && !lg && !xl && !xxl && !fluid\n  });\n</script>\n\n<div {...$$restProps} class={classes}>\n  <slot />\n</div>\n","<script>\n  import { getContext } from 'svelte';\n  import classnames from './utils';\n\n  const context = getContext('dropdownContext');\n\n  let className = '';\n  export { className as class };\n\n  export let active = false;\n  export let disabled = false;\n  export let divider = false;\n  export let header = false;\n  export let toggle = true;\n  export let href = '';\n\n  $: classes = classnames(className, {\n    disabled,\n    'dropdown-item': !divider && !header,\n    active: active,\n    'dropdown-header': header,\n    'dropdown-divider': divider\n  });\n\n  function handleItemClick(e) {\n    if (disabled || header || divider) {\n      e.preventDefault();\n      return;\n    }\n\n    if (toggle) {\n      $context.toggle(e);\n    }\n  }\n</script>\n\n{#if header}\n  <h6 {...$$restProps} on:click on:click={handleItemClick} class={classes}>\n    <slot />\n  </h6>\n{:else if divider}\n  <div {...$$restProps} on:click on:click={handleItemClick} class={classes}>\n    <slot />\n  </div>\n{:else if href}\n  <a {...$$restProps} click on:click={handleItemClick} {href} class={classes}>\n    <slot />\n  </a>\n{:else}\n  <button type=\"button\" {...$$restProps} on:click on:click={handleItemClick} class={classes}>\n    <slot />\n  </button>\n{/if}\n","<script>\n  import { getContext } from 'svelte';\n  import classnames from './utils';\n\n  const context = getContext('dropdownContext');\n\n  let className = '';\n  export { className as class };\n  export let dark = false;\n  export let end = false;\n  export let right = false;\n\n  const popperPlacement = (direction, end) => {\n    let prefix = direction;\n    if (direction === 'up') prefix = 'top';\n    else if (direction === 'down') prefix = 'bottom';\n\n    let suffix = end ? 'end' : 'start';\n    return `${prefix}-${suffix}`;\n  };\n\n  $: popperOptions = {\n    modifiers: [\n      { name: 'flip' },\n      {\n        name: 'offset',\n        options: {\n          offset: [0, 2]\n        }\n      }\n    ],\n    placement: popperPlacement($context.direction, end || right)\n  };\n\n  $: classes = classnames(className, 'dropdown-menu', {\n    'dropdown-menu-dark': dark,\n    'dropdown-menu-end': end || right,\n    show: $context.isOpen\n  });\n</script>\n\n<div\n  {...$$restProps}\n  class={classes}\n  data-bs-popper={$context.inNavbar ? 'static' : undefined}\n  use:$context.popperContent={popperOptions}\n>\n  <slot />\n</div>\n","<script>\n  import { getContext } from 'svelte';\n  import classnames from './utils';\n\n  const context = getContext('dropdownContext');\n\n  let className = '';\n  export { className as class };\n  export let ariaLabel = 'Toggle Dropdown';\n  export let active = false;\n  export let block = false;\n  export let caret = false;\n  export let color = 'secondary';\n  export let disabled = false;\n  export let inner = undefined;\n  export let nav = false;\n  export let outline = false;\n  export let size = '';\n  export let split = false;\n  export let tag = null;\n\n  $: classes = classnames(className, {\n    'dropdown-toggle': caret || split,\n    'dropdown-toggle-split': split,\n    'nav-link': nav\n  });\n\n  function toggleButton(e) {\n    if (disabled) {\n      e.preventDefault();\n      return;\n    }\n\n    if (nav) {\n      e.preventDefault();\n    }\n\n    $context.toggle(e);\n  }\n\n  $: btnClasses = classnames(\n    classes,\n    'btn',\n    `btn${outline ? '-outline' : ''}-${color}`,\n    size ? `btn-${size}` : false,\n    block ? 'd-block w-100' : false,\n    { active }\n  );\n</script>\n\n{#if nav}\n  <a\n    use:$context.popperRef\n    {...$$restProps}\n    bind:this={inner}\n    on:click\n    on:click={toggleButton}\n    href=\"#nav\"\n    aria-expanded={$context.isOpen}\n    class={classes}\n  >\n    <slot>\n      <span class=\"visually-hidden\">{ariaLabel}</span>\n    </slot>\n  </a>\n{:else if tag === 'div'}\n  <div\n    use:$context.popperRef\n    {...$$restProps}\n    bind:this={inner}\n    on:click\n    on:click={toggleButton}\n    aria-expanded={$context.isOpen}\n    class={classes}\n  >\n    <slot>\n      <span class=\"visually-hidden\">{ariaLabel}</span>\n    </slot>\n  </div>\n{:else if tag === 'span'}\n  <span\n    use:$context.popperRef\n    {...$$restProps}\n    bind:this={inner}\n    on:click\n    on:click={toggleButton}\n    aria-expanded={$context.isOpen}\n    class={classes}\n  >\n    <slot>\n      <span class=\"visually-hidden\">{ariaLabel}</span>\n    </slot>\n  </span>\n{:else}\n  <button\n    use:$context.popperRef\n    {...$$restProps}\n    bind:this={inner}\n    type=\"button\"\n    on:click\n    on:click={toggleButton}\n    aria-expanded={$context.isOpen}\n    class={btnClasses}\n  >\n    <slot>\n      <span class=\"visually-hidden\">{ariaLabel}</span>\n    </slot>\n  </button>\n{/if}\n","/*\nCopyright (c) 2019 Daybrush\nname: framework-utils\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/framework-utils.git\nversion: 1.1.0\n*/\nfunction prefixNames(prefix) {\n  var classNames = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    classNames[_i - 1] = arguments[_i];\n  }\n\n  return classNames.map(function (className) {\n    return className.split(\" \").map(function (name) {\n      return name ? \"\" + prefix + name : \"\";\n    }).join(\" \");\n  }).join(\" \");\n}\nfunction prefixCSS(prefix, css) {\n  return css.replace(/([^}{]*){/gm, function (_, selector) {\n    return selector.replace(/\\.([^{,\\s\\d.]+)/g, \".\" + prefix + \"$1\") + \"{\";\n  });\n}\n/* react */\n\nfunction ref(target, name) {\n  return function (e) {\n    e && (target[name] = e);\n  };\n}\nfunction refs(target, name, i) {\n  return function (e) {\n    e && (target[name][i] = e);\n  };\n}\n/* Class Decorator */\n\nfunction Properties(properties, action) {\n  return function (component) {\n    var prototype = component.prototype;\n    properties.forEach(function (property) {\n      action(prototype, property);\n    });\n  };\n}\n/* Property Decorator */\n\nfunction withMethods(methods, duplicate) {\n  if (duplicate === void 0) {\n    duplicate = {};\n  }\n\n  return function (prototype, propertyName) {\n    methods.forEach(function (name) {\n      var methodName = duplicate[name] || name;\n\n      if (methodName in prototype) {\n        return;\n      }\n\n      prototype[methodName] = function () {\n        var _a;\n\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        var result = (_a = this[propertyName])[name].apply(_a, args);\n\n        if (result === this[propertyName]) {\n          return this;\n        } else {\n          return result;\n        }\n      };\n    });\n  };\n}\n\nexport { Properties, prefixCSS, prefixNames, ref, refs, withMethods };\n//# sourceMappingURL=utils.esm.js.map\n","/*\nCopyright (c) 2019-present NAVER Corp.\nname: @egjs/list-differ\nlicense: MIT\nauthor: NAVER Corp.\nrepository: https://github.com/naver/egjs-list-differ\nversion: 1.0.0\n*/\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar PolyMap =\n/*#__PURE__*/\nfunction () {\n  function PolyMap() {\n    this.keys = [];\n    this.values = [];\n  }\n\n  var __proto = PolyMap.prototype;\n\n  __proto.get = function (key) {\n    return this.values[this.keys.indexOf(key)];\n  };\n\n  __proto.set = function (key, value) {\n    var keys = this.keys;\n    var values = this.values;\n    var prevIndex = keys.indexOf(key);\n    var index = prevIndex === -1 ? keys.length : prevIndex;\n    keys[index] = key;\n    values[index] = value;\n  };\n\n  return PolyMap;\n}();\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar HashMap =\n/*#__PURE__*/\nfunction () {\n  function HashMap() {\n    this.object = {};\n  }\n\n  var __proto = HashMap.prototype;\n\n  __proto.get = function (key) {\n    return this.object[key];\n  };\n\n  __proto.set = function (key, value) {\n    this.object[key] = value;\n  };\n\n  return HashMap;\n}();\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar SUPPORT_MAP = typeof Map === \"function\";\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar Link =\n/*#__PURE__*/\nfunction () {\n  function Link() {}\n\n  var __proto = Link.prototype;\n\n  __proto.connect = function (prevLink, nextLink) {\n    this.prev = prevLink;\n    this.next = nextLink;\n    prevLink && (prevLink.next = this);\n    nextLink && (nextLink.prev = this);\n  };\n\n  __proto.disconnect = function () {\n    // In double linked list, diconnect the interconnected relationship.\n    var prevLink = this.prev;\n    var nextLink = this.next;\n    prevLink && (prevLink.next = nextLink);\n    nextLink && (nextLink.prev = prevLink);\n  };\n\n  __proto.getIndex = function () {\n    var link = this;\n    var index = -1;\n\n    while (link) {\n      link = link.prev;\n      ++index;\n    }\n\n    return index;\n  };\n\n  return Link;\n}();\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\n\nfunction orderChanged(changed, fixed) {\n  // It is roughly in the order of these examples.\n  // 4, 6, 0, 2, 1, 3, 5, 7\n  var fromLinks = []; // 0, 1, 2, 3, 4, 5, 6, 7\n\n  var toLinks = [];\n  changed.forEach(function (_a) {\n    var from = _a[0],\n        to = _a[1];\n    var link = new Link();\n    fromLinks[from] = link;\n    toLinks[to] = link;\n  }); // `fromLinks` are connected to each other by double linked list.\n\n  fromLinks.forEach(function (link, i) {\n    link.connect(fromLinks[i - 1]);\n  });\n  return changed.filter(function (_, i) {\n    return !fixed[i];\n  }).map(function (_a, i) {\n    var from = _a[0],\n        to = _a[1];\n\n    if (from === to) {\n      return [0, 0];\n    }\n\n    var fromLink = fromLinks[from];\n    var toLink = toLinks[to - 1];\n    var fromIndex = fromLink.getIndex(); // Disconnect the link connected to `fromLink`.\n\n    fromLink.disconnect(); // Connect `fromLink` to the right of `toLink`.\n\n    if (!toLink) {\n      fromLink.connect(undefined, fromLinks[0]);\n    } else {\n      fromLink.connect(toLink, toLink.next);\n    }\n\n    var toIndex = fromLink.getIndex();\n    return [fromIndex, toIndex];\n  });\n}\n\nvar Result =\n/*#__PURE__*/\nfunction () {\n  function Result(prevList, list, added, removed, changed, maintained, changedBeforeAdded, fixed) {\n    this.prevList = prevList;\n    this.list = list;\n    this.added = added;\n    this.removed = removed;\n    this.changed = changed;\n    this.maintained = maintained;\n    this.changedBeforeAdded = changedBeforeAdded;\n    this.fixed = fixed;\n  }\n\n  var __proto = Result.prototype;\n  Object.defineProperty(__proto, \"ordered\", {\n    get: function () {\n      if (!this.cacheOrdered) {\n        this.caculateOrdered();\n      }\n\n      return this.cacheOrdered;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(__proto, \"pureChanged\", {\n    get: function () {\n      if (!this.cachePureChanged) {\n        this.caculateOrdered();\n      }\n\n      return this.cachePureChanged;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  __proto.caculateOrdered = function () {\n    var ordered = orderChanged(this.changedBeforeAdded, this.fixed);\n    var changed = this.changed;\n    var pureChanged = [];\n    this.cacheOrdered = ordered.filter(function (_a, i) {\n      var from = _a[0],\n          to = _a[1];\n      var _b = changed[i],\n          fromBefore = _b[0],\n          toBefore = _b[1];\n\n      if (from !== to) {\n        pureChanged.push([fromBefore, toBefore]);\n        return true;\n      }\n    });\n    this.cachePureChanged = pureChanged;\n  };\n\n  return Result;\n}();\n\n/**\n *\n * @memberof eg.ListDiffer\n * @static\n * @function\n * @param - Previous List <ko> 이전 목록 </ko>\n * @param - List to Update <ko> 업데이트 할 목록 </ko>\n * @param - This callback function returns the key of the item. <ko> 아이템의 키를 반환하는 콜백 함수입니다.</ko>\n * @return - Returns the diff between `prevList` and `list` <ko> `prevList`와 `list`의 다른 점을 반환한다.</ko>\n * @example\n * import { diff } from \"@egjs/list-differ\";\n * // script => eg.ListDiffer.diff\n * const result = diff([0, 1, 2, 3, 4, 5], [7, 8, 0, 4, 3, 6, 2, 1], e => e);\n * // List before update\n * // [1, 2, 3, 4, 5]\n * console.log(result.prevList);\n * // Updated list\n * // [4, 3, 6, 2, 1]\n * console.log(result.list);\n * // Index array of values added to `list`\n * // [0, 1, 5]\n * console.log(result.added);\n * // Index array of values removed in `prevList`\n * // [5]\n * console.log(result.removed);\n * // An array of index pairs of `prevList` and `list` with different indexes from `prevList` and `list`\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.changed);\n * // The subset of `changed` and an array of index pairs that moved data directly. Indicate an array of absolute index pairs of `ordered`.(Formatted by: Array<[index of prevList, index of list]>)\n * // [[4, 3], [3, 4], [2, 6]]\n * console.log(result.pureChanged);\n * // An array of index pairs to be `ordered` that can synchronize `list` before adding data. (Formatted by: Array<[prevIndex, nextIndex]>)\n * // [[4, 1], [4, 2], [4, 3]]\n * console.log(result.ordered);\n * // An array of index pairs of `prevList` and `list` that have not been added/removed so data is preserved\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.maintained);\n */\n\nfunction diff(prevList, list, findKeyCallback) {\n  var mapClass = SUPPORT_MAP ? Map : findKeyCallback ? HashMap : PolyMap;\n\n  var callback = findKeyCallback || function (e) {\n    return e;\n  };\n\n  var added = [];\n  var removed = [];\n  var maintained = [];\n  var prevKeys = prevList.map(callback);\n  var keys = list.map(callback);\n  var prevKeyMap = new mapClass();\n  var keyMap = new mapClass();\n  var changedBeforeAdded = [];\n  var fixed = [];\n  var removedMap = {};\n  var changed = [];\n  var addedCount = 0;\n  var removedCount = 0; // Add prevKeys and keys to the hashmap.\n\n  prevKeys.forEach(function (key, prevListIndex) {\n    prevKeyMap.set(key, prevListIndex);\n  });\n  keys.forEach(function (key, listIndex) {\n    keyMap.set(key, listIndex);\n  }); // Compare `prevKeys` and `keys` and add them to `removed` if they are not in `keys`.\n\n  prevKeys.forEach(function (key, prevListIndex) {\n    var listIndex = keyMap.get(key); // In prevList, but not in list, it is removed.\n\n    if (typeof listIndex === \"undefined\") {\n      ++removedCount;\n      removed.push(prevListIndex);\n    } else {\n      removedMap[listIndex] = removedCount;\n    }\n  }); // Compare `prevKeys` and `keys` and add them to `added` if they are not in `prevKeys`.\n\n  keys.forEach(function (key, listIndex) {\n    var prevListIndex = prevKeyMap.get(key); // In list, but not in prevList, it is added.\n\n    if (typeof prevListIndex === \"undefined\") {\n      added.push(listIndex);\n      ++addedCount;\n    } else {\n      maintained.push([prevListIndex, listIndex]);\n      removedCount = removedMap[listIndex] || 0;\n      changedBeforeAdded.push([prevListIndex - removedCount, listIndex - addedCount]);\n      fixed.push(listIndex === prevListIndex);\n\n      if (prevListIndex !== listIndex) {\n        changed.push([prevListIndex, listIndex]);\n      }\n    }\n  }); // Sort by ascending order of 'to(list's index).\n\n  removed.reverse();\n  return new Result(prevList, list, added, removed, changed, maintained, changedBeforeAdded, fixed);\n}\n\n/**\n * A module that checks diff when values are added, removed, or changed in an array.\n * @ko 배열 또는 오브젝트에서 값이 추가되거나 삭제되거나 순서가 변경사항을 체크하는 모듈입니다.\n * @memberof eg\n */\n\nvar ListDiffer =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param - Initializing Data Array. <ko> 초기 설정할 데이터 배열.</ko>\n   * @param - This callback function returns the key of the item. <ko> 아이템의 키를 반환하는 콜백 함수입니다.</ko>\n   * @example\n   * import ListDiffer from \"@egjs/list-differ\";\n   * // script => eg.ListDiffer\n   * const differ = new ListDiffer([0, 1, 2, 3, 4, 5], e => e);\n   * const result = differ.update([7, 8, 0, 4, 3, 6, 2, 1]);\n   * // List before update\n   * // [1, 2, 3, 4, 5]\n   * console.log(result.prevList);\n   * // Updated list\n   * // [4, 3, 6, 2, 1]\n   * console.log(result.list);\n   * // Index array of values added to `list`.\n   * // [0, 1, 5]\n   * console.log(result.added);\n   * // Index array of values removed in `prevList`.\n   * // [5]\n   * console.log(result.removed);\n   * // An array of index pairs of `prevList` and `list` with different indexes from `prevList` and `list`.\n   * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n   * console.log(result.changed);\n   * // The subset of `changed` and an array of index pairs that moved data directly. Indicate an array of absolute index pairs of `ordered`.(Formatted by: Array<[index of prevList, index of list]>)\n   * // [[4, 3], [3, 4], [2, 6]]\n   * console.log(result.pureChanged);\n   * // An array of index pairs to be `ordered` that can synchronize `list` before adding data. (Formatted by: Array<[prevIndex, nextIndex]>)\n   * // [[4, 1], [4, 2], [4, 3]]\n   * console.log(result.ordered);\n   * // An array of index pairs of `prevList` and `list` that have not been added/removed so data is preserved.\n   * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n   * console.log(result.maintained);\n   */\n  function ListDiffer(list, findKeyCallback) {\n    if (list === void 0) {\n      list = [];\n    }\n\n    this.findKeyCallback = findKeyCallback;\n    this.list = [].slice.call(list);\n  }\n  /**\n   * Update list.\n   * @ko 리스트를 업데이트를 합니다.\n   * @param - List to update <ko> 업데이트할 리스트 </ko>\n   * @return - Returns the results of an update from `prevList` to `list`.<ko> `prevList`에서 `list`로 업데이트한 결과를 반환한다. </ko>\n   */\n\n\n  var __proto = ListDiffer.prototype;\n\n  __proto.update = function (list) {\n    var newData = [].slice.call(list);\n    var result = diff(this.list, newData, this.findKeyCallback);\n    this.list = newData;\n    return result;\n  };\n\n  return ListDiffer;\n}();\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\n\nexport default ListDiffer;\nexport { diff };\n//# sourceMappingURL=list-differ.esm.js.map\n","/*\nCopyright (c) 2018 Daybrush\n@name: @daybrush/utils\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/utils\n@version 1.6.0\n*/\n/**\n* @namespace\n* @name Consts\n*/\n\n/**\n* get string \"rgb\"\n* @memberof Color\n* @example\nimport {RGB} from \"@daybrush/utils\";\n\nconsole.log(RGB); // \"rgb\"\n*/\nvar RGB = \"rgb\";\n/**\n* get string \"rgba\"\n* @memberof Color\n* @example\nimport {RGBA} from \"@daybrush/utils\";\n\nconsole.log(RGBA); // \"rgba\"\n*/\n\nvar RGBA = \"rgba\";\n/**\n* get string \"hsl\"\n* @memberof Color\n* @example\nimport {HSL} from \"@daybrush/utils\";\n\nconsole.log(HSL); // \"hsl\"\n*/\n\nvar HSL = \"hsl\";\n/**\n* get string \"hsla\"\n* @memberof Color\n* @example\nimport {HSLA} from \"@daybrush/utils\";\n\nconsole.log(HSLA); // \"hsla\"\n*/\n\nvar HSLA = \"hsla\";\n/**\n* gets an array of color models.\n* @memberof Color\n* @example\nimport {COLOR_MODELS} from \"@daybrush/utils\";\n\nconsole.log(COLOR_MODELS); // [\"rgb\", \"rgba\", \"hsl\", \"hsla\"];\n*/\n\nvar COLOR_MODELS = [RGB, RGBA, HSL, HSLA];\n/**\n* get string \"function\"\n* @memberof Consts\n* @example\nimport {FUNCTION} from \"@daybrush/utils\";\n\nconsole.log(FUNCTION); // \"function\"\n*/\n\nvar FUNCTION = \"function\";\n/**\n* get string \"property\"\n* @memberof Consts\n* @example\nimport {PROPERTY} from \"@daybrush/utils\";\n\nconsole.log(PROPERTY); // \"property\"\n*/\n\nvar PROPERTY = \"property\";\n/**\n* get string \"array\"\n* @memberof Consts\n* @example\nimport {ARRAY} from \"@daybrush/utils\";\n\nconsole.log(ARRAY); // \"array\"\n*/\n\nvar ARRAY = \"array\";\n/**\n* get string \"object\"\n* @memberof Consts\n* @example\nimport {OBJECT} from \"@daybrush/utils\";\n\nconsole.log(OBJECT); // \"object\"\n*/\n\nvar OBJECT = \"object\";\n/**\n* get string \"string\"\n* @memberof Consts\n* @example\nimport {STRING} from \"@daybrush/utils\";\n\nconsole.log(STRING); // \"string\"\n*/\n\nvar STRING = \"string\";\n/**\n* get string \"number\"\n* @memberof Consts\n* @example\nimport {NUMBER} from \"@daybrush/utils\";\n\nconsole.log(NUMBER); // \"number\"\n*/\n\nvar NUMBER = \"number\";\n/**\n* get string \"undefined\"\n* @memberof Consts\n* @example\nimport {UNDEFINED} from \"@daybrush/utils\";\n\nconsole.log(UNDEFINED); // \"undefined\"\n*/\n\nvar UNDEFINED = \"undefined\";\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\n\nvar IS_WINDOW = typeof window !== UNDEFINED;\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @name document\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\n\nvar doc = typeof document !== UNDEFINED && document; // FIXME: this type maybe false\nvar prefixes = [\"webkit\", \"ms\", \"moz\", \"o\"];\n/**\n * @namespace CrossBrowser\n */\n\n/**\n* Get a CSS property with a vendor prefix that supports cross browser.\n* @function\n* @param {string} property - A CSS property\n* @return {string} CSS property with cross-browser vendor prefix\n* @memberof CrossBrowser\n* @example\nimport {getCrossBrowserProperty} from \"@daybrush/utils\";\n\nconsole.log(getCrossBrowserProperty(\"transform\")); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\nconsole.log(getCrossBrowserProperty(\"filter\")); // \"filter\", \"-webkit-filter\"\n*/\n\nvar getCrossBrowserProperty = /*#__PURE__*/function (property) {\n  if (!doc) {\n    return \"\";\n  }\n\n  var styles = (doc.body || doc.documentElement).style;\n  var length = prefixes.length;\n\n  if (typeof styles[property] !== UNDEFINED) {\n    return property;\n  }\n\n  for (var i = 0; i < length; ++i) {\n    var name = \"-\" + prefixes[i] + \"-\" + property;\n\n    if (typeof styles[name] !== UNDEFINED) {\n      return name;\n    }\n  }\n\n  return \"\";\n};\n/**\n* get string \"transfrom\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {TRANSFORM} from \"@daybrush/utils\";\n\nconsole.log(TRANSFORM); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\n*/\n\nvar TRANSFORM = /*#__PURE__*/getCrossBrowserProperty(\"transform\");\n/**\n* get string \"filter\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {FILTER} from \"@daybrush/utils\";\n\nconsole.log(FILTER); // \"filter\", \"-ms-filter\", \"-webkit-filter\"\n*/\n\nvar FILTER = /*#__PURE__*/getCrossBrowserProperty(\"filter\");\n/**\n* get string \"animation\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {ANIMATION} from \"@daybrush/utils\";\n\nconsole.log(ANIMATION); // \"animation\", \"-ms-animation\", \"-webkit-animation\"\n*/\n\nvar ANIMATION = /*#__PURE__*/getCrossBrowserProperty(\"animation\");\n/**\n* get string \"keyframes\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {KEYFRAMES} from \"@daybrush/utils\";\n\nconsole.log(KEYFRAMES); // \"keyframes\", \"-ms-keyframes\", \"-webkit-keyframes\"\n*/\n\nvar KEYFRAMES = /*#__PURE__*/ANIMATION.replace(\"animation\", \"keyframes\");\nvar OPEN_CLOSED_CHARACTERS = [{\n  open: \"(\",\n  close: \")\"\n}, {\n  open: \"\\\"\",\n  close: \"\\\"\"\n}, {\n  open: \"'\",\n  close: \"'\"\n}, {\n  open: \"\\\\\\\"\",\n  close: \"\\\\\\\"\"\n}, {\n  open: \"\\\\'\",\n  close: \"\\\\'\"\n}];\nvar TINY_NUM = 0.0000001;\nvar DEFAULT_UNIT_PRESETS = {\n  \"cm\": function (pos) {\n    return pos * 96 / 2.54;\n  },\n  \"mm\": function (pos) {\n    return pos * 96 / 254;\n  },\n  \"in\": function (pos) {\n    return pos * 96;\n  },\n  \"pt\": function (pos) {\n    return pos * 96 / 72;\n  },\n  \"pc\": function (pos) {\n    return pos * 96 / 6;\n  },\n  \"%\": function (pos, size) {\n    return pos * size / 100;\n  },\n  \"vw\": function (pos, size) {\n    if (size === void 0) {\n      size = window.innerWidth;\n    }\n\n    return pos / 100 * size;\n  },\n  \"vh\": function (pos, size) {\n    if (size === void 0) {\n      size = window.innerHeight;\n    }\n\n    return pos / 100 * size;\n  },\n  \"vmax\": function (pos, size) {\n    if (size === void 0) {\n      size = Math.max(window.innerWidth, window.innerHeight);\n    }\n\n    return pos / 100 * size;\n  },\n  \"vmin\": function (pos, size) {\n    if (size === void 0) {\n      size = Math.min(window.innerWidth, window.innerHeight);\n    }\n\n    return pos / 100 * size;\n  }\n};\n\n/**\n* @namespace\n* @name Utils\n*/\n\n/**\n * Returns the inner product of two numbers(`a1`, `a2`) by two criteria(`b1`, `b2`).\n * @memberof Utils\n * @param - The first number\n * @param - The second number\n * @param - The first number to base on the inner product\n * @param - The second number to base on the inner product\n * @return - Returns the inner product\nimport { dot } from \"@daybrush/utils\";\n\nconsole.log(dot(0, 15, 2, 3)); // 6\nconsole.log(dot(5, 15, 2, 3)); // 9\nconsole.log(dot(5, 15, 1, 1)); // 10\n */\n\nfunction dot(a1, a2, b1, b2) {\n  return (a1 * b2 + a2 * b1) / (b1 + b2);\n}\n/**\n* Check the type that the value is undefined.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {boolean} true if the type is correct, false otherwise\n* @example\nimport {isUndefined} from \"@daybrush/utils\";\n\nconsole.log(isUndefined(undefined)); // true\nconsole.log(isUndefined(\"\")); // false\nconsole.log(isUndefined(1)); // false\nconsole.log(isUndefined(null)); // false\n*/\n\nfunction isUndefined(value) {\n  return typeof value === UNDEFINED;\n}\n/**\n* Check the type that the value is object.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isObject} from \"@daybrush/utils\";\n\nconsole.log(isObject({})); // true\nconsole.log(isObject(undefined)); // false\nconsole.log(isObject(\"\")); // false\nconsole.log(isObject(null)); // false\n*/\n\nfunction isObject(value) {\n  return value && typeof value === OBJECT;\n}\n/**\n* Check the type that the value is isArray.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isArray} from \"@daybrush/utils\";\n\nconsole.log(isArray([])); // true\nconsole.log(isArray({})); // false\nconsole.log(isArray(undefined)); // false\nconsole.log(isArray(null)); // false\n*/\n\nfunction isArray(value) {\n  return Array.isArray(value);\n}\n/**\n* Check the type that the value is string.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isString} from \"@daybrush/utils\";\n\nconsole.log(isString(\"1234\")); // true\nconsole.log(isString(undefined)); // false\nconsole.log(isString(1)); // false\nconsole.log(isString(null)); // false\n*/\n\nfunction isString(value) {\n  return typeof value === STRING;\n}\nfunction isNumber(value) {\n  return typeof value === NUMBER;\n}\n/**\n* Check the type that the value is function.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isFunction} from \"@daybrush/utils\";\n\nconsole.log(isFunction(function a() {})); // true\nconsole.log(isFunction(() => {})); // true\nconsole.log(isFunction(\"1234\")); // false\nconsole.log(isFunction(1)); // false\nconsole.log(isFunction(null)); // false\n*/\n\nfunction isFunction(value) {\n  return typeof value === FUNCTION;\n}\n\nfunction isEqualSeparator(character, separator) {\n  var isCharacterSpace = character === \"\" || character == \" \";\n  var isSeparatorSpace = separator === \"\" || separator == \" \";\n  return isSeparatorSpace && isCharacterSpace || character === separator;\n}\n\nfunction findOpen(openCharacter, texts, index, length, openCloseCharacters) {\n  var isIgnore = findIgnore(openCharacter, texts, index);\n\n  if (!isIgnore) {\n    return findClose(openCharacter, texts, index + 1, length, openCloseCharacters);\n  }\n\n  return index;\n}\n\nfunction findIgnore(character, texts, index) {\n  if (!character.ignore) {\n    return null;\n  }\n\n  var otherText = texts.slice(Math.max(index - 3, 0), index + 3).join(\"\");\n  return new RegExp(character.ignore).exec(otherText);\n}\n\nfunction findClose(closeCharacter, texts, index, length, openCloseCharacters) {\n  var _loop_1 = function (i) {\n    var character = texts[i].trim();\n\n    if (character === closeCharacter.close && !findIgnore(closeCharacter, texts, i)) {\n      return {\n        value: i\n      };\n    }\n\n    var nextIndex = i; // re open\n\n    var openCharacter = find(openCloseCharacters, function (_a) {\n      var open = _a.open;\n      return open === character;\n    });\n\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n    }\n\n    if (nextIndex === -1) {\n      return out_i_1 = i, \"break\";\n    }\n\n    i = nextIndex;\n    out_i_1 = i;\n  };\n\n  var out_i_1;\n\n  for (var i = index; i < length; ++i) {\n    var state_1 = _loop_1(i);\n\n    i = out_i_1;\n    if (typeof state_1 === \"object\") return state_1.value;\n    if (state_1 === \"break\") break;\n  }\n\n  return -1;\n}\n\nfunction splitText(text, splitOptions) {\n  var _a = isString(splitOptions) ? {\n    separator: splitOptions\n  } : splitOptions,\n      _b = _a.separator,\n      separator = _b === void 0 ? \",\" : _b,\n      isSeparateFirst = _a.isSeparateFirst,\n      isSeparateOnlyOpenClose = _a.isSeparateOnlyOpenClose,\n      _c = _a.isSeparateOpenClose,\n      isSeparateOpenClose = _c === void 0 ? isSeparateOnlyOpenClose : _c,\n      _d = _a.openCloseCharacters,\n      openCloseCharacters = _d === void 0 ? OPEN_CLOSED_CHARACTERS : _d;\n\n  var openClosedText = openCloseCharacters.map(function (_a) {\n    var open = _a.open,\n        close = _a.close;\n\n    if (open === close) {\n      return open;\n    }\n\n    return open + \"|\" + close;\n  }).join(\"|\");\n  var regexText = \"(\\\\s*\" + separator + \"\\\\s*|\" + openClosedText + \"|\\\\s+)\";\n  var regex = new RegExp(regexText, \"g\");\n  var texts = text.split(regex).filter(Boolean);\n  var length = texts.length;\n  var values = [];\n  var tempValues = [];\n\n  function resetTemp() {\n    if (tempValues.length) {\n      values.push(tempValues.join(\"\"));\n      tempValues = [];\n      return true;\n    }\n\n    return false;\n  }\n\n  var _loop_2 = function (i) {\n    var character = texts[i].trim();\n    var nextIndex = i;\n    var openCharacter = find(openCloseCharacters, function (_a) {\n      var open = _a.open;\n      return open === character;\n    });\n    var closeCharacter = find(openCloseCharacters, function (_a) {\n      var close = _a.close;\n      return close === character;\n    });\n\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n\n      if (nextIndex !== -1 && isSeparateOpenClose) {\n        if (resetTemp() && isSeparateFirst) {\n          return out_i_2 = i, \"break\";\n        }\n\n        values.push(texts.slice(i, nextIndex + 1).join(\"\"));\n        i = nextIndex;\n\n        if (isSeparateFirst) {\n          return out_i_2 = i, \"break\";\n        }\n\n        return out_i_2 = i, \"continue\";\n      }\n    } else if (closeCharacter && !findIgnore(closeCharacter, texts, i)) {\n      throw new Error(\"invalid format: \" + closeCharacter.close);\n    } else if (isEqualSeparator(character, separator) && !isSeparateOnlyOpenClose) {\n      resetTemp();\n\n      if (isSeparateFirst) {\n        return out_i_2 = i, \"break\";\n      }\n\n      return out_i_2 = i, \"continue\";\n    }\n\n    if (nextIndex === -1) {\n      nextIndex = length - 1;\n    }\n\n    tempValues.push(texts.slice(i, nextIndex + 1).join(\"\"));\n    i = nextIndex;\n    out_i_2 = i;\n  };\n\n  var out_i_2;\n\n  for (var i = 0; i < length; ++i) {\n    var state_2 = _loop_2(i);\n\n    i = out_i_2;\n    if (state_2 === \"break\") break;\n  }\n\n  if (tempValues.length) {\n    values.push(tempValues.join(\"\"));\n  }\n\n  return values;\n}\n/**\n* divide text by space.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {spliceSpace} from \"@daybrush/utils\";\n\nconsole.log(splitSpace(\"a b c d e f g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitSpace(\"'a,b' c 'd,e' f g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\n\nfunction splitSpace(text) {\n  // divide comma(space)\n  return splitText(text, \"\");\n}\n/**\n* divide text by comma.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {splitComma} from \"@daybrush/utils\";\n\nconsole.log(splitComma(\"a,b,c,d,e,f,g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitComma(\"'a,b',c,'d,e',f,g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\n\nfunction splitComma(text) {\n  // divide comma(,)\n  // \"[^\"]*\"|'[^']*'\n  return splitText(text, \",\");\n}\n/**\n* divide text by bracket \"(\", \")\".\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {object} divided texts\n* @example\nimport {splitBracket} from \"@daybrush/utils\";\n\nconsole.log(splitBracket(\"a(1, 2)\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"\"}\nconsole.log(splitBracket(\"a(1, 2)b\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"b\"}\n*/\n\nfunction splitBracket(text) {\n  var matches = /([^(]*)\\(([\\s\\S]*)\\)([\\s\\S]*)/g.exec(text);\n\n  if (!matches || matches.length < 4) {\n    return {};\n  } else {\n    return {\n      prefix: matches[1],\n      value: matches[2],\n      suffix: matches[3]\n    };\n  }\n}\n/**\n* divide text by number and unit.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {} divided texts\n* @example\nimport {splitUnit} from \"@daybrush/utils\";\n\nconsole.log(splitUnit(\"10px\"));\n// {prefix: \"\", value: 10, unit: \"px\"}\nconsole.log(splitUnit(\"-10px\"));\n// {prefix: \"\", value: -10, unit: \"px\"}\nconsole.log(splitUnit(\"a10%\"));\n// {prefix: \"a\", value: 10, unit: \"%\"}\n*/\n\nfunction splitUnit(text) {\n  var matches = /^([^\\d|e|\\-|\\+]*)((?:\\d|\\.|-|e-|e\\+)+)(\\S*)$/g.exec(text);\n\n  if (!matches) {\n    return {\n      prefix: \"\",\n      unit: \"\",\n      value: NaN\n    };\n  }\n\n  var prefix = matches[1];\n  var value = matches[2];\n  var unit = matches[3];\n  return {\n    prefix: prefix,\n    unit: unit,\n    value: parseFloat(value)\n  };\n}\n/**\n* transform strings to camel-case\n* @memberof Utils\n* @param {String} text - string\n* @return {String} camel-case string\n* @example\nimport {camelize} from \"@daybrush/utils\";\n\nconsole.log(camelize(\"transform-origin\")); // transformOrigin\nconsole.log(camelize(\"abcd_efg\")); // abcdEfg\nconsole.log(camelize(\"abcd efg\")); // abcdEfg\n*/\n\nfunction camelize(str) {\n  return str.replace(/[\\s-_]([a-z])/g, function (all, letter) {\n    return letter.toUpperCase();\n  });\n}\n/**\n* transform a camelized string into a lowercased string.\n* @memberof Utils\n* @param {string} text - a camel-cased string\n* @param {string} [separator=\"-\"] - a separator\n* @return {string}  a lowercased string\n* @example\nimport {decamelize} from \"@daybrush/utils\";\n\nconsole.log(decamelize(\"transformOrigin\")); // transform-origin\nconsole.log(decamelize(\"abcdEfg\", \"_\")); // abcd_efg\n*/\n\nfunction decamelize(str, separator) {\n  if (separator === void 0) {\n    separator = \"-\";\n  }\n\n  return str.replace(/([a-z])([A-Z])/g, function (all, letter, letter2) {\n    return \"\" + letter + separator + letter2.toLowerCase();\n  });\n}\n/**\n* transforms something in an array into an array.\n* @memberof Utils\n* @param - Array form\n* @return an array\n* @example\nimport {toArray} from \"@daybrush/utils\";\n\nconst arr1 = toArray(document.querySelectorAll(\".a\")); // Element[]\nconst arr2 = toArray(document.querySelectorAll<HTMLElement>(\".a\")); // HTMLElement[]\n*/\n\nfunction toArray(value) {\n  return [].slice.call(value);\n}\n/**\n* Date.now() method\n* @memberof CrossBrowser\n* @return {number} milliseconds\n* @example\nimport {now} from \"@daybrush/utils\";\n\nconsole.log(now()); // 12121324241(milliseconds)\n*/\n\nfunction now() {\n  return Date.now ? Date.now() : new Date().getTime();\n}\n/**\n* Returns the index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findIndex } from \"@daybrush/utils\";\n\nfindIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\n\nfunction findIndex(arr, callback, defaultIndex) {\n  if (defaultIndex === void 0) {\n    defaultIndex = -1;\n  }\n\n  var length = arr.length;\n\n  for (var i = 0; i < length; ++i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n\n  return defaultIndex;\n}\n/**\n* Returns the reverse direction index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLastIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findLastIndex } from \"@daybrush/utils\";\n\nfindLastIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\n\nfunction findLastIndex(arr, callback, defaultIndex) {\n  if (defaultIndex === void 0) {\n    defaultIndex = -1;\n  }\n\n  var length = arr.length;\n\n  for (var i = length - 1; i >= 0; --i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n\n  return defaultIndex;\n}\n/**\n* Returns the value of the reverse direction element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLast` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\n\nfunction findLast(arr, callback, defalutValue) {\n  var index = findLastIndex(arr, callback);\n  return index > -1 ? arr[index] : defalutValue;\n}\n/**\n* Returns the value of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `find` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\n\nfunction find(arr, callback, defalutValue) {\n  var index = findIndex(arr, callback);\n  return index > -1 ? arr[index] : defalutValue;\n}\n/**\n* window.requestAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {FrameRequestCallback} callback - The function to call when it's time to update your animation for the next repaint.\n* @return {number} id\n* @example\nimport {requestAnimationFrame} from \"@daybrush/utils\";\n\nrequestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n*/\n\nvar requestAnimationFrame = /*#__PURE__*/function () {\n  var firstTime = now();\n  var raf = IS_WINDOW && (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame);\n  return raf ? raf.bind(window) : function (callback) {\n    var currTime = now();\n    var id = window.setTimeout(function () {\n      callback(currTime - firstTime);\n    }, 1000 / 60);\n    return id;\n  };\n}();\n/**\n* window.cancelAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {number} handle - the id obtained through requestAnimationFrame method\n* @return {void}\n* @example\nimport { requestAnimationFrame, cancelAnimationFrame } from \"@daybrush/utils\";\n\nconst id = requestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n\ncancelAnimationFrame(id);\n*/\n\nvar cancelAnimationFrame = /*#__PURE__*/function () {\n  var caf = IS_WINDOW && (window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.msCancelAnimationFrame);\n  return caf ? caf.bind(window) : function (handle) {\n    clearTimeout(handle);\n  };\n}();\n/**\n* @function\n* @memberof Utils\n*/\n\nfunction getKeys(obj) {\n  if (Object.keys) {\n    return Object.keys(obj);\n  }\n\n  var keys = [];\n\n  for (var name in keys) {\n    keys.push(name);\n  }\n\n  return keys;\n}\n/**\n* @function\n* @memberof Utils\n*/\n\nfunction sortOrders(keys, orders) {\n  if (orders === void 0) {\n    orders = [];\n  }\n\n  keys.sort(function (a, b) {\n    var index1 = orders.indexOf(a);\n    var index2 = orders.indexOf(b);\n\n    if (index2 === -1 && index1 === -1) {\n      return 0;\n    }\n\n    if (index1 === -1) {\n      return 1;\n    }\n\n    if (index2 === -1) {\n      return -1;\n    }\n\n    return index1 - index2;\n  });\n}\n/**\n* convert unit size to px size\n* @function\n* @memberof Utils\n*/\n\nfunction convertUnitSize(pos, size) {\n  var _a = splitUnit(pos),\n      value = _a.value,\n      unit = _a.unit;\n\n  if (isObject(size)) {\n    var sizeFunction = size[unit];\n\n    if (sizeFunction) {\n      if (isFunction(sizeFunction)) {\n        return sizeFunction(value);\n      } else if (DEFAULT_UNIT_PRESETS[unit]) {\n        return DEFAULT_UNIT_PRESETS[unit](value, sizeFunction);\n      }\n    }\n  } else if (unit === \"%\") {\n    return value * size / 100;\n  }\n\n  if (DEFAULT_UNIT_PRESETS[unit]) {\n    return DEFAULT_UNIT_PRESETS[unit](value);\n  }\n\n  return value;\n}\n/**\n* calculate between min, max\n* @function\n* @memberof Utils\n*/\n\nfunction between(value, min, max) {\n  return Math.max(min, Math.min(value, max));\n}\nfunction checkBoundSize(targetSize, compareSize, isMax) {\n  return [[throttle(compareSize[0], TINY_NUM), throttle(compareSize[0] * targetSize[1] / targetSize[0], TINY_NUM)], [throttle(compareSize[1] * targetSize[0] / targetSize[1], TINY_NUM), throttle(compareSize[1], TINY_NUM)]].filter(function (size) {\n    return size.every(function (value, i) {\n      return isMax ? value <= compareSize[i] : value >= compareSize[i];\n    });\n  })[0] || targetSize;\n}\n/**\n* calculate bound size\n* @function\n* @memberof Utils\n*/\n\nfunction calculateBoundSize(size, minSize, maxSize, keepRatio) {\n  if (!keepRatio) {\n    return size.map(function (value, i) {\n      return between(value, minSize[i], maxSize[i]);\n    });\n  }\n\n  var width = size[0],\n      height = size[1]; // width : height = minWidth : minHeight;\n\n  var _a = checkBoundSize(size, minSize, false),\n      minWidth = _a[0],\n      minHeight = _a[1];\n\n  var _b = checkBoundSize(size, maxSize, true),\n      maxWidth = _b[0],\n      maxHeight = _b[1];\n\n  if (width < minWidth || height < minHeight) {\n    width = minWidth;\n    height = minHeight;\n  } else if (width > maxWidth || height > maxHeight) {\n    width = maxWidth;\n    height = maxHeight;\n  }\n\n  return [width, height];\n}\n/**\n* Add all the numbers.\n* @function\n* @memberof Utils\n*/\n\nfunction sum(nums) {\n  var length = nums.length;\n  var total = 0;\n\n  for (var i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n\n  return total;\n}\n/**\n* Average all numbers.\n* @function\n* @memberof Utils\n*/\n\nfunction average(nums) {\n  var length = nums.length;\n  var total = 0;\n\n  for (var i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n\n  return length ? total / length : 0;\n}\n/**\n* Get the angle of two points. (0 <= rad < 359)\n* @function\n* @memberof Utils\n*/\n\nfunction getRad(pos1, pos2) {\n  var distX = pos2[0] - pos1[0];\n  var distY = pos2[1] - pos1[1];\n  var rad = Math.atan2(distY, distX);\n  return rad >= 0 ? rad : rad + Math.PI * 2;\n}\n/**\n* Get the average point of all points.\n* @function\n* @memberof Utils\n*/\n\nfunction getCenterPoint(points) {\n  return [0, 1].map(function (i) {\n    return average(points.map(function (pos) {\n      return pos[i];\n    }));\n  });\n}\n/**\n* Gets the direction of the shape.\n* @function\n* @memberof Utils\n*/\n\nfunction getShapeDirection(points) {\n  var center = getCenterPoint(points);\n  var pos1Rad = getRad(center, points[0]);\n  var pos2Rad = getRad(center, points[1]);\n  return pos1Rad < pos2Rad && pos2Rad - pos1Rad < Math.PI || pos1Rad > pos2Rad && pos2Rad - pos1Rad < -Math.PI ? 1 : -1;\n}\n/**\n* Get the distance between two points.\n* @function\n* @memberof Utils\n*/\n\nfunction getDist(a, b) {\n  return Math.sqrt(Math.pow((b ? b[0] : 0) - a[0], 2) + Math.pow((b ? b[1] : 0) - a[1], 2));\n}\n/**\n* throttle number depending on the unit.\n* @function\n* @memberof Utils\n*/\n\nfunction throttle(num, unit) {\n  if (!unit) {\n    return num;\n  }\n\n  return Math.round(num / unit) * unit;\n}\n/**\n* throttle number array depending on the unit.\n* @function\n* @memberof Utils\n*/\n\nfunction throttleArray(nums, unit) {\n  nums.forEach(function (_, i) {\n    nums[i] = throttle(nums[i], unit);\n  });\n  return nums;\n}\n/**\n* @function\n* @memberof Utils\n*/\n\nfunction counter(num) {\n  var nums = [];\n\n  for (var i = 0; i < num; ++i) {\n    nums.push(i);\n  }\n\n  return nums;\n}\n/**\n* @function\n* @memberof Utils\n*/\n\nfunction replaceOnce(text, fromText, toText) {\n  var isOnce = false;\n  return text.replace(fromText, function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    if (isOnce) {\n      return args[0];\n    }\n\n    isOnce = true;\n    return isString(toText) ? toText : toText.apply(void 0, args);\n  });\n}\n\n/**\n* @namespace\n* @name Color\n*/\n\n/**\n* Remove the # from the hex color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} hex color\n* @example\nimport {cutHex} from \"@daybrush/utils\";\n\nconsole.log(cutHex(\"#000000\")) // \"000000\"\n*/\n\nfunction cutHex(hex) {\n  return hex.replace(\"#\", \"\");\n}\n/**\n* convert hex color to rgb color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} rgb color\n* @example\nimport {hexToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hexToRGBA(\"#00000005\"));\n// [0, 0, 0, 1]\nconsole.log(hexToRGBA(\"#201045\"));\n// [32, 16, 69, 1]\n*/\n\nfunction hexToRGBA(hex) {\n  var h = cutHex(hex);\n  var r = parseInt(h.substring(0, 2), 16);\n  var g = parseInt(h.substring(2, 4), 16);\n  var b = parseInt(h.substring(4, 6), 16);\n  var a = parseInt(h.substring(6, 8), 16) / 255;\n\n  if (isNaN(a)) {\n    a = 1;\n  }\n\n  return [r, g, b, a];\n}\n/**\n* convert 3(or 4)-digit hex color to 6(or 8)-digit hex color.\n* @memberof Color\n* @param {} hex - 3(or 4)-digit hex color\n* @return {} 6(or 8)-digit hex color\n* @example\nimport {toFullHex} from \"@daybrush/utils\";\n\nconsole.log(toFullHex(\"#123\")); // \"#112233\"\nconsole.log(toFullHex(\"#123a\")); // \"#112233aa\"\n*/\n\nfunction toFullHex(h) {\n  var r = h.charAt(1);\n  var g = h.charAt(2);\n  var b = h.charAt(3);\n  var a = h.charAt(4);\n  var arr = [\"#\", r, r, g, g, b, b, a, a];\n  return arr.join(\"\");\n}\n/**\n* convert hsl color to rgba color.\n* @memberof Color\n* @param {} hsl - hsl color(hue: 0 ~ 360, saturation: 0 ~ 1, lightness: 0 ~ 1, alpha: 0 ~ 1)\n* @return {} rgba color\n* @example\nimport {hslToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hslToRGBA([150, 0.5, 0.4]));\n// [51, 153, 102, 1]\n*/\n\nfunction hslToRGBA(hsl) {\n  var _a;\n\n  var h = hsl[0];\n  var s = hsl[1];\n  var l = hsl[2];\n\n  if (h < 0) {\n    h += Math.floor((Math.abs(h) + 360) / 360) * 360;\n  }\n\n  h %= 360;\n  var c = (1 - Math.abs(2 * l - 1)) * s;\n  var x = c * (1 - Math.abs(h / 60 % 2 - 1));\n  var m = l - c / 2;\n  var rgb;\n\n  if (h < 60) {\n    rgb = [c, x, 0];\n  } else if (h < 120) {\n    rgb = [x, c, 0];\n  } else if (h < 180) {\n    rgb = [0, c, x];\n  } else if (h < 240) {\n    rgb = [0, x, c];\n  } else if (h < 300) {\n    rgb = [x, 0, c];\n  } else if (h < 360) {\n    rgb = [c, 0, x];\n  } else {\n    rgb = [0, 0, 0];\n  }\n\n  return [Math.round((rgb[0] + m) * 255), Math.round((rgb[1] + m) * 255), Math.round((rgb[2] + m) * 255), (_a = hsl[3]) !== null && _a !== void 0 ? _a : 1];\n}\n/**\n* convert string to rgba color.\n* @memberof Color\n* @param {} - 3-hex(#000), 4-hex(#0000) 6-hex(#000000), 8-hex(#00000000) or RGB(A), or HSL(A)\n* @return {} rgba color\n* @example\nimport {stringToRGBA} from \"@daybrush/utils\";\n\nconsole.log(stringToRGBA(\"#000000\")); // [0, 0, 0, 1]\nconsole.log(stringToRGBA(\"rgb(100, 100, 100)\")); // [100, 100, 100, 1]\nconsole.log(stringToRGBA(\"hsl(150, 0.5, 0.4)\")); // [51, 153, 102, 1]\n*/\n\nfunction stringToRGBA(color) {\n  if (color.charAt(0) === \"#\") {\n    if (color.length === 4 || color.length === 5) {\n      return hexToRGBA(toFullHex(color));\n    } else {\n      return hexToRGBA(color);\n    }\n  } else if (color.indexOf(\"(\") !== -1) {\n    // in bracket.\n    var _a = splitBracket(color),\n        prefix = _a.prefix,\n        value = _a.value;\n\n    if (!prefix || !value) {\n      return undefined;\n    }\n\n    var arr = splitComma(value);\n    var colorArr = [0, 0, 0, 1];\n    var length = arr.length;\n\n    switch (prefix) {\n      case RGB:\n      case RGBA:\n        for (var i = 0; i < length; ++i) {\n          colorArr[i] = parseFloat(arr[i]);\n        }\n\n        return colorArr;\n\n      case HSL:\n      case HSLA:\n        for (var i = 0; i < length; ++i) {\n          if (arr[i].indexOf(\"%\") !== -1) {\n            colorArr[i] = parseFloat(arr[i]) / 100;\n          } else {\n            colorArr[i] = parseFloat(arr[i]);\n          }\n        } // hsl, hsla to rgba\n\n\n        return hslToRGBA(colorArr);\n    }\n  }\n\n  return undefined;\n}\n\n/**\n * Returns all element descendants of node that\n * match selectors.\n */\n\n/**\n * Checks if the specified class value exists in the element's class attribute.\n * @memberof DOM\n * @param - A DOMString containing one or more selectors to match\n * @param - If multi is true, a DOMString containing one or more selectors to match against.\n * @example\nimport {$} from \"@daybrush/utils\";\n\nconsole.log($(\"div\")); // div element\nconsole.log($(\"div\", true)); // [div, div] elements\n*/\n\nfunction $(selectors, multi) {\n  return multi ? doc.querySelectorAll(selectors) : doc.querySelector(selectors);\n}\n/**\n* Checks if the specified class value exists in the element's class attribute.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to search\n* @return {boolean} return false if the class is not found.\n* @example\nimport {hasClass} from \"@daybrush/utils\";\n\nconsole.log(hasClass(element, \"start\")); // true or false\n*/\n\nfunction hasClass(element, className) {\n  if (element.classList) {\n    return element.classList.contains(className);\n  }\n\n  return !!element.className.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n}\n/**\n* Add the specified class value. If these classe already exist in the element's class attribute they are ignored.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to add\n* @example\nimport {addClass} from \"@daybrush/utils\";\n\naddClass(element, \"start\");\n*/\n\nfunction addClass(element, className) {\n  if (element.classList) {\n    element.classList.add(className);\n  } else {\n    element.className += \" \" + className;\n  }\n}\n/**\n* Removes the specified class value.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to remove\n* @example\nimport {removeClass} from \"@daybrush/utils\";\n\nremoveClass(element, \"start\");\n*/\n\nfunction removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else {\n    var reg = new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\");\n    element.className = element.className.replace(reg, \" \");\n  }\n}\n/**\n* Gets the CSS properties from the element.\n* @memberof DOM\n* @param elements - elements\n* @param properites - the CSS properties\n* @return returns CSS properties and values.\n* @example\nimport {fromCSS} from \"@daybrush/utils\";\n\nconsole.log(fromCSS(element, [\"left\", \"opacity\", \"top\"])); // {\"left\": \"10px\", \"opacity\": 1, \"top\": \"10px\"}\n*/\n\nfunction fromCSS(elements, properties) {\n  if (!elements || !properties || !properties.length) {\n    return {};\n  }\n\n  var element;\n\n  if (elements instanceof Element) {\n    element = elements;\n  } else if (elements.length) {\n    element = elements[0];\n  } else {\n    return {};\n  }\n\n  var cssObject = {};\n  var styles = window.getComputedStyle(element);\n  var length = properties.length;\n\n  for (var i = 0; i < length; ++i) {\n    cssObject[properties[i]] = styles[properties[i]];\n  }\n\n  return cssObject;\n}\n/**\n* Sets up a function that will be called whenever the specified event is delivered to the target\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The object which receives a notification (an object that implements the Event interface) when an event of the specified type occurs\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent} from \"@daybrush/utils\";\n\naddEvent(el, \"click\", e => {\n  console.log(e);\n});\n*/\n\nfunction addEvent(el, type, listener, options) {\n  el.addEventListener(type, listener, options);\n}\n/**\n* removes from the EventTarget an event listener previously registered with EventTarget.addEventListener()\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The EventListener function of the event handler to remove from the event target.\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent, removeEvent} from \"@daybrush/utils\";\nconst listener = e => {\n  console.log(e);\n};\naddEvent(el, \"click\", listener);\nremoveEvent(el, \"click\", listener);\n*/\n\nfunction removeEvent(el, type, listener, options) {\n  el.removeEventListener(type, listener, options);\n}\n\nexport { RGB, RGBA, HSL, HSLA, COLOR_MODELS, FUNCTION, PROPERTY, ARRAY, OBJECT, STRING, NUMBER, UNDEFINED, IS_WINDOW, doc as document, getCrossBrowserProperty, TRANSFORM, FILTER, ANIMATION, KEYFRAMES, OPEN_CLOSED_CHARACTERS, TINY_NUM, DEFAULT_UNIT_PRESETS, cutHex, hexToRGBA, toFullHex, hslToRGBA, stringToRGBA, dot, isUndefined, isObject, isArray, isString, isNumber, isFunction, splitText, splitSpace, splitComma, splitBracket, splitUnit, camelize, decamelize, toArray, now, findIndex, findLastIndex, findLast, find, requestAnimationFrame, cancelAnimationFrame, getKeys, sortOrders, convertUnitSize, between, checkBoundSize, calculateBoundSize, sum, average, getRad, getCenterPoint, getShapeDirection, getDist, throttle, throttleArray, counter, replaceOnce, $, hasClass, addClass, removeClass, fromCSS, addEvent, removeEvent };\n//# sourceMappingURL=utils.esm.js.map\n","/*\nCopyright (c) Daybrush\nname: react-simple-compat\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/react-simple-compat.git\nversion: 1.2.2\n*/\nimport { diff } from '@egjs/list-differ';\nimport { isArray, isString, isNumber, isUndefined, decamelize } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\nfunction isDiff(a, b) {\n  if (a === b) {\n    return false;\n  }\n\n  for (var i in a) {\n    if (!(i in b)) {\n      return true;\n    }\n  }\n\n  for (var i in b) {\n    if (a[i] !== b[i]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction diffObject(a, b) {\n  var keys1 = Object.keys(a);\n  var keys2 = Object.keys(b);\n  var result = diff(keys1, keys2, function (key) {\n    return key;\n  });\n  var added = {};\n  var removed = {};\n  var changed = {};\n  result.added.forEach(function (index) {\n    var name = keys2[index];\n    added[name] = b[name];\n  });\n  result.removed.forEach(function (index) {\n    var name = keys1[index];\n    removed[name] = a[name];\n  });\n  result.maintained.forEach(function (_a) {\n    var index = _a[0];\n    var name = keys1[index];\n    var values = [a[name], b[name]];\n\n    if (a[name] !== b[name]) {\n      changed[name] = values;\n    }\n  });\n  return {\n    added: added,\n    removed: removed,\n    changed: changed\n  };\n}\n\nfunction executeHooks(hooks) {\n  hooks.forEach(function (hook) {\n    hook();\n  });\n}\n\nfunction fillKeys(keys) {\n  var index = 0;\n  return keys.map(function (key) {\n    return key == null ? \"$compat\" + ++index : \"\" + key;\n  });\n}\n\nfunction createProvider(el, key, index, container) {\n  if (isString(el) || isNumber(el)) {\n    return new TextProvider(\"text_\" + el, key, index, container, null, {});\n  }\n\n  var providerClass = typeof el.type === \"string\" ? ElementProvider : el.type.prototype.render ? ComponentProvider : FunctionProvider;\n  return new providerClass(el.type, key, index, container, el.ref, el.props);\n}\n\nfunction flat(arr) {\n  var arr2 = [];\n  arr.forEach(function (el) {\n    arr2 = arr2.concat(isArray(el) ? flat(el) : el);\n  });\n  return arr2;\n}\n\nfunction getAttributes(props) {\n  var className = props.className,\n      otherProps = __rest(props, [\"className\"]);\n\n  if (className != null) {\n    otherProps.class = className;\n  }\n\n  delete otherProps.style;\n  delete otherProps.children;\n  return otherProps;\n}\n\nfunction fillProps(props, defaultProps) {\n  if (!defaultProps) {\n    return props;\n  }\n\n  for (var name in defaultProps) {\n    if (isUndefined(props[name])) {\n      props[name] = defaultProps[name];\n    }\n  }\n\n  return props;\n}\n\nfunction createElement(type, props) {\n  var children = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    children[_i - 2] = arguments[_i];\n  }\n\n  var _a = props || {},\n      key = _a.key,\n      ref = _a.ref,\n      otherProps = __rest(_a, [\"key\", \"ref\"]);\n\n  return {\n    type: type,\n    key: key,\n    ref: ref,\n    props: __assign(__assign({}, otherProps), {\n      children: flat(children).filter(function (child) {\n        return child != null && child !== false;\n      })\n    })\n  };\n}\n\nvar Provider =\n/*#__PURE__*/\nfunction () {\n  function Provider(type, key, index, container, ref, props) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    this.type = type;\n    this.key = key;\n    this.index = index;\n    this.container = container;\n    this.ref = ref;\n    this.props = props;\n    this._providers = [];\n  }\n\n  var __proto = Provider.prototype;\n\n  __proto._should = function (nextProps, nextState) {\n    return true;\n  };\n\n  __proto._update = function (hooks, nextElement, nextState, isForceUpdate) {\n    if (this.base && !isString(nextElement) && !isForceUpdate && !this._should(nextElement.props, nextState)) {\n      return false;\n    }\n\n    this.original = nextElement;\n\n    this._setState(nextState); // render\n\n\n    var prevProps = this.props;\n\n    if (!isString(nextElement)) {\n      this.props = nextElement.props;\n      this.ref = nextElement.ref;\n    }\n\n    this._render(hooks, this.base ? prevProps : {}, nextState);\n\n    return true;\n  };\n\n  __proto._mounted = function () {\n    var ref = this.ref;\n    ref && ref(this.base);\n  };\n\n  __proto._setState = function (nextstate) {\n    return;\n  };\n\n  __proto._updated = function () {\n    var ref = this.ref;\n    ref && ref(this.base);\n  };\n\n  __proto._destroy = function () {\n    var ref = this.ref;\n    ref && ref(null);\n  };\n\n  return Provider;\n}();\n\nfunction diffAttributes(attrs1, attrs2, el) {\n  var _a = diffObject(attrs1, attrs2),\n      added = _a.added,\n      removed = _a.removed,\n      changed = _a.changed;\n\n  for (var name in added) {\n    el.setAttribute(name, added[name]);\n  }\n\n  for (var name in changed) {\n    el.setAttribute(name, changed[name][1]);\n  }\n\n  for (var name in removed) {\n    el.removeAttribute(name);\n  }\n}\n\nfunction diffEvents(events1, events2, provier) {\n  var _a = diffObject(events1, events2),\n      added = _a.added,\n      removed = _a.removed,\n      changed = _a.changed;\n\n  for (var name in removed) {\n    provier.removeEventListener(name);\n  }\n\n  for (var name in added) {\n    provier.addEventListener(name, added[name]);\n  }\n\n  for (var name in changed) {\n    provier.removeEventListener(name);\n    provier.addEventListener(name, changed[name][1]);\n  }\n\n  for (var name in removed) {\n    provier.removeEventListener(name);\n  }\n}\n\nfunction diffStyle(style1, style2, el) {\n  var style = el.style;\n\n  var _a = diffObject(style1, style2),\n      added = _a.added,\n      removed = _a.removed,\n      changed = _a.changed;\n\n  for (var beforeName in added) {\n    var name = decamelize(beforeName, \"-\");\n\n    if (style.setProperty) {\n      style.setProperty(name, added[beforeName]);\n    } else {\n      style[name] = added[beforeName];\n    }\n  }\n\n  for (var beforeName in changed) {\n    var name = decamelize(beforeName, \"-\");\n\n    if (style.setProperty) {\n      style.setProperty(name, changed[beforeName][1]);\n    } else {\n      style[name] = changed[beforeName][1];\n    }\n  }\n\n  for (var beforeName in removed) {\n    var name = decamelize(beforeName, \"-\");\n\n    if (style.removeProperty) {\n      style.removeProperty(name);\n    } else {\n      style[name] = \"\";\n    }\n  }\n}\n\nfunction splitProps(props) {\n  var attributes = {};\n  var events = {};\n\n  for (var name in props) {\n    if (name.indexOf(\"on\") === 0) {\n      events[name.replace(\"on\", \"\").toLowerCase()] = props[name];\n    } else {\n      attributes[name] = props[name];\n    }\n  }\n\n  return {\n    attributes: attributes,\n    events: events\n  };\n}\n\nvar TextProvider =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(TextProvider, _super);\n\n  function TextProvider() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = TextProvider.prototype;\n\n  __proto._render = function (hooks) {\n    var _this = this;\n\n    var isMount = !this.base;\n\n    if (isMount) {\n      this.base = document.createTextNode(this.type.replace(\"text_\", \"\"));\n    }\n\n    hooks.push(function () {\n      if (isMount) {\n        _this._mounted();\n      } else {\n        _this._updated();\n      }\n    });\n    return true;\n  };\n\n  __proto._unmount = function () {\n    this.base.parentNode.removeChild(this.base);\n  };\n\n  return TextProvider;\n}(Provider);\n\nvar ElementProvider =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ElementProvider, _super);\n\n  function ElementProvider() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.events = {};\n    _this._isSVG = false;\n    return _this;\n  }\n\n  var __proto = ElementProvider.prototype;\n\n  __proto.addEventListener = function (name, callback) {\n    var events = this.events;\n\n    events[name] = function (e) {\n      e.nativeEvent = e;\n      callback(e);\n    };\n\n    this.base.addEventListener(name, events[name]);\n  };\n\n  __proto.removeEventListener = function (name) {\n    var events = this.events;\n    this.base.removeEventListener(name, events[name]);\n    delete events[name];\n  };\n\n  __proto._should = function (nextProps) {\n    return isDiff(this.props, nextProps);\n  };\n\n  __proto._render = function (hooks, prevProps) {\n    var _this = this;\n\n    var isMount = !this.base;\n\n    if (isMount) {\n      var isSVG = this._hasSVG();\n\n      this._isSVG = isSVG;\n      var element = this.props.portalContainer;\n\n      if (!element) {\n        var type = this.type;\n\n        if (isSVG) {\n          element = document.createElementNS(\"http://www.w3.org/2000/svg\", type);\n        } else {\n          element = document.createElement(type);\n        }\n      }\n\n      this.base = element;\n    }\n\n    renderProviders(this, this._providers, this.props.children, hooks, null);\n    var base = this.base;\n\n    var _a = splitProps(prevProps),\n        prevAttributes = _a.attributes,\n        prevEvents = _a.events;\n\n    var _b = splitProps(this.props),\n        nextAttributes = _b.attributes,\n        nextEvents = _b.events;\n\n    diffAttributes(getAttributes(prevAttributes), getAttributes(nextAttributes), base);\n    diffEvents(prevEvents, nextEvents, this);\n    diffStyle(prevProps.style || {}, this.props.style || {}, base);\n    hooks.push(function () {\n      if (isMount) {\n        _this._mounted();\n      } else {\n        _this._updated();\n      }\n    });\n    return true;\n  };\n\n  __proto._unmount = function () {\n    var events = this.events;\n    var base = this.base;\n\n    for (var name in events) {\n      base.removeEventListener(name, events[name]);\n    }\n\n    this._providers.forEach(function (provider) {\n      provider._unmount();\n    });\n\n    this.events = {};\n\n    if (!this.props.portalContainer) {\n      base.parentNode.removeChild(base);\n    }\n  };\n\n  __proto._hasSVG = function () {\n    if (this._isSVG || this.type === \"svg\") {\n      return true;\n    }\n\n    var containerNode = findContainerNode(this.container);\n    return containerNode && \"ownerSVGElement\" in containerNode;\n  };\n\n  return ElementProvider;\n}(Provider);\n\nfunction findContainerNode(provider) {\n  if (!provider) {\n    return null;\n  }\n\n  var base = provider.base;\n\n  if (base instanceof Node) {\n    return base;\n  }\n\n  return findContainerNode(provider.container);\n}\n\nfunction findDOMNode(comp) {\n  if (!comp) {\n    return null;\n  }\n\n  if (comp instanceof Node) {\n    return comp;\n  }\n\n  var providers = comp.$_provider._providers;\n\n  if (!providers.length) {\n    return null;\n  }\n\n  return findDOMNode(providers[0].base);\n}\n\nvar FunctionProvider =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(FunctionProvider, _super);\n\n  function FunctionProvider() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = FunctionProvider.prototype;\n\n  __proto._render = function (hooks) {\n    var template = this.type(this.props);\n    renderProviders(this, this._providers, template ? [template] : [], hooks);\n    return true;\n  };\n\n  __proto._unmount = function () {\n    this._providers.forEach(function (provider) {\n      provider._unmount();\n    });\n  };\n\n  return FunctionProvider;\n}(Provider);\n\nvar ContainerProvider =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ContainerProvider, _super);\n\n  function ContainerProvider(base) {\n    var _this = _super.call(this, \"container\", \"container\", 0, null) || this;\n\n    _this.base = base;\n    return _this;\n  }\n\n  var __proto = ContainerProvider.prototype;\n\n  __proto._render = function () {\n    return true;\n  };\n\n  __proto._unmount = function () {\n    return;\n  };\n\n  return ContainerProvider;\n}(Provider);\n\nvar ComponentProvider =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ComponentProvider, _super);\n\n  function ComponentProvider(type, key, index, container, ref, props) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    return _super.call(this, type, key, index, container, ref, fillProps(props, type.defaultProps)) || this;\n  }\n\n  var __proto = ComponentProvider.prototype;\n\n  __proto._should = function (nextProps, nextState) {\n    return this.base.shouldComponentUpdate(fillProps(nextProps, this.type.defaultProps), nextState || this.base.state);\n  };\n\n  __proto._render = function (hooks, prevProps, nextState) {\n    var _this = this;\n\n    this.props = fillProps(this.props, this.type.defaultProps);\n    var isMount = !this.base;\n\n    if (isMount) {\n      this.base = new this.type(this.props);\n      this.base.$_provider = this;\n    } else {\n      this.base.props = this.props;\n    }\n\n    var base = this.base;\n    var prevState = base.state;\n    var template = base.render();\n\n    if (template && template.props && !template.props.children.length) {\n      template.props.children = this.props.children;\n    }\n\n    renderProviders(this, this._providers, template ? [template] : [], hooks, nextState, null);\n    hooks.push(function () {\n      if (isMount) {\n        _this._mounted();\n\n        base.componentDidMount();\n      } else {\n        _this._updated();\n\n        base.componentDidUpdate(prevProps, prevState);\n      }\n    });\n  };\n\n  __proto._setState = function (nextState) {\n    var base = this.base;\n\n    if (!base || !nextState) {\n      return;\n    }\n\n    base.state = nextState;\n  };\n\n  __proto._unmount = function () {\n    this._providers.forEach(function (provider) {\n      provider._unmount();\n    });\n\n    clearTimeout(this.base.$_timer);\n    this.base.componentWillUnmount();\n  };\n\n  return ComponentProvider;\n}(Provider);\n\nvar Component =\n/*#__PURE__*/\nfunction () {\n  function Component(props) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    this.props = props;\n    this.state = {};\n    this.$_timer = 0;\n    this.$_state = {};\n  }\n\n  var __proto = Component.prototype;\n\n  __proto.shouldComponentUpdate = function (props, state) {\n    return true;\n  };\n\n  __proto.render = function () {\n    return null;\n  };\n\n  __proto.setState = function (state, callback, isForceUpdate) {\n    var _this = this;\n\n    if (!this.$_timer) {\n      this.$_state = {};\n    }\n\n    clearTimeout(this.$_timer);\n    this.$_timer = 0;\n    this.$_state = __assign(__assign({}, this.$_state), state);\n\n    if (!isForceUpdate) {\n      this.$_timer = setTimeout(function () {\n        _this.$_timer = 0;\n\n        _this.$_setState(callback, isForceUpdate);\n      });\n    } else {\n      this.$_setState(callback, isForceUpdate);\n    }\n\n    return;\n  };\n\n  __proto.forceUpdate = function (callback) {\n    this.setState({}, callback, true);\n  };\n\n  __proto.componentDidMount = function () {};\n\n  __proto.componentDidUpdate = function (prevProps, prevState) {};\n\n  __proto.componentWillUnmount = function () {};\n\n  __proto.$_setState = function (callback, isForceUpdate) {\n    var hooks = [];\n    var provider = this.$_provider;\n    var isUpdate = renderProviders(provider.container, [provider], [provider.original], hooks, __assign(__assign({}, this.state), this.$_state), isForceUpdate);\n\n    if (isUpdate) {\n      if (callback) {\n        hooks.push(callback);\n      }\n\n      executeHooks(hooks);\n    }\n  };\n\n  return Component;\n}();\n\nvar PureComponent =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(PureComponent, _super);\n\n  function PureComponent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = PureComponent.prototype;\n\n  __proto.shouldComponentUpdate = function (props, state) {\n    return isDiff(this.props, props) || isDiff(this.state, state);\n  };\n\n  return PureComponent;\n}(Component);\n\nvar _Portal =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(_Portal, _super);\n\n  function _Portal() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = _Portal.prototype;\n\n  __proto.componentDidMount = function () {\n    var _a = this.props,\n        element = _a.element,\n        container = _a.container;\n    this._portalProvider = new ContainerProvider(container);\n    renderProvider(element, container, this._portalProvider);\n  };\n\n  __proto.componentDidUpdate = function () {\n    var _a = this.props,\n        element = _a.element,\n        container = _a.container;\n    renderProvider(element, container, this._portalProvider);\n  };\n\n  __proto.componentWillUnmount = function () {\n    var container = this.props.container;\n    renderProvider(null, container, this._portalProvider);\n    this._portalProvider = null;\n  };\n\n  return _Portal;\n}(PureComponent);\n\nfunction updateProvider(provider, children, nextState) {\n  var hooks = [];\n  renderProviders(provider, provider._providers, children, hooks, nextState);\n  executeHooks(hooks);\n}\n\nfunction getNextSibiling(provider, childProvider) {\n  var childProviders = provider._providers;\n  var length = childProviders.length;\n\n  for (var i = childProvider.index + 1; i < length; ++i) {\n    var el = findDOMNode(childProviders[i].base);\n\n    if (el) {\n      return el;\n    }\n  }\n\n  return null;\n}\n\nfunction diffProviders(containerProvider, providers, children) {\n  var childrenKeys = children.map(function (p) {\n    return isString(p) ? null : p.key;\n  });\n  var keys1 = fillKeys(providers.map(function (p) {\n    return p.key;\n  }));\n  var keys2 = fillKeys(childrenKeys);\n  var result = diff(keys1, keys2, function (key) {\n    return key;\n  });\n  result.removed.forEach(function (index) {\n    providers.splice(index, 1)[0]._unmount();\n  });\n  result.ordered.forEach(function (_a) {\n    var from = _a[0],\n        to = _a[1];\n    var childrenProvider = providers.splice(from, 1)[0];\n    providers.splice(to, 0, childrenProvider);\n    var el = findDOMNode(childrenProvider.base);\n    var next = findDOMNode(providers[to + 1] && providers[to + 1].base);\n\n    if (el) {\n      el.parentNode.insertBefore(el, next);\n    }\n  });\n  result.added.forEach(function (index) {\n    providers.splice(index, 0, createProvider(children[index], childrenKeys[index], index, containerProvider));\n  });\n  var changed = result.maintained.filter(function (_a) {\n    var _ = _a[0],\n        to = _a[1];\n    var el = children[to];\n    var childProvider = providers[to];\n    var type = isString(el) ? \"text_\" + el : el.type;\n\n    if (type !== childProvider.type) {\n      childProvider._unmount();\n\n      providers.splice(to, 1, createProvider(el, childrenKeys[to], to, containerProvider));\n      return true;\n    }\n\n    childProvider.index = to;\n    return false;\n  });\n  return __spreadArrays(result.added, changed.map(function (_a) {\n    var _ = _a[0],\n        to = _a[1];\n    return to;\n  }));\n}\n\nfunction renderProviders(containerProvider, providers, children, updatedHooks, nextState, isForceUpdate) {\n  var result = diffProviders(containerProvider, providers, children);\n  var updated = providers.filter(function (childProvider, i) {\n    return childProvider._update(updatedHooks, children[i], nextState, isForceUpdate);\n  });\n  var containerNode = findContainerNode(containerProvider);\n\n  if (containerNode) {\n    result.reverse().forEach(function (index) {\n      var childProvider = providers[index];\n      var el = findDOMNode(childProvider.base);\n\n      if (!el) {\n        return;\n      }\n\n      if (containerNode !== el && !el.parentNode) {\n        var nextElement = getNextSibiling(containerProvider, childProvider);\n        containerNode.insertBefore(el, nextElement);\n      }\n    });\n  }\n\n  return updated.length > 0;\n}\n\nfunction renderProvider(element, container, provider) {\n  if (provider === void 0) {\n    provider = container.__REACT_COMPAT__;\n  }\n\n  var isProvider = !!provider;\n\n  if (!provider) {\n    provider = new ContainerProvider(container);\n  }\n\n  updateProvider(provider, element ? [element] : []);\n\n  if (!isProvider) {\n    container.__REACT_COMPAT__ = provider;\n  }\n\n  return provider;\n}\n\nfunction render(element, container, callback) {\n  var provider = container.__REACT_COMPAT__;\n\n  if (element && !provider) {\n    container.innerHTML = \"\";\n  }\n\n  renderProvider(element, container, provider);\n  callback && callback();\n}\nfunction createPortal(el, container) {\n  return createElement(_Portal, {\n    element: el,\n    container: container\n  });\n}\nvar version = \"simple-1.1.0\";\n\nexport { Component, PureComponent, createElement, createPortal, findDOMNode, render, version };\n//# sourceMappingURL=compat.esm.js.map\n","/*\nCopyright (c) 2015 NAVER Corp.\nname: @egjs/agent\nlicense: MIT\nauthor: NAVER Corp.\nrepository: git+https://github.com/naver/agent.git\nversion: 2.4.0\n*/\nfunction some(arr, callback) {\n  var length = arr.length;\n\n  for (var i = 0; i < length; ++i) {\n    if (callback(arr[i], i)) {\n      return true;\n    }\n  }\n\n  return false;\n}\nfunction find(arr, callback) {\n  var length = arr.length;\n\n  for (var i = 0; i < length; ++i) {\n    if (callback(arr[i], i)) {\n      return arr[i];\n    }\n  }\n\n  return null;\n}\nfunction getUserAgentString(agent) {\n  var userAgent = agent;\n\n  if (typeof userAgent === \"undefined\") {\n    if (typeof navigator === \"undefined\" || !navigator) {\n      return \"\";\n    }\n\n    userAgent = navigator.userAgent || \"\";\n  }\n\n  return userAgent.toLowerCase();\n}\nfunction execRegExp(pattern, text) {\n  try {\n    return new RegExp(pattern, \"g\").exec(text);\n  } catch (e) {\n    return null;\n  }\n}\nfunction hasUserAgentData() {\n  if (typeof navigator === \"undefined\" || !navigator || !navigator.userAgentData) {\n    return false;\n  }\n\n  var userAgentData = navigator.userAgentData;\n  var brands = userAgentData.brands || userAgentData.uaList;\n  return !!(brands && brands.length);\n}\nfunction findVersion(versionTest, userAgent) {\n  var result = execRegExp(\"(\" + versionTest + \")((?:\\\\/|\\\\s|:)([0-9|\\\\.|_]+))\", userAgent);\n  return result ? result[3] : \"\";\n}\nfunction convertVersion(text) {\n  return text.replace(/_/g, \".\");\n}\nfunction findPreset(presets, userAgent) {\n  var userPreset = null;\n  var version = \"-1\";\n  some(presets, function (preset) {\n    var result = execRegExp(\"(\" + preset.test + \")((?:\\\\/|\\\\s|:)([0-9|\\\\.|_]+))?\", userAgent);\n\n    if (!result || preset.brand) {\n      return false;\n    }\n\n    userPreset = preset;\n    version = result[3] || \"-1\";\n\n    if (preset.versionAlias) {\n      version = preset.versionAlias;\n    } else if (preset.versionTest) {\n      version = findVersion(preset.versionTest.toLowerCase(), userAgent) || version;\n    }\n\n    version = convertVersion(version);\n    return true;\n  });\n  return {\n    preset: userPreset,\n    version: version\n  };\n}\nfunction findPresetBrand(presets, brands) {\n  var brandInfo = {\n    brand: \"\",\n    version: \"-1\"\n  };\n  some(presets, function (preset) {\n    var result = findBrand(brands, preset);\n\n    if (!result) {\n      return false;\n    }\n\n    brandInfo.brand = preset.id;\n    brandInfo.version = preset.versionAlias || result.version;\n    return brandInfo.version !== \"-1\";\n  });\n  return brandInfo;\n}\nfunction findBrand(brands, preset) {\n  return find(brands, function (_a) {\n    var brand = _a.brand;\n    return execRegExp(\"\" + preset.test, brand.toLowerCase());\n  });\n}\n\nvar BROWSER_PRESETS = [{\n  test: \"phantomjs\",\n  id: \"phantomjs\"\n}, {\n  test: \"whale\",\n  id: \"whale\"\n}, {\n  test: \"edgios|edge|edg\",\n  id: \"edge\"\n}, {\n  test: \"msie|trident|windows phone\",\n  id: \"ie\",\n  versionTest: \"iemobile|msie|rv\"\n}, {\n  test: \"miuibrowser\",\n  id: \"miui browser\"\n}, {\n  test: \"samsungbrowser\",\n  id: \"samsung internet\"\n}, {\n  test: \"samsung\",\n  id: \"samsung internet\",\n  versionTest: \"version\"\n}, {\n  test: \"chrome|crios\",\n  id: \"chrome\"\n}, {\n  test: \"firefox|fxios\",\n  id: \"firefox\"\n}, {\n  test: \"android\",\n  id: \"android browser\",\n  versionTest: \"version\"\n}, {\n  test: \"safari|iphone|ipad|ipod\",\n  id: \"safari\",\n  versionTest: \"version\"\n}]; // chromium's engine(blink) is based on applewebkit 537.36.\n\nvar CHROMIUM_PRESETS = [{\n  test: \"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\\\schrome)\",\n  id: \"chrome\",\n  versionTest: \"chrome\"\n}, {\n  test: \"chromium\",\n  id: \"chrome\"\n}, {\n  test: \"whale\",\n  id: \"chrome\",\n  versionAlias: \"-1\",\n  brand: true\n}];\nvar WEBKIT_PRESETS = [{\n  test: \"applewebkit\",\n  id: \"webkit\",\n  versionTest: \"applewebkit|safari\"\n}];\nvar WEBVIEW_PRESETS = [{\n  test: \"(?=(iphone|ipad))(?!(.*version))\",\n  id: \"webview\"\n}, {\n  test: \"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))\",\n  id: \"webview\"\n}, {\n  // test webview\n  test: \"webview\",\n  id: \"webview\"\n}];\nvar OS_PRESETS = [{\n  test: \"windows phone\",\n  id: \"windows phone\"\n}, {\n  test: \"windows 2000\",\n  id: \"window\",\n  versionAlias: \"5.0\"\n}, {\n  test: \"windows nt\",\n  id: \"window\"\n}, {\n  test: \"win32|windows\",\n  id: \"window\"\n}, {\n  test: \"iphone|ipad|ipod\",\n  id: \"ios\",\n  versionTest: \"iphone os|cpu os\"\n}, {\n  test: \"macos|macintel|mac os x\",\n  id: \"mac\"\n}, {\n  test: \"android|linux armv81\",\n  id: \"android\"\n}, {\n  test: \"tizen\",\n  id: \"tizen\"\n}, {\n  test: \"webos|web0s\",\n  id: \"webos\"\n}];\n\nfunction getClientHintsAgent(osData) {\n  var userAgentData = navigator.userAgentData;\n  var brands = (userAgentData.uaList || userAgentData.brands).slice();\n  var isMobile = userAgentData.mobile || false;\n  var firstBrand = brands[0];\n  var platform = (osData && osData.platform || userAgentData.platform || navigator.platform).toLowerCase();\n  var browser = {\n    name: firstBrand.brand,\n    version: firstBrand.version,\n    majorVersion: -1,\n    webkit: false,\n    webkitVersion: \"-1\",\n    chromium: false,\n    chromiumVersion: \"-1\",\n    webview: !!findPresetBrand(WEBVIEW_PRESETS, brands).brand\n  };\n  var os = {\n    name: \"unknown\",\n    version: \"-1\",\n    majorVersion: -1\n  };\n  browser.webkit = !browser.chromium && some(WEBKIT_PRESETS, function (preset) {\n    return findBrand(brands, preset);\n  });\n  var chromiumBrand = findPresetBrand(CHROMIUM_PRESETS, brands);\n  browser.chromium = !!chromiumBrand.brand;\n  browser.chromiumVersion = chromiumBrand.version;\n\n  if (!browser.chromium) {\n    var webkitBrand = findPresetBrand(WEBKIT_PRESETS, brands);\n    browser.webkit = !!webkitBrand.brand;\n    browser.webkitVersion = webkitBrand.version;\n  }\n\n  var platfomResult = find(OS_PRESETS, function (preset) {\n    return new RegExp(\"\" + preset.test, \"g\").exec(platform);\n  });\n  os.name = platfomResult ? platfomResult.id : \"\";\n\n  if (osData) {\n    os.version = osData.platformVersion;\n  }\n\n  var browserBrand = findPresetBrand(BROWSER_PRESETS, brands);\n\n  if (browserBrand.brand) {\n    browser.name = browserBrand.brand;\n    browser.version = osData ? osData.uaFullVersion : browserBrand.version;\n  }\n\n  if (browser.webkit) {\n    os.name = isMobile ? \"ios\" : \"mac\";\n  }\n\n  if (os.name === \"ios\" && browser.webview) {\n    browser.version = \"-1\";\n  }\n\n  os.version = convertVersion(os.version);\n  browser.version = convertVersion(browser.version);\n  os.majorVersion = parseInt(os.version, 10);\n  browser.majorVersion = parseInt(browser.version, 10);\n  return {\n    browser: browser,\n    os: os,\n    isMobile: isMobile,\n    isHints: true\n  };\n}\n\nfunction getLegacyAgent(userAgent) {\n  var nextAgent = getUserAgentString(userAgent);\n  var isMobile = !!/mobi/g.exec(nextAgent);\n  var browser = {\n    name: \"unknown\",\n    version: \"-1\",\n    majorVersion: -1,\n    webview: !!findPreset(WEBVIEW_PRESETS, nextAgent).preset,\n    chromium: false,\n    chromiumVersion: \"-1\",\n    webkit: false,\n    webkitVersion: \"-1\"\n  };\n  var os = {\n    name: \"unknown\",\n    version: \"-1\",\n    majorVersion: -1\n  };\n\n  var _a = findPreset(BROWSER_PRESETS, nextAgent),\n      browserPreset = _a.preset,\n      browserVersion = _a.version;\n\n  var _b = findPreset(OS_PRESETS, nextAgent),\n      osPreset = _b.preset,\n      osVersion = _b.version;\n\n  var chromiumPreset = findPreset(CHROMIUM_PRESETS, nextAgent);\n  browser.chromium = !!chromiumPreset.preset;\n  browser.chromiumVersion = chromiumPreset.version;\n\n  if (!browser.chromium) {\n    var webkitPreset = findPreset(WEBKIT_PRESETS, nextAgent);\n    browser.webkit = !!webkitPreset.preset;\n    browser.webkitVersion = webkitPreset.version;\n  }\n\n  if (osPreset) {\n    os.name = osPreset.id;\n    os.version = osVersion;\n    os.majorVersion = parseInt(osVersion, 10);\n  }\n\n  if (browserPreset) {\n    browser.name = browserPreset.id;\n    browser.version = browserVersion;\n\n    if (browser.webview && os.name === \"ios\" && browser.name !== \"safari\") {\n      browser.webview = false;\n    }\n  }\n\n  browser.majorVersion = parseInt(browser.version, 10);\n  return {\n    browser: browser,\n    os: os,\n    isMobile: isMobile,\n    isHints: false\n  };\n}\n\n/**\n * @namespace eg.agent\n */\n\n/**\n* Extracts accuate browser and operating system information from the user agent string or client hints.\n* @ko 유저 에이전트 문자열 또는 client hints에서 정확한 브라우저와 운영체제 정보를 추출한다.\n* @function eg.agent#getAccurateAgent\n* @param - Callback function to get the accuate agent <ko>정확한 에이전트를 가져오기 위한 callback 함수</ko>\n* @return - get the accuate agent promise. If Promise are not supported, null is returned. <ko> 정확한 에이전트 promise를 가져온다. Promise를 지원 하지 않는 경우, null을 반환한다. </ko>\n* @example\nimport { getAccurateAgent } from \"@egjs/agent\";\n// eg.agent.getAccurateAgent()\ngetAccurateAgent().then(agent => {\n   const { os, browser, isMobile } = agent;\n});\ngetAccurateAgent(agent => {\n    const { os, browser, isMobile } = agent;\n});\n*/\n\nfunction getAccurateAgent(callback) {\n  if (hasUserAgentData()) {\n    return navigator.userAgentData.getHighEntropyValues([\"architecture\", \"model\", \"platform\", \"platformVersion\", \"uaFullVersion\"]).then(function (info) {\n      var agentInfo = getClientHintsAgent(info);\n      callback && callback(agentInfo);\n      return agentInfo;\n    });\n  }\n\n  callback && callback(agent());\n\n  if (typeof Promise === \"undefined\" || !Promise) {\n    return null;\n  }\n\n  return Promise.resolve(agent());\n}\n/**\n * Extracts browser and operating system information from the user agent string.\n * @ko 유저 에이전트 문자열에서 브라우저와 운영체제 정보를 추출한다.\n * @function eg.agent#agent\n * @param - user agent string to parse <ko>파싱할 유저에이전트 문자열</ko>\n * @return - agent Info <ko> 에이전트 정보 </ko>\n * @example\nimport agent from \"@egjs/agent\";\n// eg.agent();\nconst { os, browser, isMobile } = agent();\n */\n\nfunction agent(userAgent) {\n  if (typeof userAgent === \"undefined\" && hasUserAgentData()) {\n    return getClientHintsAgent();\n  } else {\n    return getLegacyAgent(userAgent);\n  }\n}\n\nexport default agent;\nexport { getAccurateAgent, getLegacyAgent };\n//# sourceMappingURL=agent.esm.js.map\n","/*\nCopyright (c) 2020 Daybrush\nname: @scena/matrix\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/matrix\nversion: 1.1.1\n*/\nimport { throttle, TINY_NUM, average } from '@daybrush/utils';\n\nfunction add(matrix, inverseMatrix, startIndex, fromIndex, n, k) {\n  for (var i = 0; i < n; ++i) {\n    var x = startIndex + i * n;\n    var fromX = fromIndex + i * n;\n    matrix[x] += matrix[fromX] * k;\n    inverseMatrix[x] += inverseMatrix[fromX] * k;\n  }\n}\n\nfunction swap(matrix, inverseMatrix, startIndex, fromIndex, n) {\n  for (var i = 0; i < n; ++i) {\n    var x = startIndex + i * n;\n    var fromX = fromIndex + i * n;\n    var v = matrix[x];\n    var iv = inverseMatrix[x];\n    matrix[x] = matrix[fromX];\n    matrix[fromX] = v;\n    inverseMatrix[x] = inverseMatrix[fromX];\n    inverseMatrix[fromX] = iv;\n  }\n}\n\nfunction divide(matrix, inverseMatrix, startIndex, n, k) {\n  for (var i = 0; i < n; ++i) {\n    var x = startIndex + i * n;\n    matrix[x] /= k;\n    inverseMatrix[x] /= k;\n  }\n}\n/**\n *\n * @namespace Matrix\n */\n\n/**\n * @memberof Matrix\n */\n\n\nfunction ignoreDimension(matrix, m, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = matrix.slice();\n\n  for (var i = 0; i < n; ++i) {\n    newMatrix[i * n + m - 1] = 0;\n    newMatrix[(m - 1) * n + i] = 0;\n  }\n\n  newMatrix[(m - 1) * (n + 1)] = 1;\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction invert(matrix, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = matrix.slice();\n  var inverseMatrix = createIdentityMatrix(n);\n\n  for (var i = 0; i < n; ++i) {\n    // diagonal\n    var identityIndex = n * i + i;\n\n    if (!throttle(newMatrix[identityIndex], TINY_NUM)) {\n      // newMatrix[identityIndex] = 0;\n      for (var j = i + 1; j < n; ++j) {\n        if (newMatrix[n * i + j]) {\n          swap(newMatrix, inverseMatrix, i, j, n);\n          break;\n        }\n      }\n    }\n\n    if (!throttle(newMatrix[identityIndex], TINY_NUM)) {\n      // no inverse matrix\n      return [];\n    }\n\n    divide(newMatrix, inverseMatrix, i, n, newMatrix[identityIndex]);\n\n    for (var j = 0; j < n; ++j) {\n      var targetStartIndex = j;\n      var targetIndex = j + i * n;\n      var target = newMatrix[targetIndex];\n\n      if (!throttle(target, TINY_NUM) || i === j) {\n        continue;\n      }\n\n      add(newMatrix, inverseMatrix, targetStartIndex, i, n, -target);\n    }\n  }\n\n  return inverseMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction transpose(matrix, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = [];\n\n  for (var i = 0; i < n; ++i) {\n    for (var j = 0; j < n; ++j) {\n      newMatrix[j * n + i] = matrix[n * i + j];\n    }\n  }\n\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction getOrigin(matrix, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var originMatrix = [];\n  var w = matrix[n * n - 1];\n\n  for (var i = 0; i < n - 1; ++i) {\n    originMatrix[i] = matrix[n * (n - 1) + i] / w;\n  }\n\n  originMatrix[n - 1] = 0;\n  return originMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction fromTranslation(pos, n) {\n  var newMatrix = createIdentityMatrix(n);\n\n  for (var i = 0; i < n - 1; ++i) {\n    newMatrix[n * (n - 1) + i] = pos[i] || 0;\n  }\n\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction convertPositionMatrix(matrix, n) {\n  var newMatrix = matrix.slice();\n\n  for (var i = matrix.length; i < n - 1; ++i) {\n    newMatrix[i] = 0;\n  }\n\n  newMatrix[n - 1] = 1;\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction convertDimension(matrix, n, m) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  } // n < m\n\n\n  if (n === m) {\n    return matrix;\n  }\n\n  var newMatrix = createIdentityMatrix(m);\n  var length = Math.min(n, m);\n\n  for (var i = 0; i < length - 1; ++i) {\n    for (var j = 0; j < length - 1; ++j) {\n      newMatrix[i * m + j] = matrix[i * n + j];\n    }\n\n    newMatrix[(i + 1) * m - 1] = matrix[(i + 1) * n - 1];\n    newMatrix[(m - 1) * m + i] = matrix[(n - 1) * n + i];\n  }\n\n  newMatrix[m * m - 1] = matrix[n * n - 1];\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction multiplies(n) {\n  var matrixes = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    matrixes[_i - 1] = arguments[_i];\n  }\n\n  var m = createIdentityMatrix(n);\n  matrixes.forEach(function (matrix) {\n    m = multiply(m, matrix, n);\n  });\n  return m;\n}\n/**\n * @memberof Matrix\n */\n\nfunction multiply(matrix, matrix2, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = []; // 1 y: n\n  // 1 x: m\n  // 2 x: m\n  // 2 y: k\n  // n * m X m * k\n\n  var m = matrix.length / n;\n  var k = matrix2.length / m;\n\n  if (!m) {\n    return matrix2;\n  } else if (!k) {\n    return matrix;\n  }\n\n  for (var i = 0; i < n; ++i) {\n    for (var j = 0; j < k; ++j) {\n      newMatrix[j * n + i] = 0;\n\n      for (var l = 0; l < m; ++l) {\n        // m1 x: m(l), y: n(i)\n        // m2 x: k(j):  y: m(l)\n        // nw x: n(i), y: k(j)\n        newMatrix[j * n + i] += matrix[l * n + i] * matrix2[j * m + l];\n      }\n    }\n  } // n * k\n\n\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction plus(pos1, pos2) {\n  var length = Math.min(pos1.length, pos2.length);\n  var nextPos = pos1.slice();\n\n  for (var i = 0; i < length; ++i) {\n    nextPos[i] = nextPos[i] + pos2[i];\n  }\n\n  return nextPos;\n}\n/**\n * @memberof Matrix\n */\n\nfunction minus(pos1, pos2) {\n  var length = Math.min(pos1.length, pos2.length);\n  var nextPos = pos1.slice();\n\n  for (var i = 0; i < length; ++i) {\n    nextPos[i] = nextPos[i] - pos2[i];\n  }\n\n  return nextPos;\n}\n/**\n * @memberof Matrix\n */\n\nfunction convertCSStoMatrix(a, is2d) {\n  if (is2d === void 0) {\n    is2d = a.length === 6;\n  }\n\n  if (is2d) {\n    return [a[0], a[1], 0, a[2], a[3], 0, a[4], a[5], 1];\n  }\n\n  return a;\n}\n/**\n * @memberof Matrix\n */\n\nfunction convertMatrixtoCSS(a, is2d) {\n  if (is2d === void 0) {\n    is2d = a.length === 9;\n  }\n\n  if (is2d) {\n    return [a[0], a[1], a[3], a[4], a[6], a[7]];\n  }\n\n  return a;\n}\n/**\n * @memberof Matrix\n */\n\nfunction calculate(matrix, matrix2, n) {\n  if (n === void 0) {\n    n = matrix2.length;\n  }\n\n  var result = multiply(matrix, matrix2, n);\n  var k = result[n - 1];\n  return result.map(function (v) {\n    return v / k;\n  });\n}\n/**\n * @memberof Matrix\n */\n\nfunction rotateX3d(matrix, rad) {\n  return multiply(matrix, [1, 0, 0, 0, 0, Math.cos(rad), Math.sin(rad), 0, 0, -Math.sin(rad), Math.cos(rad), 0, 0, 0, 0, 1], 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction rotateY3d(matrix, rad) {\n  return multiply(matrix, [Math.cos(rad), 0, -Math.sin(rad), 0, 0, 1, 0, 0, Math.sin(rad), 0, Math.cos(rad), 0, 0, 0, 0, 1], 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction rotateZ3d(matrix, rad) {\n  return multiply(matrix, createRotateMatrix(rad, 4));\n}\n/**\n * @memberof Matrix\n */\n\nfunction scale3d(matrix, _a) {\n  var _b = _a[0],\n      sx = _b === void 0 ? 1 : _b,\n      _c = _a[1],\n      sy = _c === void 0 ? 1 : _c,\n      _d = _a[2],\n      sz = _d === void 0 ? 1 : _d;\n  return multiply(matrix, [sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1], 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction rotate(pos, rad) {\n  return calculate(createRotateMatrix(rad, 3), convertPositionMatrix(pos, 3));\n}\n/**\n * @memberof Matrix\n */\n\nfunction translate3d(matrix, _a) {\n  var _b = _a[0],\n      tx = _b === void 0 ? 0 : _b,\n      _c = _a[1],\n      ty = _c === void 0 ? 0 : _c,\n      _d = _a[2],\n      tz = _d === void 0 ? 0 : _d;\n  return multiply(matrix, [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1], 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction matrix3d(matrix1, matrix2) {\n  return multiply(matrix1, matrix2, 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction createRotateMatrix(rad, n) {\n  var cos = Math.cos(rad);\n  var sin = Math.sin(rad);\n  var m = createIdentityMatrix(n); // cos -sin\n  // sin cos\n\n  m[0] = cos;\n  m[1] = sin;\n  m[n] = -sin;\n  m[n + 1] = cos;\n  return m;\n}\n/**\n * @memberof Matrix\n */\n\nfunction createIdentityMatrix(n) {\n  var length = n * n;\n  var matrix = [];\n\n  for (var i = 0; i < length; ++i) {\n    matrix[i] = i % (n + 1) ? 0 : 1;\n  }\n\n  return matrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction createScaleMatrix(scale, n) {\n  var m = createIdentityMatrix(n);\n  var length = Math.min(scale.length, n - 1);\n\n  for (var i = 0; i < length; ++i) {\n    m[(n + 1) * i] = scale[i];\n  }\n\n  return m;\n}\n/**\n * @memberof Matrix\n */\n\nfunction createOriginMatrix(origin, n) {\n  var m = createIdentityMatrix(n);\n  var length = Math.min(origin.length, n - 1);\n\n  for (var i = 0; i < length; ++i) {\n    m[n * (n - 1) + i] = origin[i];\n  }\n\n  return m;\n}\n/**\n * @memberof Matrix\n */\n\nfunction createWarpMatrix(pos0, pos1, pos2, pos3, nextPos0, nextPos1, nextPos2, nextPos3) {\n  var x0 = pos0[0],\n      y0 = pos0[1];\n  var x1 = pos1[0],\n      y1 = pos1[1];\n  var x2 = pos2[0],\n      y2 = pos2[1];\n  var x3 = pos3[0],\n      y3 = pos3[1];\n  var u0 = nextPos0[0],\n      v0 = nextPos0[1];\n  var u1 = nextPos1[0],\n      v1 = nextPos1[1];\n  var u2 = nextPos2[0],\n      v2 = nextPos2[1];\n  var u3 = nextPos3[0],\n      v3 = nextPos3[1];\n  var matrix = [x0, 0, x1, 0, x2, 0, x3, 0, y0, 0, y1, 0, y2, 0, y3, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, x0, 0, x1, 0, x2, 0, x3, 0, y0, 0, y1, 0, y2, 0, y3, 0, 1, 0, 1, 0, 1, 0, 1, -u0 * x0, -v0 * x0, -u1 * x1, -v1 * x1, -u2 * x2, -v2 * x2, -u3 * x3, -v3 * x3, -u0 * y0, -v0 * y0, -u1 * y1, -v1 * y1, -u2 * y2, -v2 * y2, -u3 * y3, -v3 * y3];\n  var inverseMatrix = invert(matrix, 8);\n\n  if (!inverseMatrix.length) {\n    return [];\n  }\n\n  var h = multiply(inverseMatrix, [u0, v0, u1, v1, u2, v2, u3, v3], 8);\n  h[8] = 1;\n  return convertDimension(transpose(h), 3, 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction getCenter(points) {\n  return [0, 1].map(function (i) {\n    return average(points.map(function (pos) {\n      return pos[i];\n    }));\n  });\n}\n\nexport { calculate, convertCSStoMatrix, convertDimension, convertMatrixtoCSS, convertPositionMatrix, createIdentityMatrix, createOriginMatrix, createRotateMatrix, createScaleMatrix, createWarpMatrix, fromTranslation, getCenter, getOrigin, ignoreDimension, invert, matrix3d, minus, multiplies, multiply, plus, rotate, rotateX3d, rotateY3d, rotateZ3d, scale3d, translate3d, transpose };\n//# sourceMappingURL=matrix.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: css-to-mat\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/css-to-mat.git\nversion: 1.0.3\n*/\nimport { splitBracket, splitComma, splitUnit, isArray, splitSpace } from '@daybrush/utils';\nimport { calculate, matrix3d, invert, translate3d, scale3d, rotateZ3d, rotateX3d, rotateY3d } from '@scena/matrix';\n\nfunction createMatrix() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\nfunction parseMat(transform) {\n  return toMat(parse(transform));\n}\nfunction getElementMatrix(el) {\n  return parseMat(getComputedStyle(el).transform);\n}\nfunction calculateMatrixDist(matrix, pos) {\n  var res = calculate(matrix, [pos[0], pos[1] || 0, pos[2] || 0, 1], 4);\n  var w = res[3] || 1;\n  return [res[0] / w, res[1] / w, res[2] / w];\n}\nfunction getDistElementMatrix(el, container) {\n  if (container === void 0) {\n    container = document.body;\n  }\n\n  var target = el;\n  var matrix = createMatrix();\n\n  while (target) {\n    var transform = getComputedStyle(target).transform;\n    matrix = matrix3d(parseMat(transform), matrix);\n\n    if (target === container) {\n      break;\n    }\n\n    target = target.parentElement;\n  }\n\n  matrix = invert(matrix, 4);\n  matrix[12] = 0;\n  matrix[13] = 0;\n  matrix[14] = 0;\n  return matrix;\n}\nfunction toMat(matrixInfos) {\n  var target = createMatrix();\n  matrixInfos.forEach(function (info) {\n    var matrixFunction = info.matrixFunction,\n        functionValue = info.functionValue;\n\n    if (!matrixFunction) {\n      return;\n    }\n\n    target = matrixFunction(target, functionValue);\n  });\n  return target;\n}\nfunction parse(transform) {\n  var transforms = isArray(transform) ? transform : splitSpace(transform);\n  return transforms.map(function (t) {\n    var _a = splitBracket(t),\n        name = _a.prefix,\n        value = _a.value;\n\n    var matrixFunction = null;\n    var functionName = name;\n    var functionValue = \"\";\n\n    if (name === \"translate\" || name === \"translateX\" || name === \"translate3d\") {\n      var _b = splitComma(value).map(function (v) {\n        return parseFloat(v);\n      }),\n          posX = _b[0],\n          _c = _b[1],\n          posY = _c === void 0 ? 0 : _c,\n          _d = _b[2],\n          posZ = _d === void 0 ? 0 : _d;\n\n      matrixFunction = translate3d;\n      functionValue = [posX, posY, posZ];\n    } else if (name === \"translateY\") {\n      var posY = parseFloat(value);\n      matrixFunction = translate3d;\n      functionValue = [0, posY, 0];\n    } else if (name === \"translateZ\") {\n      var posZ = parseFloat(value);\n      matrixFunction = translate3d;\n      functionValue = [0, 0, posZ];\n    } else if (name === \"scale\" || name === \"scale3d\") {\n      var _e = splitComma(value).map(function (v) {\n        return parseFloat(v);\n      }),\n          sx = _e[0],\n          _f = _e[1],\n          sy = _f === void 0 ? sx : _f,\n          _g = _e[2],\n          sz = _g === void 0 ? 1 : _g;\n\n      matrixFunction = scale3d;\n      functionValue = [sx, sy, sz];\n    } else if (name === \"scaleX\") {\n      var sx = parseFloat(value);\n      matrixFunction = scale3d;\n      functionValue = [sx, 1, 1];\n    } else if (name === \"scaleY\") {\n      var sy = parseFloat(value);\n      matrixFunction = scale3d;\n      functionValue = [1, sy, 1];\n    } else if (name === \"scaleZ\") {\n      var sz = parseFloat(value);\n      matrixFunction = scale3d;\n      functionValue = [1, 1, sz];\n    } else if (name === \"rotate\" || name === \"rotateZ\" || name === \"rotateX\" || name === \"rotateY\") {\n      var _h = splitUnit(value),\n          unit = _h.unit,\n          unitValue = _h.value;\n\n      var rad = unit === \"rad\" ? unitValue : unitValue * Math.PI / 180;\n\n      if (name === \"rotate\" || name === \"rotateZ\") {\n        functionName = \"rotateZ\";\n        matrixFunction = rotateZ3d;\n      } else if (name === \"rotateX\") {\n        matrixFunction = rotateX3d;\n      } else if (name === \"rotateY\") {\n        matrixFunction = rotateY3d;\n      }\n\n      functionValue = rad;\n    } else if (name === \"matrix3d\") {\n      matrixFunction = matrix3d;\n      functionValue = splitComma(value).map(function (v) {\n        return parseFloat(v);\n      });\n    } else if (name === \"matrix\") {\n      var m = splitComma(value).map(function (v) {\n        return parseFloat(v);\n      });\n      matrixFunction = matrix3d;\n      functionValue = [m[0], m[1], 0, 0, m[2], m[3], 0, 0, 0, 0, 1, 0, m[4], m[5], 0, 1];\n    } else {\n      functionName = \"\";\n    }\n\n    return {\n      name: name,\n      functionName: functionName,\n      value: value,\n      matrixFunction: matrixFunction,\n      functionValue: functionValue\n    };\n  });\n}\n\nexport { calculateMatrixDist, createMatrix, getDistElementMatrix, getElementMatrix, parse, parseMat, toMat };\n//# sourceMappingURL=css-to-mat.esm.js.map\n","/*\nCopyright (c) 2019-present NAVER Corp.\nname: @egjs/children-differ\nlicense: MIT\nauthor: NAVER Corp.\nrepository: https://github.com/naver/egjs-children-differ\nversion: 1.0.1\n*/\nimport ListDiffer, { diff as diff$1 } from '@egjs/list-differ';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\n/*\negjs-children-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar findKeyCallback = typeof Map === \"function\" ? undefined : function () {\n  var childrenCount = 0;\n  return function (el) {\n    return el.__DIFF_KEY__ || (el.__DIFF_KEY__ = ++childrenCount);\n  };\n}();\n\n/**\n * A module that checks diff when child are added, removed, or changed .\n * @ko 자식 노드들에서 자식 노드가 추가되거나 삭제되거나 순서가 변경된 사항을 체크하는 모듈입니다.\n * @memberof eg\n * @extends eg.ListDiffer\n */\n\nvar ChildrenDiffer =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ChildrenDiffer, _super);\n  /**\n   * @param - Initializing Children <ko> 초기 설정할 자식 노드들</ko>\n   */\n\n\n  function ChildrenDiffer(list) {\n    if (list === void 0) {\n      list = [];\n    }\n\n    return _super.call(this, list, findKeyCallback) || this;\n  }\n\n  return ChildrenDiffer;\n}(ListDiffer);\n\n/*\negjs-children-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\n/**\n *\n * @memberof eg.ChildrenDiffer\n * @static\n * @function\n * @param - Previous List <ko> 이전 목록 </ko>\n * @param - List to Update <ko> 업데이트 할 목록 </ko>\n * @return - Returns the diff between `prevList` and `list` <ko> `prevList`와 `list`의 다른 점을 반환한다.</ko>\n * @example\n * import { diff } from \"@egjs/children-differ\";\n * // script => eg.ChildrenDiffer.diff\n * const result = diff([0, 1, 2, 3, 4, 5], [7, 8, 0, 4, 3, 6, 2, 1]);\n * // List before update\n * // [1, 2, 3, 4, 5]\n * console.log(result.prevList);\n * // Updated list\n * // [4, 3, 6, 2, 1]\n * console.log(result.list);\n * // Index array of values added to `list`\n * // [0, 1, 5]\n * console.log(result.added);\n * // Index array of values removed in `prevList`\n * // [5]\n * console.log(result.removed);\n * // An array of index pairs of `prevList` and `list` with different indexes from `prevList` and `list`\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.changed);\n * // The subset of `changed` and an array of index pairs that moved data directly. Indicate an array of absolute index pairs of `ordered`.(Formatted by: Array<[index of prevList, index of list]>)\n * // [[4, 3], [3, 4], [2, 6]]\n * console.log(result.pureChanged);\n * // An array of index pairs to be `ordered` that can synchronize `list` before adding data. (Formatted by: Array<[prevIndex, nextIndex]>)\n * // [[4, 1], [4, 2], [4, 3]]\n * console.log(result.ordered);\n * // An array of index pairs of `prevList` and `list` that have not been added/removed so data is preserved\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.maintained);\n */\n\nfunction diff(prevList, list) {\n  return diff$1(prevList, list, findKeyCallback);\n}\n\n/*\negjs-children-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\n\nexport default ChildrenDiffer;\nexport { diff };\n//# sourceMappingURL=children-differ.esm.js.map\n","/*\nCopyright (c) 2020 Daybrush\nname: overlap-area\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/overlap-area.git\nversion: 1.0.0\n*/\nimport { sum, findIndex, getShapeDirection, getDist } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\n/**\n * @namespace OverlapArea\n */\n\n/**\n * Gets the size of a shape (polygon) made of points.\n * @memberof OverlapArea\n */\n\nfunction getAreaSize(points) {\n  if (points.length < 3) {\n    return 0;\n  }\n\n  return Math.abs(sum(points.map(function (point, i) {\n    var nextPoint = points[i + 1] || points[0];\n    return point[0] * nextPoint[1] - nextPoint[0] * point[1];\n  }))) / 2;\n}\n/**\n * Get points that fit the rect,\n * @memberof OverlapArea\n */\n\nfunction fitPoints(points, rect) {\n  var width = rect.width,\n      height = rect.height,\n      left = rect.left,\n      top = rect.top;\n\n  var _a = getMinMaxs(points),\n      minX = _a.minX,\n      minY = _a.minY,\n      maxX = _a.maxX,\n      maxY = _a.maxY;\n\n  var ratioX = width / (maxX - minX);\n  var ratioY = height / (maxY - minY);\n  return points.map(function (point) {\n    return [left + (point[0] - minX) * ratioX, top + (point[1] - minY) * ratioY];\n  });\n}\n/**\n * Get the minimum and maximum points of the points.\n * @memberof OverlapArea\n */\n\nfunction getMinMaxs(points) {\n  var xs = points.map(function (point) {\n    return point[0];\n  });\n  var ys = points.map(function (point) {\n    return point[1];\n  });\n  return {\n    minX: Math.min.apply(Math, xs),\n    minY: Math.min.apply(Math, ys),\n    maxX: Math.max.apply(Math, xs),\n    maxY: Math.max.apply(Math, ys)\n  };\n}\n/**\n * Whether the point is in shape\n * @param - point pos\n * @param - shape points\n * @param - whether to check except line\n * @memberof OverlapArea\n */\n\nfunction isInside(pos, points, excludeLine) {\n  var x = pos[0],\n      y = pos[1];\n\n  var _a = getMinMaxs(points),\n      minX = _a.minX,\n      minY = _a.minY,\n      maxX = _a.maxX,\n      maxY = _a.maxY;\n\n  var xLine = [[minX, y], [maxX, y]];\n  var yLine = [[x, minY], [x, maxY]];\n  var xLinearConstants = getLinearConstants(xLine[0], xLine[1]);\n  var yLinearConstants = getLinearConstants(yLine[0], yLine[1]);\n  var lines = convertLines(points);\n  var intersectionXPoints = [];\n  var intersectionYPoints = [];\n  lines.forEach(function (line) {\n    var linearConstants = getLinearConstants(line[0], line[1]);\n    var xPoints = getPointsOnLines(getIntersectionPointsByConstants(xLinearConstants, linearConstants), [xLine, line]);\n    var yPoints = getPointsOnLines(getIntersectionPointsByConstants(yLinearConstants, linearConstants), [yLine, line]);\n\n    if (xPoints.length === 1 ? line[0][1] !== y : true) {\n      intersectionXPoints.push.apply(intersectionXPoints, xPoints);\n    }\n\n    if (yPoints.length === 1 ? line[0][0] !== x : true) {\n      intersectionYPoints.push.apply(intersectionYPoints, yPoints);\n    }\n\n    if (!linearConstants[0]) {\n      intersectionXPoints.push.apply(intersectionXPoints, xPoints);\n    }\n\n    if (!linearConstants[1]) {\n      intersectionYPoints.push.apply(intersectionYPoints, yPoints);\n    }\n  });\n\n  if (!excludeLine) {\n    if (findIndex(intersectionXPoints, function (p) {\n      return p[0] === x;\n    }) > -1 || findIndex(intersectionYPoints, function (p) {\n      return p[1] === y;\n    }) > -1) {\n      return true;\n    }\n  }\n\n  if (intersectionXPoints.filter(function (p) {\n    return p[0] > x;\n  }).length % 2 && intersectionYPoints.filter(function (p) {\n    return p[1] > y;\n  }).length % 2) {\n    return true;\n  }\n\n  return false;\n}\n/**\n * Get the coefficient of the linear function. [a, b, c] (ax + by + c = 0)\n * @return [a, b, c]\n * @memberof OverlapArea\n */\n\nfunction getLinearConstants(point1, point2) {\n  var x1 = point1[0],\n      y1 = point1[1];\n  var x2 = point2[0],\n      y2 = point2[1]; // ax + by + c = 0\n\n  if (x1 === x2 && y1 === y2) {\n    return [0, 0, 0];\n  }\n\n  if (x1 === x2) {\n    // x = x1\n    return [1, 0, -x1];\n  } else if (y1 === y2) {\n    // y = y1\n    return [0, 1, -y1];\n  } else {\n    // x1 + a * y1 + b = 0\n    // x2 + a * y2 + b = 0\n    // (x1 -x2) + (y1 - y2) * a = 0\n    // a = (x2 - x1) / (y1 - y2)\n    // x1 + (x2 - x1) / (y1 - y2)\n    var a_1 = (x2 - x1) / (y1 - y2);\n    var b_1 = -x1 - a_1 * y1;\n    return [1, a_1, b_1];\n  }\n}\n/**\n * Get intersection points with linear functions.\n * @memberof OverlapArea\n */\n\nfunction getIntersectionPointsByConstants(linearConstants1, linearConstants2) {\n  var a1 = linearConstants1[0],\n      b1 = linearConstants1[1],\n      c1 = linearConstants1[2];\n  var a2 = linearConstants2[0],\n      b2 = linearConstants2[1],\n      c2 = linearConstants2[2];\n  var isZeroA = a1 === 0 && a2 === 0;\n  var isZeroB = b1 === 0 && b2 === 0;\n\n  if (isZeroA && isZeroB) {\n    return [];\n  } else if (isZeroA) {\n    // b1 * y + c1 = 0\n    // b2 * y + c2 = 0\n    var y1 = -c1 / b1;\n    var y2 = -c2 / b2;\n\n    if (y1 !== y2) {\n      return [];\n    } else {\n      return [[-Infinity, y1], [Infinity, y1]];\n    }\n  } else if (isZeroB) {\n    // a1 * x + c1 = 0\n    // a2 * x + c2 = 0\n    var x1 = -c1 / a1;\n    var x2 = -c2 / a2;\n\n    if (x1 !== x2) {\n      return [];\n    } else {\n      return [[x1, -Infinity], [x1, Infinity]];\n    }\n  } else if (a1 === 0) {\n    // b1 * y + c1 = 0\n    // y = - c1 / b1;\n    // a2 * x + b2 * y + c2 = 0\n    var y = -c1 / b1;\n    var x = -(b2 * y + c2) / a2;\n    return [[x, y]];\n  } else if (a2 === 0) {\n    // b2 * y + c2 = 0\n    // y = - c2 / b2;\n    // a1 * x + b1 * y + c1 = 0\n    var y = -c2 / b2;\n    var x = -(b1 * y + c1) / a1;\n    return [[x, y]];\n  } else if (b1 === 0) {\n    // a1 * x + c1 = 0\n    // x = - c1 / a1;\n    // a2 * x + b2 * y + c2 = 0\n    var x = -c1 / a1;\n    var y = -(a2 * x + c2) / b2;\n    return [[x, y]];\n  } else if (b2 === 0) {\n    // a2 * x + c2 = 0\n    // x = - c2 / a2;\n    // a1 * x + b1 * y + c1 = 0\n    var x = -c2 / a2;\n    var y = -(a1 * x + c1) / b1;\n    return [[x, y]];\n  } else {\n    // a1 * x + b1 * y + c1 = 0\n    // a2 * x + b2 * y + c2 = 0\n    // b2 * a1 * x + b2 * b1 * y + b2 * c1 = 0\n    // b1 * a2 * x + b1 * b2 * y + b1 * c2 = 0\n    // (b2 * a1 - b1 * a2)  * x = (b1 * c2 - b2 * c1)\n    var x = (b1 * c2 - b2 * c1) / (b2 * a1 - b1 * a2);\n    var y = -(a1 * x + c1) / b1;\n    return [[x, y]];\n  }\n}\n/**\n * Get intersection points to the two lines.\n * @memberof OverlapArea\n */\n\nfunction getIntersectionPoints(line1, line2, isLimit) {\n  var points = getIntersectionPointsByConstants(getLinearConstants(line1[0], line1[1]), getLinearConstants(line2[0], line2[1]));\n\n  if (isLimit) {\n    return getPointsOnLines(points, [line1, line2]);\n  }\n\n  return points;\n}\n/**\n * Get the points on the lines (between two points).\n * @memberof OverlapArea\n */\n\nfunction getPointsOnLines(points, lines) {\n  var minMaxs = lines.map(function (line) {\n    return [0, 1].map(function (order) {\n      return [Math.min(line[0][order], line[1][order]), Math.max(line[0][order], line[1][order])];\n    });\n  });\n\n  if (points.length === 2) {\n    var _a = points[0],\n        x = _a[0],\n        y = _a[1];\n\n    if (x === points[1][0]) {\n      /// Math.max(minY1, minY2)\n      var top = Math.max.apply(Math, minMaxs.map(function (minMax) {\n        return minMax[1][0];\n      })); /// Math.min(maxY1, miax2)\n\n      var bottom = Math.min.apply(Math, minMaxs.map(function (minMax) {\n        return minMax[1][1];\n      }));\n\n      if (top > bottom) {\n        return [];\n      }\n\n      return [[x, top], [x, bottom]];\n    } else if (y === points[1][1]) {\n      /// Math.max(minY1, minY2)\n      var left = Math.max.apply(Math, minMaxs.map(function (minMax) {\n        return minMax[0][0];\n      })); /// Math.min(maxY1, miax2)\n\n      var right = Math.min.apply(Math, minMaxs.map(function (minMax) {\n        return minMax[0][1];\n      }));\n\n      if (left > right) {\n        return [];\n      }\n\n      return [[left, y], [right, y]];\n    }\n  }\n\n  return points.filter(function (point) {\n    return minMaxs.every(function (minMax) {\n      return minMax[0][0] <= point[0] && point[0] <= minMax[0][1] && minMax[1][0] <= point[1] && point[1] <= minMax[1][1];\n    });\n  });\n}\n/**\n* Convert two points into lines.\n* @function\n* @memberof OverlapArea\n*/\n\nfunction convertLines(points) {\n  return __spreadArrays(points.slice(1), [points[0]]).map(function (point, i) {\n    return [points[i], point];\n  });\n}\n/**\n* Get the points of the overlapped part of two shapes.\n* @function\n* @memberof OverlapArea\n*/\n\nfunction getOverlapPoints(points1, points2) {\n  var targetPoints1 = points1.slice();\n  var targetPoints2 = points2.slice();\n\n  if (getShapeDirection(targetPoints1) === -1) {\n    targetPoints1.reverse();\n  }\n\n  if (getShapeDirection(targetPoints2) === -1) {\n    targetPoints2.reverse();\n  }\n\n  var lines1 = convertLines(targetPoints1);\n  var lines2 = convertLines(targetPoints2);\n  var linearConstantss1 = lines1.map(function (line1) {\n    return getLinearConstants(line1[0], line1[1]);\n  });\n  var linearConstantss2 = lines2.map(function (line2) {\n    return getLinearConstants(line2[0], line2[1]);\n  });\n  var overlapInfos = [];\n  linearConstantss1.forEach(function (linearConstants1, i) {\n    var line1 = lines1[i];\n    var linePointInfos = [];\n    linearConstantss2.forEach(function (linearConstants2, j) {\n      var intersectionPoints = getIntersectionPointsByConstants(linearConstants1, linearConstants2);\n      var points = getPointsOnLines(intersectionPoints, [line1, lines2[j]]);\n      linePointInfos.push.apply(linePointInfos, points.map(function (pos) {\n        return {\n          index1: i,\n          index2: j,\n          pos: pos\n        };\n      }));\n    });\n    linePointInfos.sort(function (a, b) {\n      return getDist(line1[0], a.pos) - getDist(line1[0], b.pos);\n    });\n    overlapInfos.push.apply(overlapInfos, linePointInfos);\n\n    if (isInside(line1[1], targetPoints2)) {\n      overlapInfos.push({\n        index1: i,\n        index2: -1,\n        pos: line1[1]\n      });\n    }\n  });\n  lines2.forEach(function (line2, i) {\n    if (isInside(line2[1], targetPoints1)) {\n      var isNext_1 = false;\n      var index = findIndex(overlapInfos, function (_a) {\n        var index2 = _a.index2;\n\n        if (index2 === i) {\n          isNext_1 = true;\n          return false;\n        }\n\n        if (isNext_1) {\n          return true;\n        }\n\n        return false;\n      });\n\n      if (index === -1) {\n        isNext_1 = false;\n        index = findIndex(overlapInfos, function (_a) {\n          var index1 = _a.index1,\n              index2 = _a.index2;\n\n          if (index1 === -1 && index2 + 1 === i) {\n            isNext_1 = true;\n            return false;\n          }\n\n          if (isNext_1) {\n            return true;\n          }\n\n          return false;\n        });\n      }\n\n      if (index === -1) {\n        overlapInfos.push({\n          index1: -1,\n          index2: i,\n          pos: line2[1]\n        });\n      } else {\n        overlapInfos.splice(index, 0, {\n          index1: -1,\n          index2: i,\n          pos: line2[1]\n        });\n      }\n    }\n  }); // console.log(overlapInfos);\n\n  var overlapPoints = overlapInfos.map(function (_a) {\n    var pos = _a.pos;\n    return pos;\n  });\n  var pointMap = {};\n  return overlapPoints.filter(function (point) {\n    var key = point[0] + \"x\" + point[1];\n\n    if (pointMap[key]) {\n      return false;\n    }\n\n    pointMap[key] = true;\n    return true;\n  });\n}\n/**\n* Gets the size of the overlapped part of two shapes.\n* @function\n* @memberof OverlapArea\n*/\n\nfunction getOverlapSize(points1, points2) {\n  var points = getOverlapPoints(points1, points2);\n  return getAreaSize(points);\n}\n\nexport { convertLines, fitPoints, getAreaSize, getIntersectionPoints, getIntersectionPointsByConstants, getLinearConstants, getMinMaxs, getOverlapPoints, getOverlapSize, getPointsOnLines, isInside };\n//# sourceMappingURL=overlap-area.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: @scena/event-emitter\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/gesture.git\nversion: 1.0.5\n*/\nimport { isObject, findIndex } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\n/**\n * Implement EventEmitter on object or component.\n */\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    this._events = {};\n  }\n  /**\n   * Add a listener to the registered event.\n   * @param - Name of the event to be added\n   * @param - listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add listener in \"a\" event\n   * emitter.on(\"a\", () => {\n   * });\n   * // Add listeners\n   * emitter.on({\n   *  a: () => {},\n   *  b: () => {},\n   * });\n   */\n\n\n  var __proto = EventEmitter.prototype;\n\n  __proto.on = function (eventName, listener) {\n    if (isObject(eventName)) {\n      for (var name in eventName) {\n        this.on(name, eventName[name]);\n      }\n    } else {\n      this._addEvent(eventName, listener, {});\n    }\n\n    return this;\n  };\n  /**\n   * Remove listeners registered in the event target.\n   * @param - Name of the event to be removed\n   * @param - listener function of the event to be removed\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Remove all listeners.\n   * emitter.off();\n   *\n   * // Remove all listeners in \"A\" event.\n   * emitter.off(\"a\");\n   *\n   *\n   * // Remove \"listener\" listener in \"a\" event.\n   * emitter.off(\"a\", listener);\n   */\n\n\n  __proto.off = function (eventName, listener) {\n    if (!eventName) {\n      this._events = {};\n    } else if (isObject(eventName)) {\n      for (var name in eventName) {\n        this.off(name);\n      }\n    } else if (!listener) {\n      this._events[eventName] = [];\n    } else {\n      var events = this._events[eventName];\n\n      if (events) {\n        var index = findIndex(events, function (e) {\n          return e.listener === listener;\n        });\n\n        if (index > -1) {\n          events.splice(index, 1);\n        }\n      }\n    }\n\n    return this;\n  };\n  /**\n   * Add a disposable listener and Use promise to the registered event.\n   * @param - Name of the event to be added\n   * @param - disposable listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add a disposable listener in \"a\" event\n   * emitter.once(\"a\", () => {\n   * });\n   *\n   * // Use Promise\n   * emitter.once(\"a\").then(e => {\n   * });\n   */\n\n\n  __proto.once = function (eventName, listener) {\n    var _this = this;\n\n    if (listener) {\n      this._addEvent(eventName, listener, {\n        once: true\n      });\n    }\n\n    return new Promise(function (resolve) {\n      _this._addEvent(eventName, resolve, {\n        once: true\n      });\n    });\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n\n  __proto.emit = function (eventName, param) {\n    var _this = this;\n\n    if (param === void 0) {\n      param = {};\n    }\n\n    var events = this._events[eventName];\n\n    if (!eventName || !events) {\n      return true;\n    }\n\n    var isStop = false;\n    param.eventType = eventName;\n\n    param.stop = function () {\n      isStop = true;\n    };\n\n    param.currentTarget = this;\n\n    __spreadArrays(events).forEach(function (info) {\n      info.listener(param);\n\n      if (info.once) {\n        _this.off(eventName, info.listener);\n      }\n    });\n\n    return !isStop;\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n  /**\n  * Fires an event to call listeners.\n  * @param - Event name\n  * @param - Event parameter\n  * @return If false, stop the event.\n  * @example\n  *\n  * import EventEmitter from \"@scena/event-emitter\";\n  *\n  *\n  * const emitter = new EventEmitter();\n  *\n  * emitter.on(\"a\", e => {\n  * });\n  *\n  * // emit\n  * emitter.trigger(\"a\", {\n  *   a: 1,\n  * });\n  */\n\n\n  __proto.trigger = function (eventName, param) {\n    if (param === void 0) {\n      param = {};\n    }\n\n    return this.emit(eventName, param);\n  };\n\n  __proto._addEvent = function (eventName, listener, options) {\n    var events = this._events;\n    events[eventName] = events[eventName] || [];\n    var listeners = events[eventName];\n    listeners.push(__assign({\n      listener: listener\n    }, options));\n  };\n\n  return EventEmitter;\n}();\n\nexport default EventEmitter;\n//# sourceMappingURL=event-emitter.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: @scena/dragscroll\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/dragscroll.git\nversion: 1.1.1\n*/\nimport EventEmitter from '@scena/event-emitter';\nimport { now } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction getDefaultScrollPosition(e) {\n  var container = e.container;\n\n  if (container === document.body) {\n    return [container.scrollLeft || document.documentElement.scrollLeft, container.scrollTop || document.documentElement.scrollTop];\n  }\n\n  return [container.scrollLeft, container.scrollTop];\n}\n\nvar DragScroll =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(DragScroll, _super);\n\n  function DragScroll() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._startRect = null;\n    _this._startPos = [];\n    _this._prevTime = 0;\n    _this._timer = 0;\n    _this._prevScrollPos = [0, 0];\n    _this._isWait = false;\n    return _this;\n  }\n\n  var __proto = DragScroll.prototype;\n\n  __proto.dragStart = function (e, options) {\n    var container = options.container;\n    var top = 0;\n    var left = 0;\n    var width = 0;\n    var height = 0;\n\n    if (container === document.body) {\n      width = window.innerWidth;\n      height = window.innerHeight;\n    } else {\n      var rect = container.getBoundingClientRect();\n      top = rect.top;\n      left = rect.left;\n      width = rect.width;\n      height = rect.height;\n    }\n\n    this._startPos = [e.clientX, e.clientY];\n    this._startRect = {\n      top: top,\n      left: left,\n      width: width,\n      height: height\n    };\n    this._prevScrollPos = this._getScrollPosition([0, 0], options);\n  };\n\n  __proto.drag = function (e, options) {\n    var clientX = e.clientX,\n        clientY = e.clientY;\n    var _a = options.threshold,\n        threshold = _a === void 0 ? 0 : _a;\n\n    var _b = this,\n        _startRect = _b._startRect,\n        _startPos = _b._startPos;\n\n    var direction = [0, 0];\n\n    if (_startRect.top > clientY - threshold) {\n      if (_startPos[1] > _startRect.top || clientY < _startPos[1]) {\n        direction[1] = -1;\n      }\n    } else if (_startRect.top + _startRect.height < clientY + threshold) {\n      if (_startPos[1] < _startRect.top + _startRect.height || clientY > _startPos[1]) {\n        direction[1] = 1;\n      }\n    }\n\n    if (_startRect.left > clientX - threshold) {\n      if (_startPos[0] > _startRect.left || clientX < _startPos[0]) {\n        direction[0] = -1;\n      }\n    } else if (_startRect.left + _startRect.width < clientX + threshold) {\n      if (_startPos[0] < _startRect.left + _startRect.width || clientX > _startPos[0]) {\n        direction[0] = 1;\n      }\n    }\n\n    clearTimeout(this._timer);\n\n    if (!direction[0] && !direction[1]) {\n      return false;\n    }\n\n    return this._continueDrag(__assign(__assign({}, options), {\n      direction: direction,\n      inputEvent: e,\n      isDrag: true\n    }));\n  };\n\n  __proto.checkScroll = function (options) {\n    var _this = this;\n\n    if (this._isWait) {\n      return false;\n    }\n\n    var _a = options.prevScrollPos,\n        prevScrollPos = _a === void 0 ? this._prevScrollPos : _a,\n        direction = options.direction,\n        _b = options.throttleTime,\n        throttleTime = _b === void 0 ? 0 : _b,\n        inputEvent = options.inputEvent,\n        isDrag = options.isDrag;\n\n    var nextScrollPos = this._getScrollPosition(direction || [0, 0], options);\n\n    var offsetX = nextScrollPos[0] - prevScrollPos[0];\n    var offsetY = nextScrollPos[1] - prevScrollPos[1];\n    var nextDirection = direction || [offsetX ? Math.abs(offsetX) / offsetX : 0, offsetY ? Math.abs(offsetY) / offsetY : 0];\n    this._prevScrollPos = nextScrollPos;\n\n    if (!offsetX && !offsetY) {\n      return false;\n    }\n\n    this.trigger(\"move\", {\n      offsetX: nextDirection[0] ? offsetX : 0,\n      offsetY: nextDirection[1] ? offsetY : 0,\n      inputEvent: inputEvent\n    });\n\n    if (throttleTime && isDrag) {\n      this._timer = window.setTimeout(function () {\n        _this._continueDrag(options);\n      }, throttleTime);\n    }\n\n    return true;\n  };\n\n  __proto.dragEnd = function () {\n    clearTimeout(this._timer);\n  };\n\n  __proto._getScrollPosition = function (direction, options) {\n    var container = options.container,\n        _a = options.getScrollPosition,\n        getScrollPosition = _a === void 0 ? getDefaultScrollPosition : _a;\n    return getScrollPosition({\n      container: container,\n      direction: direction\n    });\n  };\n\n  __proto._continueDrag = function (options) {\n    var _this = this;\n\n    var container = options.container,\n        direction = options.direction,\n        throttleTime = options.throttleTime,\n        useScroll = options.useScroll,\n        isDrag = options.isDrag,\n        inputEvent = options.inputEvent;\n\n    if (isDrag && this._isWait) {\n      return;\n    }\n\n    var nowTime = now();\n    var distTime = Math.max(throttleTime + this._prevTime - nowTime, 0);\n\n    if (distTime > 0) {\n      this._timer = window.setTimeout(function () {\n        _this._continueDrag(options);\n      }, distTime);\n      return false;\n    }\n\n    this._prevTime = nowTime;\n\n    var prevScrollPos = this._getScrollPosition(direction, options);\n\n    this._prevScrollPos = prevScrollPos;\n\n    if (isDrag) {\n      this._isWait = true;\n    }\n\n    this.trigger(\"scroll\", {\n      container: container,\n      direction: direction,\n      inputEvent: inputEvent\n    });\n    this._isWait = false;\n    return useScroll || this.checkScroll(__assign(__assign({}, options), {\n      prevScrollPos: prevScrollPos,\n      direction: direction,\n      inputEvent: inputEvent\n    }));\n  };\n\n  return DragScroll;\n}(EventEmitter);\n\nexport default DragScroll;\n//# sourceMappingURL=dragscroll.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: gesto\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/gesto.git\nversion: 1.8.0\n*/\nimport EventEmitter from '@scena/event-emitter';\nimport { removeEvent, now, addEvent } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction getRad(pos1, pos2) {\n  var distX = pos2[0] - pos1[0];\n  var distY = pos2[1] - pos1[1];\n  var rad = Math.atan2(distY, distX);\n  return rad >= 0 ? rad : rad + Math.PI * 2;\n}\nfunction getRotatiion(touches) {\n  return getRad([touches[0].clientX, touches[0].clientY], [touches[1].clientX, touches[1].clientY]) / Math.PI * 180;\n}\nfunction isMultiTouch(e) {\n  return e.touches && e.touches.length >= 2;\n}\nfunction getEventClients(e) {\n  if (e.touches) {\n    return getClients(e.touches);\n  } else {\n    return [getClient(e)];\n  }\n}\nfunction getPosition(clients, prevClients, startClients) {\n  var length = startClients.length;\n\n  var _a = getAverageClient(clients, length),\n      clientX = _a.clientX,\n      clientY = _a.clientY,\n      originalClientX = _a.originalClientX,\n      originalClientY = _a.originalClientY;\n\n  var _b = getAverageClient(prevClients, length),\n      prevX = _b.clientX,\n      prevY = _b.clientY;\n\n  var _c = getAverageClient(startClients, length),\n      startX = _c.clientX,\n      startY = _c.clientY;\n\n  var deltaX = clientX - prevX;\n  var deltaY = clientY - prevY;\n  var distX = clientX - startX;\n  var distY = clientY - startY;\n  return {\n    clientX: originalClientX,\n    clientY: originalClientY,\n    deltaX: deltaX,\n    deltaY: deltaY,\n    distX: distX,\n    distY: distY\n  };\n}\nfunction getDist(clients) {\n  return Math.sqrt(Math.pow(clients[0].clientX - clients[1].clientX, 2) + Math.pow(clients[0].clientY - clients[1].clientY, 2));\n}\nfunction getClients(touches) {\n  var length = Math.min(touches.length, 2);\n  var clients = [];\n\n  for (var i = 0; i < length; ++i) {\n    clients.push(getClient(touches[i]));\n  }\n\n  return clients;\n}\nfunction getClient(e) {\n  return {\n    clientX: e.clientX,\n    clientY: e.clientY\n  };\n}\nfunction getAverageClient(clients, length) {\n  if (length === void 0) {\n    length = clients.length;\n  }\n\n  var sumClient = {\n    clientX: 0,\n    clientY: 0,\n    originalClientX: 0,\n    originalClientY: 0\n  };\n\n  for (var i = 0; i < length; ++i) {\n    var client = clients[i];\n    sumClient.originalClientX += \"originalClientX\" in client ? client.originalClientX : client.clientX;\n    sumClient.originalClientY += \"originalClientY\" in client ? client.originalClientY : client.clientY;\n    sumClient.clientX += client.clientX;\n    sumClient.clientY += client.clientY;\n  }\n\n  if (!length) {\n    return sumClient;\n  }\n\n  return {\n    clientX: sumClient.clientX / length,\n    clientY: sumClient.clientY / length,\n    originalClientX: sumClient.originalClientX / length,\n    originalClientY: sumClient.originalClientY / length\n  };\n}\n\nvar ClientStore =\n/*#__PURE__*/\nfunction () {\n  function ClientStore(clients) {\n    this.prevClients = [];\n    this.startClients = [];\n    this.movement = 0;\n    this.length = 0;\n    this.startClients = clients;\n    this.prevClients = clients;\n    this.length = clients.length;\n  }\n\n  var __proto = ClientStore.prototype;\n\n  __proto.getAngle = function (clients) {\n    if (clients === void 0) {\n      clients = this.prevClients;\n    }\n\n    return getRotatiion(clients);\n  };\n\n  __proto.getRotation = function (clients) {\n    if (clients === void 0) {\n      clients = this.prevClients;\n    }\n\n    return getRotatiion(clients) - getRotatiion(this.startClients);\n  };\n\n  __proto.getPosition = function (clients, isAdd) {\n    if (clients === void 0) {\n      clients = this.prevClients;\n    }\n\n    var position = getPosition(clients || this.prevClients, this.prevClients, this.startClients);\n    var deltaX = position.deltaX,\n        deltaY = position.deltaY;\n    this.movement += Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    this.prevClients = clients;\n    return position;\n  };\n\n  __proto.getPositions = function (clients) {\n    if (clients === void 0) {\n      clients = this.prevClients;\n    }\n\n    var prevClients = this.prevClients;\n    return this.startClients.map(function (startClient, i) {\n      return getPosition([clients[i]], [prevClients[i]], [startClient]);\n    });\n  };\n\n  __proto.getMovement = function (clients) {\n    var movement = this.movement;\n\n    if (!clients) {\n      return movement;\n    }\n\n    var currentClient = getAverageClient(clients, this.length);\n    var prevClient = getAverageClient(this.prevClients, this.length);\n    var deltaX = currentClient.clientX - prevClient.clientX;\n    var deltaY = currentClient.clientY - prevClient.clientY;\n    return Math.sqrt(deltaX * deltaX + deltaY * deltaY) + movement;\n  };\n\n  __proto.getDistance = function (clients) {\n    if (clients === void 0) {\n      clients = this.prevClients;\n    }\n\n    return getDist(clients);\n  };\n\n  __proto.getScale = function (clients) {\n    if (clients === void 0) {\n      clients = this.prevClients;\n    }\n\n    return getDist(clients) / getDist(this.startClients);\n  };\n\n  __proto.move = function (deltaX, deltaY) {\n    this.startClients.forEach(function (client) {\n      client.clientX -= deltaX;\n      client.clientY -= deltaY;\n    });\n  };\n\n  return ClientStore;\n}();\n\nvar INPUT_TAGNAMES = [\"textarea\", \"input\"];\n/**\n * You can set up drag, pinch events in any browser.\n */\n\nvar Gesto =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Gesto, _super);\n  /**\n   *\n   */\n\n\n  function Gesto(targets, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this.options = {};\n    _this.flag = false;\n    _this.pinchFlag = false;\n    _this.datas = {};\n    _this.isDrag = false;\n    _this.isPinch = false;\n    _this.isMouse = false;\n    _this.isTouch = false;\n    _this.clientStores = [];\n    _this.targets = [];\n    _this.prevTime = 0;\n    _this.doubleFlag = false;\n    _this._dragFlag = false;\n\n    _this.onDragStart = function (e, isTrusted) {\n      if (isTrusted === void 0) {\n        isTrusted = true;\n      }\n\n      if (!_this.flag && e.cancelable === false) {\n        return;\n      }\n\n      var _a = _this.options,\n          container = _a.container,\n          pinchOutside = _a.pinchOutside,\n          preventRightClick = _a.preventRightClick,\n          preventDefault = _a.preventDefault,\n          checkInput = _a.checkInput;\n      var isTouch = _this.isTouch;\n      var isDragStart = !_this.flag;\n\n      if (isDragStart) {\n        var activeElement = document.activeElement;\n        var target = e.target;\n        var tagName = target.tagName.toLowerCase();\n        var hasInput = INPUT_TAGNAMES.indexOf(tagName) > -1;\n        var hasContentEditable = target.isContentEditable;\n\n        if (hasInput || hasContentEditable) {\n          if (checkInput || activeElement === target) {\n            // force false or already focused.\n            return false;\n          } // no focus\n\n\n          if (activeElement && hasContentEditable && activeElement.isContentEditable && activeElement.contains(target)) {\n            return false;\n          }\n        } else if ((preventDefault || e.type === \"touchstart\") && activeElement) {\n          var activeTagName = activeElement.tagName;\n\n          if (activeElement.isContentEditable || INPUT_TAGNAMES.indexOf(activeTagName) > -1) {\n            activeElement.blur();\n          }\n        }\n\n        _this.clientStores = [new ClientStore(getEventClients(e))];\n        _this.flag = true;\n        _this.isDrag = false;\n        _this._dragFlag = true;\n        _this.datas = {};\n\n        if (preventRightClick && (e.which === 3 || e.button === 2)) {\n          _this.initDrag();\n\n          return false;\n        }\n\n        _this.doubleFlag = now() - _this.prevTime < 200;\n\n        var result = _this.emit(\"dragStart\", __assign({\n          datas: _this.datas,\n          inputEvent: e,\n          isTrusted: isTrusted,\n          isDouble: _this.doubleFlag\n        }, _this.getCurrentStore().getPosition(), {\n          preventDefault: function () {\n            e.preventDefault();\n          },\n          preventDrag: function () {\n            _this._dragFlag = false;\n          }\n        }));\n\n        if (result === false) {\n          _this.initDrag();\n        }\n\n        _this.flag && preventDefault && e.preventDefault();\n      }\n\n      if (!_this.flag) {\n        return false;\n      }\n\n      var timer = 0;\n\n      if (isDragStart && isTouch && pinchOutside) {\n        timer = setTimeout(function () {\n          addEvent(container, \"touchstart\", _this.onDragStart, {\n            passive: false\n          });\n        });\n      }\n\n      if (!isDragStart && isTouch && pinchOutside) {\n        removeEvent(container, \"touchstart\", _this.onDragStart);\n      }\n\n      if (_this.flag && isMultiTouch(e)) {\n        clearTimeout(timer);\n\n        if (isDragStart && e.touches.length !== e.changedTouches.length) {\n          return;\n        }\n\n        if (!_this.pinchFlag) {\n          _this.onPinchStart(e);\n        }\n      }\n    };\n\n    _this.onDrag = function (e, isScroll) {\n      if (!_this.flag) {\n        return;\n      }\n\n      var clients = getEventClients(e);\n\n      var result = _this.moveClients(clients, e, false);\n\n      if (_this._dragFlag) {\n        if (_this.pinchFlag || result.deltaX || result.deltaY) {\n          var dragResult = _this.emit(\"drag\", __assign({}, result, {\n            isScroll: !!isScroll,\n            inputEvent: e\n          }));\n\n          if (dragResult === false) {\n            _this.stop();\n\n            return;\n          }\n        }\n\n        if (_this.pinchFlag) {\n          _this.onPinch(e, clients);\n        }\n      }\n\n      _this.getCurrentStore().getPosition(clients, true);\n    };\n\n    _this.onDragEnd = function (e) {\n      if (!_this.flag) {\n        return;\n      }\n\n      var _a = _this.options,\n          pinchOutside = _a.pinchOutside,\n          container = _a.container;\n\n      if (_this.isTouch && pinchOutside) {\n        removeEvent(container, \"touchstart\", _this.onDragStart);\n      }\n\n      if (_this.pinchFlag) {\n        _this.onPinchEnd(e);\n      }\n\n      var clients = getEventClients(e);\n      var clientsLength = clients.length;\n\n      if (clientsLength === 0 || !_this.options.keepDragging) {\n        _this.flag = false;\n      } else {\n        _this._addStore(new ClientStore(clients));\n      }\n\n      var position = _this._getPosition();\n\n      var currentTime = now();\n      var isDouble = !_this.isDrag && _this.doubleFlag;\n      _this.prevTime = _this.isDrag || isDouble ? 0 : currentTime;\n\n      if (!_this.flag) {\n        _this.emit(\"dragEnd\", __assign({\n          datas: _this.datas,\n          isDouble: isDouble,\n          isDrag: _this.isDrag,\n          isClick: !_this.isDrag,\n          inputEvent: e\n        }, position));\n\n        _this.clientStores = [];\n      }\n    };\n\n    _this.onBlur = function () {\n      _this.onDragEnd();\n    };\n\n    var elements = [].concat(targets);\n    _this.options = __assign({\n      checkInput: false,\n      container: elements.length > 1 ? window : elements[0],\n      preventRightClick: true,\n      preventDefault: true,\n      checkWindowBlur: false,\n      keepDragging: false,\n      pinchThreshold: 0,\n      events: [\"touch\", \"mouse\"]\n    }, options);\n    var _a = _this.options,\n        container = _a.container,\n        events = _a.events,\n        checkWindowBlur = _a.checkWindowBlur;\n    _this.isTouch = events.indexOf(\"touch\") > -1;\n    _this.isMouse = events.indexOf(\"mouse\") > -1;\n    _this.targets = elements;\n\n    if (_this.isMouse) {\n      elements.forEach(function (el) {\n        addEvent(el, \"mousedown\", _this.onDragStart);\n      });\n      addEvent(container, \"mousemove\", _this.onDrag);\n      addEvent(container, \"mouseup\", _this.onDragEnd);\n      addEvent(container, \"contextmenu\", _this.onDragEnd);\n    }\n\n    if (checkWindowBlur) {\n      addEvent(window, \"blur\", _this.onBlur);\n    }\n\n    if (_this.isTouch) {\n      var passive_1 = {\n        passive: false\n      };\n      elements.forEach(function (el) {\n        addEvent(el, \"touchstart\", _this.onDragStart, passive_1);\n      });\n      addEvent(container, \"touchmove\", _this.onDrag, passive_1);\n      addEvent(container, \"touchend\", _this.onDragEnd, passive_1);\n      addEvent(container, \"touchcancel\", _this.onDragEnd, passive_1);\n    }\n\n    return _this;\n  }\n  /**\n   * Stop Gesto's drag events.\n   */\n\n\n  var __proto = Gesto.prototype;\n\n  __proto.stop = function () {\n    this.isDrag = false;\n    this.flag = false;\n    this.clientStores = [];\n    this.datas = {};\n  };\n  /**\n   * The total moved distance\n   */\n\n\n  __proto.getMovement = function (clients) {\n    return this.getCurrentStore().getMovement(clients) + this.clientStores.slice(1).reduce(function (prev, cur) {\n      return prev + cur.movement;\n    }, 0);\n  };\n  /**\n   * Whether to drag\n   */\n\n\n  __proto.isDragging = function () {\n    return this.isDrag;\n  };\n  /**\n   * Whether to start drag\n   */\n\n\n  __proto.isFlag = function () {\n    return this.flag;\n  };\n  /**\n   * Whether to start pinch\n   */\n\n\n  __proto.isPinchFlag = function () {\n    return this.pinchFlag;\n  };\n  /**\n  * Whether to start double click\n  */\n\n\n  __proto.isDoubleFlag = function () {\n    return this.doubleFlag;\n  };\n  /**\n   * Whether to pinch\n   */\n\n\n  __proto.isPinching = function () {\n    return this.isPinch;\n  };\n  /**\n   * If a scroll event occurs, it is corrected by the scroll distance.\n   */\n\n\n  __proto.scrollBy = function (deltaX, deltaY, e, isCallDrag) {\n    if (isCallDrag === void 0) {\n      isCallDrag = true;\n    }\n\n    if (!this.flag) {\n      return;\n    }\n\n    this.clientStores[0].move(deltaX, deltaY);\n    isCallDrag && this.onDrag(e, true);\n  };\n  /**\n   * Create a virtual drag event.\n   */\n\n\n  __proto.move = function (_a, inputEvent) {\n    var deltaX = _a[0],\n        deltaY = _a[1];\n    var store = this.getCurrentStore();\n    var nextClients = store.prevClients;\n    return this.moveClients(nextClients.map(function (_a) {\n      var clientX = _a.clientX,\n          clientY = _a.clientY;\n      return {\n        clientX: clientX + deltaX,\n        clientY: clientY + deltaY,\n        originalClientX: clientX,\n        originalClientY: clientY\n      };\n    }), inputEvent, true);\n  };\n  /**\n   * The dragStart event is triggered by an external event.\n   */\n\n\n  __proto.triggerDragStart = function (e) {\n    this.onDragStart(e, false);\n  };\n  /**\n   * Set the event data while dragging.\n   */\n\n\n  __proto.setEventDatas = function (datas) {\n    var currentDatas = this.datas;\n\n    for (var name in datas) {\n      currentDatas[name] = datas[name];\n    }\n\n    return this;\n  };\n  /**\n   * Get the current event state while dragging.\n   */\n\n\n  __proto.getCurrentEvent = function (inputEvent) {\n    return __assign({\n      datas: this.datas\n    }, this._getPosition(), {\n      movement: this.getMovement(),\n      isDrag: this.isDrag,\n      isPinch: this.isPinch,\n      isScroll: false,\n      inputEvent: inputEvent\n    });\n  };\n  /**\n   * Get & Set the event data while dragging.\n   */\n\n\n  __proto.getEventDatas = function () {\n    return this.datas;\n  };\n  /**\n   * Unset Gesto\n   */\n\n\n  __proto.unset = function () {\n    var _this = this;\n\n    var targets = this.targets;\n    var container = this.options.container;\n    this.off();\n    removeEvent(window, \"blur\", this.onBlur);\n\n    if (this.isMouse) {\n      targets.forEach(function (target) {\n        removeEvent(target, \"mousedown\", _this.onDragStart);\n      });\n      removeEvent(container, \"mousemove\", this.onDrag);\n      removeEvent(container, \"mouseup\", this.onDragEnd);\n      removeEvent(container, \"contextmenu\", this.onDragEnd);\n    }\n\n    if (this.isTouch) {\n      targets.forEach(function (target) {\n        removeEvent(target, \"touchstart\", _this.onDragStart);\n      });\n      removeEvent(container, \"touchstart\", this.onDragStart);\n      removeEvent(container, \"touchmove\", this.onDrag);\n      removeEvent(container, \"touchend\", this.onDragEnd);\n      removeEvent(container, \"touchcancel\", this.onDragEnd);\n    }\n  };\n\n  __proto.onPinchStart = function (e) {\n    var pinchThreshold = this.options.pinchThreshold;\n\n    if (this.isDrag && this.getMovement() > pinchThreshold) {\n      return;\n    }\n\n    var store = new ClientStore(getEventClients(e));\n    this.pinchFlag = true;\n\n    this._addStore(store);\n\n    var result = this.emit(\"pinchStart\", __assign({\n      datas: this.datas,\n      angle: store.getAngle(),\n      touches: this.getCurrentStore().getPositions()\n    }, store.getPosition(), {\n      inputEvent: e\n    }));\n\n    if (result === false) {\n      this.pinchFlag = false;\n    }\n  };\n\n  __proto.onPinch = function (e, clients) {\n    if (!this.flag || !this.pinchFlag || clients.length < 2) {\n      return;\n    }\n\n    var store = this.getCurrentStore();\n    this.isPinch = true;\n    this.emit(\"pinch\", __assign({\n      datas: this.datas,\n      movement: this.getMovement(clients),\n      angle: store.getAngle(clients),\n      rotation: store.getRotation(clients),\n      touches: store.getPositions(clients),\n      scale: store.getScale(clients),\n      distance: store.getDistance(clients)\n    }, store.getPosition(clients), {\n      inputEvent: e\n    }));\n  };\n\n  __proto.onPinchEnd = function (e) {\n    if (!this.pinchFlag) {\n      return;\n    }\n\n    var isPinch = this.isPinch;\n    this.isPinch = false;\n    this.pinchFlag = false;\n    var store = this.getCurrentStore();\n    this.emit(\"pinchEnd\", __assign({\n      datas: this.datas,\n      isPinch: isPinch,\n      touches: store.getPositions()\n    }, store.getPosition(), {\n      inputEvent: e\n    }));\n  };\n\n  __proto.initDrag = function () {\n    this.clientStores = [];\n    this.pinchFlag = false;\n    this.doubleFlag = false;\n    this.prevTime = 0;\n    this.flag = false;\n  };\n\n  __proto.getCurrentStore = function () {\n    return this.clientStores[0];\n  };\n\n  __proto.moveClients = function (clients, inputEvent, isAdd) {\n    var position = this._getPosition(clients, isAdd);\n\n    if (position.deltaX || position.deltaY) {\n      this.isDrag = true;\n    }\n\n    return __assign({\n      datas: this.datas\n    }, position, {\n      movement: this.getMovement(clients),\n      isDrag: this.isDrag,\n      isPinch: this.isPinch,\n      isScroll: false,\n      inputEvent: inputEvent\n    });\n  };\n\n  __proto._addStore = function (store) {\n    this.clientStores.splice(0, 0, store);\n  };\n\n  __proto._getPosition = function (clients, isAdd) {\n    var store = this.getCurrentStore();\n    var position = store.getPosition(clients, isAdd);\n\n    var _a = this.clientStores.slice(1).reduce(function (prev, cur) {\n      var storePosition = cur.getPosition();\n      prev.distX += storePosition.distX;\n      prev.distY += storePosition.distY;\n      return prev;\n    }, position),\n        distX = _a.distX,\n        distY = _a.distY;\n\n    return __assign({}, position, {\n      distX: distX,\n      distY: distY\n    });\n  };\n\n  return Gesto;\n}(EventEmitter);\n\nexport default Gesto;\n//# sourceMappingURL=gesto.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: css-styled\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/css-styled.git\nversion: 1.0.0\n*/\nimport { splitComma } from '@daybrush/utils';\n\nfunction hash(str) {\n  var hash = 5381,\n      i    = str.length;\n\n  while(i) {\n    hash = (hash * 33) ^ str.charCodeAt(--i);\n  }\n\n  /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */\n  return hash >>> 0;\n}\n\nvar stringHash = hash;\n\nfunction getHash(str) {\n  return stringHash(str).toString(36);\n}\nfunction getShadowRoot(parentElement) {\n  if (parentElement && parentElement.getRootNode) {\n    var rootNode = parentElement.getRootNode();\n\n    if (rootNode.nodeType === 11) {\n      return rootNode;\n    }\n  }\n\n  return;\n}\nfunction replaceStyle(className, css, options) {\n  if (options.original) {\n    return css;\n  }\n\n  return css.replace(/([^};{\\s}][^};{]*|^\\s*){/mg, function (_, selector) {\n    var trimmedSelector = selector.trim();\n    return (trimmedSelector ? splitComma(trimmedSelector) : [\"\"]).map(function (subSelector) {\n      var trimmedSubSelector = subSelector.trim();\n\n      if (trimmedSubSelector.indexOf(\"@\") === 0) {\n        return trimmedSubSelector;\n      } else if (trimmedSubSelector.indexOf(\":global\") > -1) {\n        return trimmedSubSelector.replace(/\\:global/g, \"\");\n      } else if (trimmedSubSelector.indexOf(\":host\") > -1) {\n        return \"\" + trimmedSubSelector.replace(/\\:host/g, \".\" + className);\n      } else if (trimmedSubSelector) {\n        return \".\" + className + \" \" + trimmedSubSelector;\n      } else {\n        return \".\" + className;\n      }\n    }).join(\", \") + \" {\";\n  });\n}\nfunction injectStyle(className, css, options, shadowRoot) {\n  var style = document.createElement(\"style\");\n  style.setAttribute(\"type\", \"text/css\");\n  style.setAttribute(\"data-styled-id\", className);\n\n  if (options.nonce) {\n    style.setAttribute(\"nonce\", options.nonce);\n  }\n\n  style.innerHTML = replaceStyle(className, css, options);\n  (shadowRoot || document.head || document.body).appendChild(style);\n  return style;\n}\n\n/**\n * Create an styled object that can be defined and inserted into the css.\n * @param - css styles\n */\n\nfunction styled(css) {\n  var injectClassName = \"rCS\" + getHash(css);\n  var injectCount = 0;\n  var injectElement;\n  return {\n    className: injectClassName,\n    inject: function (el, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      var shadowRoot = getShadowRoot(el);\n      var firstMount = injectCount === 0;\n      var styleElement;\n\n      if (shadowRoot || firstMount) {\n        styleElement = injectStyle(injectClassName, css, options, shadowRoot);\n      }\n\n      if (firstMount) {\n        injectElement = styleElement;\n      }\n\n      if (!shadowRoot) {\n        ++injectCount;\n      }\n\n      return {\n        destroy: function () {\n          if (shadowRoot) {\n            el.removeChild(styleElement);\n            styleElement = null;\n          } else {\n            if (injectCount > 0) {\n              --injectCount;\n            }\n\n            if (injectCount === 0 && injectElement) {\n              injectElement.parentNode.removeChild(injectElement);\n              injectElement = null;\n            }\n          }\n        }\n      };\n    }\n  };\n}\n\nexport default styled;\n//# sourceMappingURL=styled.esm.js.map\n","/*\nCopyright (c) Daybrush\nname: react-compat-css-styled\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/css-styled.git\nversion: 1.0.8\n*/\nimport cssStyled from 'css-styled';\nimport { version, createElement, Component } from 'react-simple-compat';\nimport { ref } from 'framework-utils';\n\n/*\nCopyright (c) 2019 Daybrush\nname: react-css-styled\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/css-styled/tree/master/packages/react-css-styled\nversion: 1.0.3\n*/\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nvar StyledElement =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(StyledElement, _super);\n\n  function StyledElement() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.injectResult = null;\n    _this.tag = \"div\";\n    return _this;\n  }\n\n  var __proto = StyledElement.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        _b = _a.className,\n        className = _b === void 0 ? \"\" : _b,\n        cspNonce = _a.cspNonce,\n        portalContainer = _a.portalContainer,\n        attributes = __rest(_a, [\"className\", \"cspNonce\", \"portalContainer\"]);\n\n    var cssId = this.injector.className;\n    var Tag = this.tag;\n    var portalAttributes = {};\n\n    if ((version || \"\").indexOf(\"simple\") > -1 && portalContainer) {\n      portalAttributes = {\n        portalContainer: portalContainer\n      };\n    }\n\n    return createElement(Tag, __assign({\n      \"ref\": ref(this, \"element\"),\n      \"data-styled-id\": cssId,\n      \"className\": className + \" \" + cssId\n    }, portalAttributes, attributes));\n  };\n\n  __proto.componentDidMount = function () {\n    this.injectResult = this.injector.inject(this.element, {\n      nonce: this.props.cspNonce\n    });\n  };\n\n  __proto.componentWillUnmount = function () {\n    this.injectResult.destroy();\n    this.injectResult = null;\n  };\n\n  __proto.getElement = function () {\n    return this.element;\n  };\n\n  return StyledElement;\n}(Component);\n\nfunction styled(tag, css) {\n  var injector = cssStyled(css);\n  return (\n    /*#__PURE__*/\n    function (_super) {\n      __extends(Styled, _super);\n\n      function Styled() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.injector = injector;\n        _this.tag = tag;\n        return _this;\n      }\n\n      return Styled;\n    }(StyledElement)\n  );\n}\n\nexport default styled;\nexport { StyledElement };\n","/*\nCopyright (c) 2019 Daybrush\nname: react-compat-moveable\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/moveable/blob/master/packages/react-compat-moveable\nversion: 0.17.8\n*/\nimport getAgent from '@egjs/agent';\nimport { prefixNames, ref, withMethods, refs, prefixCSS } from 'framework-utils';\nimport { isObject, findIndex, isArray, splitSpace, getRad, throttle, hasClass, throttleArray, getShapeDirection, convertUnitSize, isString, average, calculateBoundSize, getDist as getDist$1, dot, addEvent, requestAnimationFrame, removeEvent, isUndefined, isFunction, addClass, splitBracket, splitComma, splitUnit, cancelAnimationFrame, getKeys, TINY_NUM as TINY_NUM$1, removeClass } from '@daybrush/utils';\nimport { calculate, convertPositionMatrix, minus, plus, invert, fromTranslation, multiply, convertDimension, multiplies, createOriginMatrix, createIdentityMatrix, ignoreDimension, createWarpMatrix, convertMatrixtoCSS, rotate, createRotateMatrix, createScaleMatrix, convertCSStoMatrix, getOrigin } from '@scena/matrix';\nimport { toMat, parse, calculateMatrixDist, parseMat } from 'css-to-mat';\nimport ChildrenDiffer, { diff } from '@egjs/children-differ';\nimport { fitPoints, getOverlapSize, getAreaSize, isInside, getMinMaxs } from 'overlap-area';\nimport DragScroll from '@scena/dragscroll';\nimport { createElement, PureComponent } from 'react-simple-compat';\nimport Gesto from 'gesto';\nimport styled from 'react-compat-css-styled';\n\n/*\nCopyright (c) 2019 Daybrush\nname: @scena/event-emitter\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/gesture.git\nversion: 1.0.5\n*/\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\n/**\n * Implement EventEmitter on object or component.\n */\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    this._events = {};\n  }\n  /**\n   * Add a listener to the registered event.\n   * @param - Name of the event to be added\n   * @param - listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add listener in \"a\" event\n   * emitter.on(\"a\", () => {\n   * });\n   * // Add listeners\n   * emitter.on({\n   *  a: () => {},\n   *  b: () => {},\n   * });\n   */\n\n\n  var __proto = EventEmitter.prototype;\n\n  __proto.on = function (eventName, listener) {\n    if (isObject(eventName)) {\n      for (var name in eventName) {\n        this.on(name, eventName[name]);\n      }\n    } else {\n      this._addEvent(eventName, listener, {});\n    }\n\n    return this;\n  };\n  /**\n   * Remove listeners registered in the event target.\n   * @param - Name of the event to be removed\n   * @param - listener function of the event to be removed\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Remove all listeners.\n   * emitter.off();\n   *\n   * // Remove all listeners in \"A\" event.\n   * emitter.off(\"a\");\n   *\n   *\n   * // Remove \"listener\" listener in \"a\" event.\n   * emitter.off(\"a\", listener);\n   */\n\n\n  __proto.off = function (eventName, listener) {\n    if (!eventName) {\n      this._events = {};\n    } else if (isObject(eventName)) {\n      for (var name in eventName) {\n        this.off(name);\n      }\n    } else if (!listener) {\n      this._events[eventName] = [];\n    } else {\n      var events = this._events[eventName];\n\n      if (events) {\n        var index = findIndex(events, function (e) {\n          return e.listener === listener;\n        });\n\n        if (index > -1) {\n          events.splice(index, 1);\n        }\n      }\n    }\n\n    return this;\n  };\n  /**\n   * Add a disposable listener and Use promise to the registered event.\n   * @param - Name of the event to be added\n   * @param - disposable listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add a disposable listener in \"a\" event\n   * emitter.once(\"a\", () => {\n   * });\n   *\n   * // Use Promise\n   * emitter.once(\"a\").then(e => {\n   * });\n   */\n\n\n  __proto.once = function (eventName, listener) {\n    var _this = this;\n\n    if (listener) {\n      this._addEvent(eventName, listener, {\n        once: true\n      });\n    }\n\n    return new Promise(function (resolve) {\n      _this._addEvent(eventName, resolve, {\n        once: true\n      });\n    });\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n\n  __proto.emit = function (eventName, param) {\n    var _this = this;\n\n    if (param === void 0) {\n      param = {};\n    }\n\n    var events = this._events[eventName];\n\n    if (!eventName || !events) {\n      return true;\n    }\n\n    var isStop = false;\n    param.eventType = eventName;\n\n    param.stop = function () {\n      isStop = true;\n    };\n\n    param.currentTarget = this;\n\n    __spreadArrays(events).forEach(function (info) {\n      info.listener(param);\n\n      if (info.once) {\n        _this.off(eventName, info.listener);\n      }\n    });\n\n    return !isStop;\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n  /**\n  * Fires an event to call listeners.\n  * @param - Event name\n  * @param - Event parameter\n  * @return If false, stop the event.\n  * @example\n  *\n  * import EventEmitter from \"@scena/event-emitter\";\n  *\n  *\n  * const emitter = new EventEmitter();\n  *\n  * emitter.on(\"a\", e => {\n  * });\n  *\n  * // emit\n  * emitter.trigger(\"a\", {\n  *   a: 1,\n  * });\n  */\n\n\n  __proto.trigger = function (eventName, param) {\n    if (param === void 0) {\n      param = {};\n    }\n\n    return this.emit(eventName, param);\n  };\n\n  __proto._addEvent = function (eventName, listener, options) {\n    var events = this._events;\n    events[eventName] = events[eventName] || [];\n    var listeners = events[eventName];\n    listeners.push(__assign({\n      listener: listener\n    }, options));\n  };\n\n  return EventEmitter;\n}();\n\n/*\nCopyright (c) 2019 Daybrush\nname: react-moveable\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/moveable/blob/master/packages/react-moveable\nversion: 0.32.7\n*/\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar __assign$1 = function () {\n  __assign$1 = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign$1.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nfunction makeAble(name, able) {\n  var _a;\n\n  return __assign$1({\n    events: {},\n    props: (_a = {}, _a[name] = Boolean, _a),\n    name: name\n  }, able);\n}\n\nfunction getSVGCursor(scale, degree) {\n  return \"data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"\".concat(32 * scale, \"px\\\" height=\\\"\").concat(32 * scale, \"px\\\" viewBox=\\\"0 0 32 32\\\" ><path d=\\\"M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1.2\\\" fill=\\\"black\\\" stroke=\\\"white\\\" style=\\\"transform:rotate(\").concat(degree, \"deg);transform-origin: 16px 16px\\\"></path></svg>\");\n}\n\nfunction getCursorCSS(degree) {\n  var x1 = getSVGCursor(1, degree); // const x2 = getSVGCursor(2, degree);\n\n  var degree45 = Math.round(degree / 45) * 45 % 180;\n  var defaultCursor = \"ns-resize\";\n\n  if (degree45 === 135) {\n    defaultCursor = \"nwse-resize\";\n  } else if (degree45 === 45) {\n    defaultCursor = \"nesw-resize\";\n  } else if (degree45 === 90) {\n    defaultCursor = \"ew-resize\";\n  } // tslint:disable-next-line: max-line-length\n\n\n  return \"cursor:\".concat(defaultCursor, \";cursor: url('\").concat(x1, \"') 16 16, \").concat(defaultCursor, \";\");\n}\n\nvar agent = getAgent();\nvar IS_WEBKIT = agent.browser.webkit;\n\nvar IS_WEBKIT605 = IS_WEBKIT && function () {\n  var navi = typeof window === \"undefined\" ? {\n    userAgent: \"\"\n  } : window.navigator;\n  var res = /applewebkit\\/([^\\s]+)/g.exec(navi.userAgent.toLowerCase());\n  return res ? parseFloat(res[1]) < 605 : false;\n}();\n\nvar PREFIX = \"moveable-\";\nvar MOVEABLE_CSS = \"\\n{\\n\\tposition: absolute;\\n\\twidth: 1px;\\n\\theight: 1px;\\n\\tleft: 0;\\n\\ttop: 0;\\n    z-index: 3000;\\n    --moveable-color: #4af;\\n    --zoom: 1;\\n    --zoompx: 1px;\\n    will-change: transform;\\n}\\n.control-box {\\n    z-index: 0;\\n}\\n.line, .control {\\n    position: absolute;\\n\\tleft: 0;\\n    top: 0;\\n    will-change: transform;\\n}\\n.control {\\n\\twidth: 14px;\\n\\theight: 14px;\\n\\tborder-radius: 50%;\\n\\tborder: 2px solid #fff;\\n\\tbox-sizing: border-box;\\n    background: #4af;\\n    background: var(--moveable-color);\\n\\tmargin-top: -7px;\\n    margin-left: -7px;\\n    border: 2px solid #fff;\\n    z-index: 10;\\n}\\n.padding {\\n    position: absolute;\\n    top: 0px;\\n    left: 0px;\\n    width: 100px;\\n    height: 100px;\\n    transform-origin: 0 0;\\n}\\n.line {\\n\\twidth: 1px;\\n    height: 1px;\\n    background: #4af;\\n    background: var(--moveable-color);\\n\\ttransform-origin: 0px 50%;\\n}\\n.line.dashed {\\n    box-sizing: border-box;\\n    background: transparent;\\n}\\n.line.dashed.horizontal {\\n    border-top: 1px dashed #4af;\\n    border-top-color: #4af;\\n    border-top-color: var(--moveable-color);\\n}\\n.line.dashed.vertical {\\n    border-left: 1px dashed #4af;\\n    border-left-color: #4af;\\n    border-left-color: var(--moveable-color);\\n}\\n.line.vertical {\\n    transform: translateX(-50%);\\n}\\n.line.horizontal {\\n    transform: translateY(-50%);\\n}\\n.line.vertical.bold {\\n    width: 2px;\\n}\\n.line.horizontal.bold {\\n    height: 2px;\\n}\\n\\n.control.origin {\\n\\tborder-color: #f55;\\n\\tbackground: #fff;\\n\\twidth: 12px;\\n\\theight: 12px;\\n\\tmargin-top: -6px;\\n    margin-left: -6px;\\n\\tpointer-events: none;\\n}\\n\".concat([0, 15, 30, 45, 60, 75, 90, 105, 120, 135, 150, 165].map(function (degree) {\n  return \"\\n.direction[data-rotation=\\\"\".concat(degree, \"\\\"] {\\n\\t\").concat(getCursorCSS(degree), \"\\n}\\n\");\n}).join(\"\\n\"), \"\\n.group {\\n    z-index: -1;\\n}\\n.area {\\n    position: absolute;\\n}\\n.area-pieces {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    display: none;\\n}\\n.area.avoid, .area.pass {\\n    pointer-events: none;\\n}\\n.area.avoid+.area-pieces {\\n    display: block;\\n}\\n.area-piece {\\n    position: absolute;\\n}\\n\\n\").concat(IS_WEBKIT605 ? \":global svg *:before {\\n\\tcontent:\\\"\\\";\\n\\ttransform-origin: inherit;\\n}\" : \"\", \"\\n\");\nvar NEARBY_POS = [[0, 1, 2], [1, 0, 3], [2, 0, 3], [3, 1, 2]];\nvar FLOAT_POINT_NUM = 0.0001;\nvar TINY_NUM = 0.0000001;\nvar MIN_SCALE = 0.000000001;\nvar MAX_NUM = Math.pow(10, 10);\nvar MIN_NUM = -MAX_NUM;\nvar DIRECTIONS = [\"n\", \"w\", \"s\", \"e\", \"nw\", \"ne\", \"sw\", \"se\"];\nvar DIRECTION_INDEXES = {\n  n: [0, 1],\n  s: [2, 3],\n  w: [2, 0],\n  e: [1, 3],\n  nw: [0],\n  ne: [1],\n  sw: [2],\n  se: [3]\n};\nvar DIRECTION_ROTATIONS = {\n  n: 0,\n  s: 180,\n  w: 270,\n  e: 90,\n  nw: 315,\n  ne: 45,\n  sw: 225,\n  se: 135\n};\nvar MOVEABLE_METHODS = [\"isMoveableElement\", \"updateRect\", \"updateTarget\", \"destroy\", \"dragStart\", \"isInside\", \"hitTest\", \"setState\", \"getRect\", \"request\", \"isDragging\", \"getManager\", \"forceUpdate\"];\n\nfunction setCustomDrag(e, state, delta, isPinch, isConvert) {\n  var result = state.gesto.move(delta, e.inputEvent);\n  var datas = result.originalDatas || result.datas;\n  var draggableDatas = datas.draggable || (datas.draggable = {});\n  return __assign$1(__assign$1({}, isConvert ? convertDragDist(state, result) : result), {\n    isDrag: true,\n    isPinch: !!isPinch,\n    parentEvent: true,\n    datas: draggableDatas,\n    originalDatas: e.originalDatas\n  });\n}\n\nvar CustomGesto =\n/*#__PURE__*/\nfunction () {\n  function CustomGesto() {\n    this.prevX = 0;\n    this.prevY = 0;\n    this.startX = 0;\n    this.startY = 0;\n    this.isDrag = false;\n    this.isFlag = false;\n    this.datas = {\n      draggable: {}\n    };\n  }\n\n  var __proto = CustomGesto.prototype;\n\n  __proto.dragStart = function (client, e) {\n    this.isDrag = false;\n    this.isFlag = false;\n    var originalDatas = e.originalDatas;\n    this.datas = originalDatas;\n\n    if (!originalDatas.draggable) {\n      originalDatas.draggable = {};\n    }\n\n    return __assign$1(__assign$1({}, this.move(client, e.inputEvent)), {\n      type: \"dragstart\"\n    });\n  };\n\n  __proto.drag = function (client, inputEvent) {\n    return this.move([client[0] - this.prevX, client[1] - this.prevY], inputEvent);\n  };\n\n  __proto.move = function (delta, inputEvent) {\n    var clientX;\n    var clientY;\n\n    if (!this.isFlag) {\n      this.prevX = delta[0];\n      this.prevY = delta[1];\n      this.startX = delta[0];\n      this.startY = delta[1];\n      clientX = delta[0];\n      clientY = delta[1];\n      this.isFlag = true;\n    } else {\n      clientX = this.prevX + delta[0];\n      clientY = this.prevY + delta[1];\n      this.isDrag = true;\n    }\n\n    this.prevX = clientX;\n    this.prevY = clientY;\n    return {\n      type: \"drag\",\n      clientX: clientX,\n      clientY: clientY,\n      inputEvent: inputEvent,\n      isDrag: this.isDrag,\n      distX: clientX - this.startX,\n      distY: clientY - this.startY,\n      deltaX: delta[0],\n      deltaY: delta[1],\n      datas: this.datas.draggable,\n      originalDatas: this.datas,\n      parentEvent: true,\n      parentGesto: this\n    };\n  };\n\n  return CustomGesto;\n}();\n\nfunction fillChildEvents(moveable, name, e) {\n  var datas = e.originalDatas;\n  datas.groupable = datas.groupable || {};\n  var groupableDatas = datas.groupable;\n  groupableDatas.childDatas = groupableDatas.childDatas || [];\n  var childDatas = groupableDatas.childDatas;\n  return moveable.moveables.map(function (_, i) {\n    childDatas[i] = childDatas[i] || {};\n    childDatas[i][name] = childDatas[i][name] || {};\n    return __assign$1(__assign$1({}, e), {\n      datas: childDatas[i][name],\n      originalDatas: childDatas[i]\n    });\n  });\n}\n\nfunction triggerChildGesto(moveable, able, type, delta, e, isConvert) {\n  var isStart = !!type.match(/Start$/g);\n  var isEnd = !!type.match(/End$/g);\n  var isPinch = e.isPinch;\n  var datas = e.datas;\n  var events = fillChildEvents(moveable, able.name, e);\n  var moveables = moveable.moveables;\n  var childs = events.map(function (ev, i) {\n    var childMoveable = moveables[i];\n    var childEvent = ev;\n\n    if (isStart) {\n      childEvent = new CustomGesto().dragStart(delta, ev);\n    } else {\n      if (!childMoveable.state.gesto) {\n        childMoveable.state.gesto = datas.childGestos[i];\n      }\n\n      childEvent = setCustomDrag(ev, childMoveable.state, delta, isPinch, isConvert);\n    }\n\n    var result = able[type](childMoveable, __assign$1(__assign$1({}, childEvent), {\n      parentFlag: true\n    }));\n\n    if (isEnd) {\n      childMoveable.state.gesto = null;\n    }\n\n    return result;\n  });\n\n  if (isStart) {\n    datas.childGestos = moveables.map(function (child) {\n      return child.state.gesto;\n    });\n  }\n\n  return childs;\n}\n\nfunction triggerChildAbles(moveable, able, type, e, eachEvent, callback) {\n  if (eachEvent === void 0) {\n    eachEvent = function (_, ev) {\n      return ev;\n    };\n  }\n\n  var isEnd = !!type.match(/End$/g);\n  var events = fillChildEvents(moveable, able.name, e);\n  var moveables = moveable.moveables;\n  var childs = events.map(function (ev, i) {\n    var childMoveable = moveables[i];\n    var childEvent = ev;\n    childEvent = eachEvent(childMoveable, ev);\n    var result = able[type](childMoveable, __assign$1(__assign$1({}, childEvent), {\n      parentFlag: true\n    }));\n    result && callback && callback(childMoveable, ev, result, i);\n\n    if (isEnd) {\n      childMoveable.state.gesto = null;\n    }\n\n    return result;\n  });\n  return childs;\n}\n\nfunction renderDirectionControls(moveable, defaultDirections, React, additionalClassName) {\n  if (additionalClassName === void 0) {\n    additionalClassName = \"\";\n  }\n\n  var _a = moveable.state,\n      renderPoses = _a.renderPoses,\n      rotationRad = _a.rotation,\n      direction = _a.direction;\n  var _b = moveable.props,\n      _c = _b.renderDirections,\n      directions = _c === void 0 ? defaultDirections : _c,\n      zoom = _b.zoom;\n  var directionMap = {};\n\n  if (!directions) {\n    return [];\n  }\n\n  var sign = direction > 0 ? 1 : -1;\n  var renderDirections = directions === true ? DIRECTIONS : directions;\n  var degRotation = rotationRad / Math.PI * 180;\n  renderDirections.forEach(function (dir) {\n    directionMap[dir] = true;\n  });\n  return renderDirections.map(function (dir) {\n    var indexes = DIRECTION_INDEXES[dir];\n\n    if (!indexes || !directionMap[dir]) {\n      return null;\n    }\n\n    var directionRotation = (throttle(degRotation, 15) + sign * DIRECTION_ROTATIONS[dir] + 720) % 180;\n    return React.createElement(\"div\", {\n      className: prefix(\"control\", \"direction\", dir, additionalClassName),\n      \"data-rotation\": directionRotation,\n      \"data-direction\": dir,\n      key: \"direction-\".concat(dir),\n      style: getControlTransform.apply(void 0, __spreadArray([rotationRad, zoom], indexes.map(function (index) {\n        return renderPoses[index];\n      }), false))\n    });\n  });\n}\n\nfunction renderLine(React, direction, pos1, pos2, zoom, key) {\n  var classNames = [];\n\n  for (var _i = 6; _i < arguments.length; _i++) {\n    classNames[_i - 6] = arguments[_i];\n  }\n\n  var rad = getRad(pos1, pos2);\n  var rotation = direction ? throttle(rad / Math.PI * 180, 15) % 180 : -1;\n  return React.createElement(\"div\", {\n    key: \"line\".concat(key),\n    className: prefix.apply(void 0, __spreadArray([\"line\", \"direction\", direction], classNames, false)),\n    \"data-rotation\": rotation,\n    \"data-line-index\": key,\n    \"data-direction\": direction,\n    style: getLineStyle(pos1, pos2, zoom, rad)\n  });\n}\n\nfunction renderAllDirections(moveable, React) {\n  return renderDirectionControls(moveable, DIRECTIONS, React);\n}\n\nfunction renderDiagonalDirections(moveable, React) {\n  return renderDirectionControls(moveable, [\"nw\", \"ne\", \"sw\", \"se\"], React);\n}\n/**\n * @namespace Rotatable\n * @memberof Moveable\n * @description Rotatable indicates whether the target can be rotated.\n */\n\n\nfunction setRotateStartInfo(moveable, datas, clientX, clientY, origin, rect) {\n  var n = moveable.state.is3d ? 4 : 3;\n  var nextOrigin = calculatePosition(moveable.state.rootMatrix, origin, n);\n  var startAbsoluteOrigin = plus([rect.left, rect.top], nextOrigin);\n  datas.startAbsoluteOrigin = startAbsoluteOrigin;\n  datas.prevDeg = getRad(startAbsoluteOrigin, [clientX, clientY]) / Math.PI * 180;\n  datas.defaultDeg = datas.prevDeg;\n  datas.prevSnapDeg = 0;\n  datas.loop = 0;\n}\n\nfunction getAbsoluteDist(deg, direction, datas) {\n  var defaultDeg = datas.defaultDeg,\n      prevDeg = datas.prevDeg;\n  var normalizedPrevDeg = prevDeg % 360;\n  var loop = Math.floor(prevDeg / 360);\n\n  if (normalizedPrevDeg < 0) {\n    normalizedPrevDeg += 360;\n  }\n\n  if (normalizedPrevDeg > deg && normalizedPrevDeg > 270 && deg < 90) {\n    // 360 => 0\n    ++loop;\n  } else if (normalizedPrevDeg < deg && normalizedPrevDeg < 90 && deg > 270) {\n    // 0 => 360\n    --loop;\n  }\n\n  var dist = direction * (loop * 360 + deg - defaultDeg);\n  datas.prevDeg = defaultDeg + dist;\n  return dist;\n}\n\nfunction getAbsoluteDistByClient(clientX, clientY, direction, datas) {\n  return getAbsoluteDist(getRad(datas.startAbsoluteOrigin, [clientX, clientY]) / Math.PI * 180, direction, datas);\n}\n\nfunction getRotateInfo(moveable, moveableRect, datas, dist, startValue, isSnap) {\n  var _a = moveable.props.throttleRotate,\n      throttleRotate = _a === void 0 ? 0 : _a;\n  var nextDist = dist;\n  var prevSnapDeg = datas.prevSnapDeg;\n\n  if (isSnap) {\n    nextDist = checkSnapRotate(moveable, moveableRect, datas.origin, nextDist);\n  }\n\n  var snapRotation = throttle(startValue + nextDist, throttleRotate);\n  var snapDeg = snapRotation - startValue;\n  datas.prevSnapDeg = snapDeg;\n  return [snapDeg - prevSnapDeg, nextDist, snapRotation];\n}\n\nfunction getRotationPositions(rotationPosition, _a, direction) {\n  var pos1 = _a[0],\n      pos2 = _a[1],\n      pos3 = _a[2],\n      pos4 = _a[3];\n\n  if (rotationPosition === \"none\") {\n    return;\n  }\n\n  var _b = (rotationPosition || \"top\").split(\"-\"),\n      dir1 = _b[0],\n      dir2 = _b[1];\n\n  var radPoses = [pos1, pos2]; // if (scale[0] < 0) {\n  //     dir1 = getReversePositionX(dir1);\n  //     dir2 = getReversePositionX(dir2);\n  // }\n  // if (scale[1] < 0) {\n  //     dir1 = getReversePositionY(dir1);\n  //     dir2 = getReversePositionY(dir2);\n  // }\n\n  if (dir1 === \"left\") {\n    radPoses = [pos3, pos1];\n  } else if (dir1 === \"right\") {\n    radPoses = [pos2, pos4];\n  } else if (dir1 === \"bottom\") {\n    radPoses = [pos4, pos3];\n  }\n\n  var pos = [(radPoses[0][0] + radPoses[1][0]) / 2, (radPoses[0][1] + radPoses[1][1]) / 2];\n  var rad = getRotationRad(radPoses, direction);\n\n  if (dir2) {\n    var isStart = dir2 === \"top\" || dir2 === \"left\";\n    var isReverse = dir1 === \"bottom\" || dir1 === \"left\";\n    pos = radPoses[isStart && !isReverse || !isStart && isReverse ? 0 : 1];\n  }\n\n  return [pos, rad];\n}\n\nfunction dragControlCondition(moveable, e) {\n  if (e.isRequest) {\n    return e.requestAble === \"rotatable\";\n  }\n\n  var target = e.inputEvent.target;\n\n  if (hasClass(target, prefix(\"rotation-control\"))) {\n    return true;\n  }\n\n  var rotationTarget = moveable.props.rotationTarget;\n\n  if (rotationTarget) {\n    return getRefTargets(rotationTarget, true).some(function (element) {\n      if (!element) {\n        return false;\n      }\n\n      return target === element || target.contains(element);\n    });\n  }\n\n  return false;\n}\n\nvar Rotatable = {\n  name: \"rotatable\",\n  canPinch: true,\n  props: {\n    rotatable: Boolean,\n    rotationPosition: String,\n    throttleRotate: Number,\n    renderDirections: Object,\n    rotationTarget: Object\n  },\n  events: {\n    onRotateStart: \"rotateStart\",\n    onBeforeRotate: \"beforeRotate\",\n    onRotate: \"rotate\",\n    onRotateEnd: \"rotateEnd\",\n    onRotateGroupStart: \"rotateGroupStart\",\n    onBeforeRotateGroup: \"beforeRotateGroup\",\n    onRotateGroup: \"rotateGroup\",\n    onRotateGroupEnd: \"rotateGroupEnd\"\n  },\n  css: [\".rotation {\\n            position: absolute;\\n            height: 40px;\\n            width: 1px;\\n            transform-origin: 50% 100%;\\n            height: calc(40px * var(--zoom));\\n            top: auto;\\n            left: 0;\\n            bottom: 100%;\\n            will-change: transform;\\n        }\\n        .rotation .rotation-line {\\n            display: block;\\n            width: 100%;\\n            height: 100%;\\n            transform-origin: 50% 50%;\\n        }\\n        .rotation .rotation-control {\\n            border-color: #4af;\\n            border-color: var(--moveable-color);\\n            background:#fff;\\n            cursor: alias;\\n        }\"],\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        rotatable = _a.rotatable,\n        rotationPosition = _a.rotationPosition,\n        zoom = _a.zoom,\n        renderDirections = _a.renderDirections;\n    var _b = moveable.state,\n        renderPoses = _b.renderPoses,\n        direction = _b.direction;\n\n    if (!rotatable) {\n      return null;\n    }\n\n    var positions = getRotationPositions(rotationPosition, renderPoses, direction);\n    var jsxs = [];\n\n    if (positions) {\n      var pos = positions[0],\n          rad = positions[1];\n      jsxs.push(React.createElement(\"div\", {\n        key: \"rotation\",\n        className: prefix(\"rotation\"),\n        style: {\n          // tslint:disable-next-line: max-line-length\n          transform: \"translate(-50%) translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rad, \"rad)\")\n        }\n      }, React.createElement(\"div\", {\n        className: prefix(\"line rotation-line\"),\n        style: {\n          transform: \"scaleX(\".concat(zoom, \")\")\n        }\n      }), React.createElement(\"div\", {\n        className: prefix(\"control rotation-control\"),\n        style: {\n          transform: \"translate(0.5px) scale(\".concat(zoom, \")\")\n        }\n      })));\n    }\n\n    if (renderDirections) {\n      jsxs.push.apply(jsxs, renderDirectionControls(moveable, [], React));\n    }\n\n    return jsxs;\n  },\n  dragControlCondition: dragControlCondition,\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas,\n        clientX = e.clientX,\n        clientY = e.clientY,\n        parentRotate = e.parentRotate,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        isRequest = e.isRequest;\n    var _a = moveable.state,\n        target = _a.target,\n        left = _a.left,\n        top = _a.top,\n        origin = _a.origin,\n        beforeOrigin = _a.beforeOrigin,\n        direction = _a.direction,\n        beforeDirection = _a.beforeDirection,\n        targetTransform = _a.targetTransform,\n        moveableClientRect = _a.moveableClientRect;\n\n    if (!isRequest && !target) {\n      return false;\n    }\n\n    var rect = moveable.getRect();\n    datas.rect = rect;\n    datas.transform = targetTransform;\n    datas.left = left;\n    datas.top = top;\n    datas.fixedPosition = getDirectionOffset(moveable, getOriginDirection(moveable));\n\n    if (isRequest || isPinch || parentFlag) {\n      var externalRotate = parentRotate || 0;\n      datas.beforeInfo = {\n        origin: rect.beforeOrigin,\n        prevDeg: externalRotate,\n        defaultDeg: externalRotate,\n        prevSnapDeg: 0\n      };\n      datas.afterInfo = __assign$1(__assign$1({}, datas.beforeInfo), {\n        origin: rect.origin\n      });\n      datas.absoluteInfo = __assign$1(__assign$1({}, datas.beforeInfo), {\n        origin: rect.origin,\n        startValue: externalRotate\n      });\n    } else {\n      datas.beforeInfo = {\n        origin: rect.beforeOrigin\n      };\n      datas.afterInfo = {\n        origin: rect.origin\n      };\n      datas.absoluteInfo = {\n        origin: rect.origin,\n        startValue: rect.rotation\n      };\n      setRotateStartInfo(moveable, datas.beforeInfo, clientX, clientY, beforeOrigin, moveableClientRect);\n      setRotateStartInfo(moveable, datas.afterInfo, clientX, clientY, origin, moveableClientRect);\n      setRotateStartInfo(moveable, datas.absoluteInfo, clientX, clientY, origin, moveableClientRect);\n    }\n\n    datas.direction = direction;\n    datas.beforeDirection = beforeDirection;\n    datas.startValue = 0;\n    datas.datas = {};\n    setDefaultTransformIndex(e, \"rotate\");\n    var params = fillParams(moveable, e, __assign$1(__assign$1({\n      set: function (rotatation) {\n        datas.startValue = rotatation * Math.PI / 180;\n      }\n    }, fillTransformStartEvent(e)), {\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    }));\n    var result = triggerEvent(moveable, \"onRotateStart\", params);\n    datas.isRotate = result !== false;\n    moveable.state.snapRenderInfo = {\n      request: e.isRequest\n    };\n    return datas.isRotate ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    var _a, _b, _c;\n\n    var datas = e.datas,\n        clientX = e.clientX,\n        clientY = e.clientY,\n        parentRotate = e.parentRotate,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        groupDelta = e.groupDelta;\n    var beforeDirection = datas.beforeDirection,\n        beforeInfo = datas.beforeInfo,\n        afterInfo = datas.afterInfo,\n        absoluteInfo = datas.absoluteInfo,\n        isRotate = datas.isRotate,\n        startValue = datas.startValue,\n        rect = datas.rect;\n\n    if (!isRotate) {\n      return;\n    }\n\n    resolveTransformEvent(e, \"rotate\");\n    var targetDirection = getTransformDirection(e);\n    var direction = beforeDirection * targetDirection;\n    var parentMoveable = moveable.props.parentMoveable;\n    var beforeDelta = 0;\n    var beforeDist;\n    var beforeRotation;\n    var delta = 0;\n    var dist;\n    var rotation;\n    var absoluteDelta = 0;\n    var absoluteDist;\n    var absoluteRotation;\n    var startRotation = 180 / Math.PI * startValue;\n    var absoluteStartRotation = absoluteInfo.startValue;\n    var isSnap = false;\n\n    if (!parentFlag && \"parentDist\" in e) {\n      var parentDist = e.parentDist;\n      beforeDist = parentDist;\n      dist = parentDist;\n      absoluteDist = parentDist;\n    } else if (isPinch || parentFlag) {\n      beforeDist = getAbsoluteDist(parentRotate, beforeDirection, beforeInfo);\n      dist = getAbsoluteDist(parentRotate, direction, afterInfo);\n      absoluteDist = getAbsoluteDist(parentRotate, direction, absoluteInfo);\n    } else {\n      beforeDist = getAbsoluteDistByClient(clientX, clientY, beforeDirection, beforeInfo);\n      dist = getAbsoluteDistByClient(clientX, clientY, direction, afterInfo);\n      absoluteDist = getAbsoluteDistByClient(clientX, clientY, direction, absoluteInfo);\n      isSnap = true;\n    }\n\n    beforeRotation = startRotation + beforeDist;\n    rotation = startRotation + dist;\n    absoluteRotation = absoluteStartRotation + absoluteDist;\n    triggerEvent(moveable, \"onBeforeRotate\", fillParams(moveable, e, {\n      beforeRotation: beforeRotation,\n      rotation: rotation,\n      absoluteRotation: absoluteRotation,\n      setRotation: function (nextRotation) {\n        dist = nextRotation - startRotation;\n        beforeDist = dist;\n        absoluteDist = dist;\n      }\n    }, true));\n    _a = getRotateInfo(moveable, rect, beforeInfo, beforeDist, startRotation, isSnap), beforeDelta = _a[0], beforeDist = _a[1], beforeRotation = _a[2];\n    _b = getRotateInfo(moveable, rect, afterInfo, dist, startRotation, isSnap), delta = _b[0], dist = _b[1], rotation = _b[2];\n    _c = getRotateInfo(moveable, rect, absoluteInfo, absoluteDist, absoluteStartRotation, isSnap), absoluteDelta = _c[0], absoluteDist = _c[1], absoluteRotation = _c[2];\n\n    if (!absoluteDelta && !delta && !beforeDelta && !parentMoveable) {\n      return;\n    }\n\n    var nextTransform = convertTransformFormat(datas, \"rotate(\".concat(rotation, \"deg)\"), \"rotate(\".concat(dist, \"deg)\"));\n    var inverseDist = getRotateDist(moveable, dist, datas.fixedPosition, datas);\n    var inverseDelta = minus(plus(groupDelta || [0, 0], inverseDist), datas.prevInverseDist || [0, 0]);\n    datas.prevInverseDist = inverseDist;\n    datas.requestValue = null;\n    var params = fillParams(moveable, e, __assign$1({\n      delta: delta,\n      dist: dist,\n      rotate: rotation,\n      rotation: rotation,\n      beforeDist: beforeDist,\n      beforeDelta: beforeDelta,\n      beforeRotate: beforeRotation,\n      beforeRotation: beforeRotation,\n      absoluteDist: absoluteDist,\n      absoluteDelta: absoluteDelta,\n      absoluteRotate: absoluteRotation,\n      absoluteRotation: absoluteRotation,\n      isPinch: !!isPinch\n    }, fillTransformEvent(moveable, nextTransform, inverseDelta, isPinch, e)));\n    triggerEvent(moveable, \"onRotate\", params);\n    return params;\n  },\n  dragControlAfter: function (moveable, e) {\n    var requestValue = e.datas.requestValue;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isRotate) {\n      return;\n    }\n\n    datas.isRotate = false;\n    var params = fillEndParams(moveable, e, {});\n    triggerEvent(moveable, \"onRotateEnd\", params);\n    return params;\n  },\n  dragGroupControlCondition: dragControlCondition,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var _a = moveable.state,\n        parentLeft = _a.left,\n        parentTop = _a.top,\n        parentBeforeOrigin = _a.beforeOrigin;\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    params.set(datas.beforeDirection * moveable.rotation);\n    var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      var _a = child.state,\n          left = _a.left,\n          top = _a.top,\n          beforeOrigin = _a.beforeOrigin;\n      var childClient = plus(minus([left, top], [parentLeft, parentTop]), minus(beforeOrigin, parentBeforeOrigin));\n      ev.datas.groupClient = childClient;\n      return __assign$1(__assign$1({}, ev), {\n        parentRotate: 0\n      });\n    });\n\n    var nextParams = __assign$1(__assign$1({}, params), {\n      targets: moveable.props.targets,\n      events: events\n    });\n\n    var result = triggerEvent(moveable, \"onRotateGroupStart\", nextParams);\n    datas.isRotate = result !== false;\n    return datas.isRotate ? params : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isRotate) {\n      return;\n    }\n\n    catchEvent(moveable, \"onBeforeRotate\", function (parentEvent) {\n      triggerEvent(moveable, \"onBeforeRotateGroup\", fillParams(moveable, e, __assign$1(__assign$1({}, parentEvent), {\n        targets: moveable.props.targets\n      }), true));\n    });\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return;\n    }\n\n    var direction = datas.beforeDirection;\n    var parentRotate = params.beforeDist;\n    var deg = params.beforeDelta;\n    var rad = deg / 180 * Math.PI;\n    var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\n      var _a = ev.datas.groupClient,\n          prevX = _a[0],\n          prevY = _a[1];\n\n      var _b = rotate([prevX, prevY], rad * direction),\n          clientX = _b[0],\n          clientY = _b[1];\n\n      var delta = [clientX - prevX, clientY - prevY];\n      ev.datas.groupClient = [clientX, clientY];\n      return __assign$1(__assign$1({}, ev), {\n        parentRotate: parentRotate,\n        groupDelta: delta\n      });\n    });\n    moveable.rotation = direction * params.beforeRotation;\n\n    var nextParams = __assign$1({\n      targets: moveable.props.targets,\n      events: events,\n      set: function (rotation) {\n        moveable.rotation = rotation;\n      },\n      setGroupRotation: function (rotation) {\n        moveable.rotation = rotation;\n      }\n    }, params);\n\n    triggerEvent(moveable, \"onRotateGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isRotate) {\n      return;\n    }\n\n    this.dragControlEnd(moveable, e);\n    var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    });\n    triggerEvent(moveable, \"onRotateGroupEnd\", nextParams);\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Rotatable#request\n   * @param {object} [e] - the Resizable's request parameter\n   * @param {number} [e.deltaRotate=0] -  delta number of rotation\n   * @param {number} [e.rotate=0] - absolute number of moveable's rotation\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * moveable.request(\"rotatable\", { deltaRotate: 10 }, true);\n   *\n   * * moveable.request(\"rotatable\", { rotate: 10 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"rotatable\");\n   *\n   * // request\n   * requester.request({ deltaRotate: 10 });\n   * requester.request({ deltaRotate: 10 });\n   * requester.request({ deltaRotate: 10 });\n   *\n   * requester.request({ rotate: 10 });\n   * requester.request({ rotate: 20 });\n   * requester.request({ rotate: 30 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function (moveable) {\n    var datas = {};\n    var distRotate = 0;\n    var startRotation = moveable.getRotation();\n    return {\n      isControl: true,\n      requestStart: function () {\n        return {\n          datas: datas\n        };\n      },\n      request: function (e) {\n        if (\"deltaRotate\" in e) {\n          distRotate += e.deltaRotate;\n        } else if (\"rotate\" in e) {\n          distRotate = e.rotate - startRotation;\n        }\n\n        return {\n          datas: datas,\n          parentDist: distRotate\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether or not target can be rotated. (default: false)\n * @name Moveable.Rotatable#rotatable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.rotatable = true;\n */\n\n/**\n * You can specify the position of the rotation. (default: \"top\")\n * @name Moveable.Rotatable#rotationPosition\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   rotationPosition: \"top\",\n * });\n *\n * moveable.rotationPosition = \"bottom\"\n */\n\n/**\n * throttle of angle(degree) when rotate.\n * @name Moveable.Rotatable#throttleRotate\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleRotate = 1;\n */\n\n/**\n * When the rotate starts, the rotateStart event is called.\n * @memberof Moveable.Rotatable\n * @event rotateStart\n * @param {Moveable.Rotatable.OnRotateStart} - Parameters for the rotateStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { rotatable: true });\n * moveable.on(\"rotateStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n* When rotating, the rotate event is called.\n* @memberof Moveable.Rotatable\n* @event rotate\n* @param {Moveable.Rotatable.OnRotate} - Parameters for the rotate event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, { rotatable: true });\n* moveable.on(\"rotate\", ({ target, transform, dist }) => {\n*     target.style.transform = transform;\n* });\n*/\n\n/**\n * When the rotate finishes, the rotateEnd event is called.\n * @memberof Moveable.Rotatable\n * @event rotateEnd\n * @param {Moveable.Rotatable.OnRotateEnd} - Parameters for the rotateEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { rotatable: true });\n * moveable.on(\"rotateEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n * When the group rotate starts, the `rotateGroupStart` event is called.\n * @memberof Moveable.Rotatable\n * @event rotateGroupStart\n * @param {Moveable.Rotatable.OnRotateGroupStart} - Parameters for the `rotateGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     rotatable: true\n * });\n * moveable.on(\"rotateGroupStart\", ({ targets }) => {\n *     console.log(\"onRotateGroupStart\", targets);\n * });\n */\n\n/**\n* When the group rotate, the `rotateGroup` event is called.\n* @memberof Moveable.Rotatable\n* @event rotateGroup\n* @param {Moveable.Rotatable.OnRotateGroup} - Parameters for the `rotateGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     rotatable: true\n* });\n* moveable.on(\"rotateGroup\", ({ targets, events }) => {\n*     console.log(\"onRotateGroup\", targets);\n*     events.forEach(ev => {\n*         const target = ev.target;\n*         // ev.drag is a drag event that occurs when the group rotate.\n*         const left = ev.drag.beforeDist[0];\n*         const top = ev.drag.beforeDist[1];\n*         const deg = ev.beforeDist;\n*     });\n* });\n*/\n\n/**\n * When the group rotate finishes, the `rotateGroupEnd` event is called.\n * @memberof Moveable.Rotatable\n * @event rotateGroupEnd\n * @param {Moveable.Rotatable.OnRotateGroupEnd} - Parameters for the `rotateGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     rotatable: true\n * });\n * moveable.on(\"rotateGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onRotateGroupEnd\", targets, isDrag);\n * });\n */\n\nvar VERTICAL_NAMES = [\"left\", \"right\", \"center\"];\nvar HORIZONTAL_NAMES = [\"top\", \"bottom\", \"middle\"];\nvar VERTICAL_NAMES_MAP = {\n  start: \"left\",\n  end: \"right\",\n  center: \"center\"\n};\nvar HORIZONTAL_NAMES_MAP = {\n  start: \"top\",\n  end: \"bottom\",\n  center: \"middle\"\n};\n\nfunction hasGuidelines(moveable, ableName) {\n  var _a = moveable.props,\n      snappable = _a.snappable,\n      bounds = _a.bounds,\n      innerBounds = _a.innerBounds,\n      verticalGuidelines = _a.verticalGuidelines,\n      horizontalGuidelines = _a.horizontalGuidelines,\n      snapGridWidth = _a.snapGridWidth,\n      snapGridHeight = _a.snapGridHeight,\n      _b = moveable.state,\n      guidelines = _b.guidelines,\n      enableSnap = _b.enableSnap;\n\n  if (!snappable || !enableSnap || ableName && snappable !== true && snappable.indexOf(ableName) < 0) {\n    return false;\n  }\n\n  if (snapGridWidth || snapGridHeight || bounds || innerBounds || guidelines && guidelines.length || verticalGuidelines && verticalGuidelines.length || horizontalGuidelines && horizontalGuidelines.length) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction getSnapDirections(snapDirections) {\n  if (snapDirections === false) {\n    return {};\n  } else if (snapDirections === true || !snapDirections) {\n    return {\n      left: true,\n      right: true,\n      top: true,\n      bottom: true\n    };\n  }\n\n  return snapDirections;\n}\n\nfunction mapSnapDirectionPoses(snapDirections, snapPoses) {\n  var nextSnapDirections = getSnapDirections(snapDirections);\n  var nextSnapPoses = {};\n\n  for (var name in nextSnapDirections) {\n    if (name in snapPoses && nextSnapDirections[name]) {\n      nextSnapPoses[name] = snapPoses[name];\n    }\n  }\n\n  return nextSnapPoses;\n}\n\nfunction splitSnapDirectionPoses(snapDirections, snapPoses) {\n  var nextSnapPoses = mapSnapDirectionPoses(snapDirections, snapPoses);\n  var horizontalNames = HORIZONTAL_NAMES.filter(function (name) {\n    return name in nextSnapPoses;\n  });\n  var verticalNames = VERTICAL_NAMES.filter(function (name) {\n    return name in nextSnapPoses;\n  });\n  return {\n    horizontal: horizontalNames.map(function (name) {\n      return nextSnapPoses[name];\n    }),\n    vertical: verticalNames.map(function (name) {\n      return nextSnapPoses[name];\n    })\n  };\n}\n\nfunction getGapGuidelines(moveable, targetRect, snapThreshold) {\n  var elementRects = moveable.state.elementRects;\n  var gapGuidelines = [];\n  [[\"vertical\", VERTICAL_NAMES_MAP, HORIZONTAL_NAMES_MAP], [\"horizontal\", HORIZONTAL_NAMES_MAP, VERTICAL_NAMES_MAP]].forEach(function (_a) {\n    var type = _a[0],\n        mainNames = _a[1],\n        sideNames = _a[2];\n    var targetStart = targetRect[mainNames.start];\n    var targetEnd = targetRect[mainNames.end];\n    var targetCenter = targetRect[mainNames.center];\n    var targetStart2 = targetRect[sideNames.start];\n    var targetEnd2 = targetRect[sideNames.end]; // element : moveable\n\n    function getDist(elementRect) {\n      var rect = elementRect.rect;\n\n      if (rect[mainNames.end] < targetStart + snapThreshold) {\n        return targetStart - rect[mainNames.end];\n      } else if (targetEnd - snapThreshold < rect[mainNames.start]) {\n        return rect[mainNames.start] - targetEnd;\n      } else {\n        return -1;\n      }\n    }\n\n    var nextElementRects = elementRects.filter(function (elementRect) {\n      var rect = elementRect.rect;\n\n      if (rect[sideNames.start] > targetEnd2 || rect[sideNames.end] < targetStart2) {\n        return false;\n      }\n\n      return getDist(elementRect) > 0;\n    }).sort(function (a, b) {\n      return getDist(a) - getDist(b);\n    });\n    var groups = [];\n    nextElementRects.forEach(function (snapRect1) {\n      nextElementRects.forEach(function (snapRect2) {\n        if (snapRect1 === snapRect2) {\n          return;\n        }\n\n        var rect1 = snapRect1.rect;\n        var rect2 = snapRect2.rect;\n        var rect1Start = rect1[sideNames.start];\n        var rect1End = rect1[sideNames.end];\n        var rect2Start = rect2[sideNames.start];\n        var rect2End = rect2[sideNames.end];\n\n        if (rect1Start > rect2End || rect2Start > rect1End) {\n          return;\n        }\n\n        groups.push([snapRect1, snapRect2]);\n      });\n    });\n    groups.forEach(function (_a) {\n      var snapRect1 = _a[0],\n          snapRect2 = _a[1];\n      var rect1 = snapRect1.rect;\n      var rect2 = snapRect2.rect;\n      var rect1Start = rect1[mainNames.start];\n      var rect1End = rect1[mainNames.end];\n      var rect2Start = rect2[mainNames.start];\n      var rect2End = rect2[mainNames.end];\n      var gap = 0;\n      var pos = 0;\n      var isStart = false;\n      var isCenter = false;\n      var isEnd = false;\n\n      if (rect1End <= targetStart && targetEnd <= rect2Start) {\n        // (l)element1(r) : (l)target(r) : (l)element2(r)\n        isCenter = true;\n        gap = (rect2Start - rect1End - (targetEnd - targetStart)) / 2;\n        pos = rect1End + gap + (targetEnd - targetStart) / 2;\n\n        if (Math.abs(pos - targetCenter) > snapThreshold) {\n          return;\n        }\n      } else if (rect1End < rect2Start && rect2End < targetStart + snapThreshold) {\n        // (l)element1(r) : (l)element2(r) : (l)target\n        isStart = true;\n        gap = rect2Start - rect1End;\n        pos = rect2End + gap;\n\n        if (Math.abs(pos - targetStart) > snapThreshold) {\n          return;\n        }\n      } else if (rect1End < rect2Start && targetEnd - snapThreshold < rect1Start) {\n        // target(r) : (l)element1(r) : (l)element2(r)\n        isEnd = true;\n        gap = rect2Start - rect1End;\n        pos = rect1Start - gap;\n\n        if (Math.abs(pos - targetEnd) > snapThreshold) {\n          return;\n        }\n      } else {\n        return;\n      }\n\n      if (!gap) {\n        return;\n      }\n\n      gapGuidelines.push({\n        type: type,\n        pos: type === \"vertical\" ? [pos, 0] : [0, pos],\n        element: snapRect2.element,\n        size: 0,\n        className: snapRect2.className,\n        isStart: isStart,\n        isCenter: isCenter,\n        isEnd: isEnd,\n        gap: gap,\n        hide: true,\n        gapRects: [snapRect1, snapRect2]\n      });\n    });\n  });\n  return gapGuidelines;\n}\n\nfunction getDefaultGuidelines(horizontalGuidelines, verticalGuidelines, width, height, clientLeft, clientTop, snapOffset) {\n  if (clientLeft === void 0) {\n    clientLeft = 0;\n  }\n\n  if (clientTop === void 0) {\n    clientTop = 0;\n  }\n\n  if (snapOffset === void 0) {\n    snapOffset = {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    };\n  }\n\n  var guidelines = [];\n  var snapOffsetLeft = snapOffset.left,\n      snapOffsetTop = snapOffset.top,\n      snapOffsetBottom = snapOffset.bottom,\n      snapOffsetRight = snapOffset.right;\n  var snapWidth = width + snapOffsetRight - snapOffsetLeft;\n  var snapHeight = height + snapOffsetBottom - snapOffsetTop;\n  horizontalGuidelines && horizontalGuidelines.forEach(function (pos) {\n    guidelines.push({\n      type: \"horizontal\",\n      pos: [snapOffsetLeft, throttle(pos - clientTop + snapOffsetTop, 0.1)],\n      size: snapWidth\n    });\n  });\n  verticalGuidelines && verticalGuidelines.forEach(function (pos) {\n    guidelines.push({\n      type: \"vertical\",\n      pos: [throttle(pos - clientLeft + snapOffsetLeft, 0.1), snapOffsetTop],\n      size: snapHeight\n    });\n  });\n  return guidelines;\n}\n\nfunction calculateContainerPos(rootMatrix, containerRect, n) {\n  var clientPos = calculatePosition(rootMatrix, [containerRect.clientLeft, containerRect.clientTop], n);\n  return [containerRect.left + clientPos[0], containerRect.top + clientPos[1]];\n}\n\nfunction getSnapElementRects(moveable, values) {\n  if (!values.length) {\n    return [];\n  }\n\n  var state = moveable.state;\n  var containerClientRect = state.containerClientRect,\n      _a = state.targetClientRect,\n      clientTop = _a.top,\n      clientLeft = _a.left,\n      rootMatrix = state.rootMatrix,\n      is3d = state.is3d;\n  var n = is3d ? 4 : 3;\n\n  var _b = calculateContainerPos(rootMatrix, containerClientRect, n),\n      containerLeft = _b[0],\n      containerTop = _b[1];\n\n  var poses = getAbsolutePosesByState(state);\n\n  var _c = getMinMaxs(poses),\n      targetLeft = _c.minX,\n      targetTop = _c.minY;\n\n  var _d = minus([targetLeft, targetTop], calculateInversePosition(rootMatrix, [clientLeft - containerLeft, clientTop - containerTop], n)).map(function (pos) {\n    return roundSign(pos);\n  }),\n      distLeft = _d[0],\n      distTop = _d[1];\n\n  return values.map(function (value) {\n    var rect = value.element.getBoundingClientRect();\n    var left = rect.left - containerLeft;\n    var top = rect.top - containerTop;\n    var bottom = top + rect.height;\n    var right = left + rect.width;\n\n    var _a = calculateInversePosition(rootMatrix, [left, top], n),\n        elementLeft = _a[0],\n        elementTop = _a[1];\n\n    var _b = calculateInversePosition(rootMatrix, [right, bottom], n),\n        elementRight = _b[0],\n        elementBottom = _b[1];\n\n    return __assign$1(__assign$1({}, value), {\n      rect: {\n        left: elementLeft + distLeft,\n        right: elementRight + distLeft,\n        top: elementTop + distTop,\n        bottom: elementBottom + distTop,\n        center: (elementLeft + elementRight) / 2 + distLeft,\n        middle: (elementTop + elementBottom) / 2 + distTop\n      }\n    });\n  });\n}\n\nfunction getElementGuidelines(moveable) {\n  var state = moveable.state;\n  var _a = moveable.props.elementGuidelines,\n      elementGuidelines = _a === void 0 ? [] : _a;\n\n  if (!elementGuidelines.length) {\n    state.elementRects = [];\n    return [];\n  }\n\n  var prevValues = (state.elementRects || []).filter(function (snapRect) {\n    return !snapRect.refresh;\n  });\n  var nextElementGuidelines = elementGuidelines.map(function (el) {\n    if (isObject(el) && \"element\" in el) {\n      return el;\n    }\n\n    return {\n      element: getRefTarget(el, true)\n    };\n  }).filter(function (value) {\n    return value.element;\n  });\n\n  var _b = diff(prevValues.map(function (v) {\n    return v.element;\n  }), nextElementGuidelines.map(function (v) {\n    return v.element;\n  })),\n      maintained = _b.maintained,\n      added = _b.added;\n\n  var nextValues = [];\n  maintained.forEach(function (_a) {\n    var prevIndex = _a[0],\n        nextIndex = _a[1];\n    nextValues[nextIndex] = prevValues[prevIndex];\n  });\n  getSnapElementRects(moveable, added.map(function (index) {\n    return nextElementGuidelines[index];\n  })).map(function (rect, i) {\n    nextValues[added[i]] = rect;\n  });\n  state.elementRects = nextValues;\n  var elementSnapDirections = getSnapDirections(moveable.props.elementSnapDirections);\n  var nextGuidelines = [];\n  nextValues.forEach(function (snapRect) {\n    var element = snapRect.element,\n        _a = snapRect.top,\n        topValue = _a === void 0 ? elementSnapDirections.top : _a,\n        _b = snapRect.left,\n        leftValue = _b === void 0 ? elementSnapDirections.left : _b,\n        _c = snapRect.right,\n        rightValue = _c === void 0 ? elementSnapDirections.right : _c,\n        _d = snapRect.bottom,\n        bottomValue = _d === void 0 ? elementSnapDirections.bottom : _d,\n        _e = snapRect.center,\n        centerValue = _e === void 0 ? elementSnapDirections.center : _e,\n        _f = snapRect.middle,\n        middleValue = _f === void 0 ? elementSnapDirections.middle : _f,\n        className = snapRect.className,\n        rect = snapRect.rect;\n\n    var _g = splitSnapDirectionPoses({\n      top: topValue,\n      right: rightValue,\n      left: leftValue,\n      bottom: bottomValue,\n      center: centerValue,\n      middle: middleValue\n    }, rect),\n        horizontal = _g.horizontal,\n        vertical = _g.vertical;\n\n    var rectTop = rect.top;\n    var rectLeft = rect.left;\n    var width = rect.right - rectLeft;\n    var height = rect.bottom - rectTop;\n    var sizes = [width, height];\n    vertical.forEach(function (pos) {\n      nextGuidelines.push({\n        type: \"vertical\",\n        element: element,\n        pos: [throttle(pos, 0.1), rectTop],\n        size: height,\n        sizes: sizes,\n        className: className,\n        elementRect: snapRect\n      });\n    });\n    horizontal.forEach(function (pos) {\n      nextGuidelines.push({\n        type: \"horizontal\",\n        element: element,\n        pos: [rectLeft, throttle(pos, 0.1)],\n        size: width,\n        sizes: sizes,\n        className: className,\n        elementRect: snapRect\n      });\n    });\n  });\n  return nextGuidelines;\n}\n\nfunction getTotalGuidelines(moveable) {\n  var _a = moveable.state,\n      snapOffset = _a.snapOffset,\n      _b = _a.containerClientRect,\n      overflow = _b.overflow,\n      containerHeight = _b.scrollHeight,\n      containerWidth = _b.scrollWidth,\n      containerClientHeight = _b.clientHeight,\n      containerClientWidth = _b.clientWidth,\n      clientLeft = _b.clientLeft,\n      clientTop = _b.clientTop;\n  var _c = moveable.props,\n      _d = _c.snapGap,\n      snapGap = _d === void 0 ? true : _d,\n      verticalGuidelines = _c.verticalGuidelines,\n      horizontalGuidelines = _c.horizontalGuidelines,\n      _e = _c.snapThreshold,\n      snapThreshold = _e === void 0 ? 5 : _e,\n      _f = _c.snapGridWidth,\n      snapGridWidth = _f === void 0 ? 0 : _f,\n      _g = _c.snapGridHeight,\n      snapGridHeight = _g === void 0 ? 0 : _g;\n  var elementGuidelines = getElementGuidelines(moveable);\n\n  var totalGuidelines = __spreadArray([], elementGuidelines, true);\n\n  if (snapGap) {\n    var _h = getRect(getAbsolutePosesByState(moveable.state)),\n        top = _h.top,\n        left = _h.left,\n        bottom = _h.bottom,\n        right = _h.right;\n\n    totalGuidelines.push.apply(totalGuidelines, getGapGuidelines(moveable, {\n      top: top,\n      left: left,\n      bottom: bottom,\n      right: right,\n      center: (left + right) / 2,\n      middle: (top + bottom) / 2\n    }, snapThreshold));\n  }\n\n  totalGuidelines.push.apply(totalGuidelines, getGridGuidelines(snapGridWidth, snapGridHeight, overflow ? containerWidth : containerClientWidth, overflow ? containerHeight : containerClientHeight, clientLeft, clientTop));\n  totalGuidelines.push.apply(totalGuidelines, getDefaultGuidelines(horizontalGuidelines || false, verticalGuidelines || false, overflow ? containerWidth : containerClientWidth, overflow ? containerHeight : containerClientHeight, clientLeft, clientTop, snapOffset));\n  return totalGuidelines;\n}\n\nfunction getGridGuidelines(snapGridWidth, snapGridHeight, containerWidth, containerHeight, clientLeft, clientTop) {\n  if (clientLeft === void 0) {\n    clientLeft = 0;\n  }\n\n  if (clientTop === void 0) {\n    clientTop = 0;\n  }\n\n  var guidelines = [];\n\n  if (snapGridHeight) {\n    for (var pos = 0; pos <= containerHeight; pos += snapGridHeight) {\n      guidelines.push({\n        type: \"horizontal\",\n        pos: [0, throttle(pos - clientTop, 0.1)],\n        size: containerWidth,\n        hide: true\n      });\n    }\n  }\n\n  if (snapGridWidth) {\n    for (var pos = 0; pos <= containerWidth; pos += snapGridWidth) {\n      guidelines.push({\n        type: \"vertical\",\n        pos: [throttle(pos - clientLeft, 0.1), 0],\n        size: containerHeight,\n        hide: true\n      });\n    }\n  }\n\n  return guidelines;\n}\n\nfunction checkMoveableSnapPoses(moveable, posesX, posesY, customSnapThreshold) {\n  var props = moveable.props;\n  var snapThreshold = selectValue(customSnapThreshold, props.snapThreshold, 5);\n  return checkSnapPoses(moveable.state.guidelines, posesX, posesY, snapThreshold);\n}\n\nfunction checkSnapPoses(guidelines, posesX, posesY, snapThreshold) {\n  return {\n    vertical: checkSnap(guidelines, \"vertical\", posesX, snapThreshold),\n    horizontal: checkSnap(guidelines, \"horizontal\", posesY, snapThreshold)\n  };\n}\n\nfunction checkSnapKeepRatio(moveable, startPos, endPos) {\n  var endX = endPos[0],\n      endY = endPos[1];\n  var startX = startPos[0],\n      startY = startPos[1];\n\n  var _a = minus(endPos, startPos),\n      dx = _a[0],\n      dy = _a[1];\n\n  var isBottom = dy > 0;\n  var isRight = dx > 0;\n  dx = getTinyDist(dx);\n  dy = getTinyDist(dy);\n  var verticalInfo = {\n    isSnap: false,\n    offset: 0,\n    pos: 0\n  };\n  var horizontalInfo = {\n    isSnap: false,\n    offset: 0,\n    pos: 0\n  };\n\n  if (dx === 0 && dy === 0) {\n    return {\n      vertical: verticalInfo,\n      horizontal: horizontalInfo\n    };\n  }\n\n  var _b = checkMoveableSnapPoses(moveable, dx ? [endX] : [], dy ? [endY] : []),\n      verticalSnapInfo = _b.vertical,\n      horizontalSnapInfo = _b.horizontal;\n\n  verticalSnapInfo.posInfos.filter(function (_a) {\n    var pos = _a.pos;\n    return isRight ? pos >= startX : pos <= startX;\n  });\n  horizontalSnapInfo.posInfos.filter(function (_a) {\n    var pos = _a.pos;\n    return isBottom ? pos >= startY : pos <= startY;\n  });\n  verticalSnapInfo.isSnap = verticalSnapInfo.posInfos.length > 0;\n  horizontalSnapInfo.isSnap = horizontalSnapInfo.posInfos.length > 0;\n\n  var _c = getNearestSnapGuidelineInfo(verticalSnapInfo),\n      isVerticalSnap = _c.isSnap,\n      verticalGuideline = _c.guideline;\n\n  var _d = getNearestSnapGuidelineInfo(horizontalSnapInfo),\n      isHorizontalSnap = _d.isSnap,\n      horizontalGuideline = _d.guideline;\n\n  var horizontalPos = isHorizontalSnap ? horizontalGuideline.pos[1] : 0;\n  var verticalPos = isVerticalSnap ? verticalGuideline.pos[0] : 0;\n\n  if (dx === 0) {\n    if (isHorizontalSnap) {\n      horizontalInfo.isSnap = true;\n      horizontalInfo.pos = horizontalGuideline.pos[1];\n      horizontalInfo.offset = endY - horizontalInfo.pos;\n    }\n  } else if (dy === 0) {\n    if (isVerticalSnap) {\n      verticalInfo.isSnap = true;\n      verticalInfo.pos = verticalPos;\n      verticalInfo.offset = endX - verticalPos;\n    }\n  } else {\n    // y - y1 = a * (x - x1)\n    var a = dy / dx;\n    var b = endPos[1] - a * endX;\n    var y = 0;\n    var x = 0;\n    var isSnap = false;\n\n    if (isVerticalSnap) {\n      x = verticalPos;\n      y = a * x + b;\n      isSnap = true;\n    } else if (isHorizontalSnap) {\n      y = horizontalPos;\n      x = (y - b) / a;\n      isSnap = true;\n    }\n\n    if (isSnap) {\n      verticalInfo.isSnap = true;\n      verticalInfo.pos = x;\n      verticalInfo.offset = endX - x;\n      horizontalInfo.isSnap = true;\n      horizontalInfo.pos = y;\n      horizontalInfo.offset = endY - y;\n    }\n  }\n\n  return {\n    vertical: verticalInfo,\n    horizontal: horizontalInfo\n  };\n}\n\nfunction checkSnaps(moveable, rect, customSnapThreshold) {\n  var poses = splitSnapDirectionPoses(moveable.props.snapDirections, rect);\n  return checkMoveableSnapPoses(moveable, poses.vertical, poses.horizontal, customSnapThreshold);\n}\n\nfunction getNearestSnapGuidelineInfo(snapInfo) {\n  var isSnap = snapInfo.isSnap;\n\n  if (!isSnap) {\n    return {\n      isSnap: false,\n      offset: 0,\n      dist: -1,\n      pos: 0,\n      guideline: null\n    };\n  }\n\n  var posInfo = snapInfo.posInfos[0];\n  var guidelineInfo = posInfo.guidelineInfos[0];\n  var offset = guidelineInfo.offset;\n  var dist = guidelineInfo.dist;\n  var guideline = guidelineInfo.guideline;\n  return {\n    isSnap: isSnap,\n    offset: offset,\n    dist: dist,\n    pos: posInfo.pos,\n    guideline: guideline\n  };\n}\n\nfunction checkSnap(guidelines, targetType, targetPoses, snapThreshold) {\n  if (!guidelines || !guidelines.length) {\n    return {\n      isSnap: false,\n      index: -1,\n      posInfos: []\n    };\n  }\n\n  var isVertical = targetType === \"vertical\";\n  var posType = isVertical ? 0 : 1;\n  var snapPosInfos = targetPoses.map(function (targetPos, index) {\n    var guidelineInfos = guidelines.map(function (guideline) {\n      var pos = guideline.pos;\n      var offset = targetPos - pos[posType];\n      return {\n        offset: offset,\n        dist: Math.abs(offset),\n        guideline: guideline\n      };\n    }).filter(function (_a) {\n      var guideline = _a.guideline,\n          dist = _a.dist;\n      var type = guideline.type;\n\n      if (type !== targetType || dist > snapThreshold) {\n        return false;\n      }\n\n      return true;\n    }).sort(function (a, b) {\n      return a.dist - b.dist;\n    });\n    return {\n      pos: targetPos,\n      index: index,\n      guidelineInfos: guidelineInfos\n    };\n  }).filter(function (snapPosInfo) {\n    return snapPosInfo.guidelineInfos.length > 0;\n  }).sort(function (a, b) {\n    return a.guidelineInfos[0].dist - b.guidelineInfos[0].dist;\n  });\n  var isSnap = snapPosInfos.length > 0;\n  return {\n    isSnap: isSnap,\n    index: isSnap ? snapPosInfos[0].index : -1,\n    posInfos: snapPosInfos\n  };\n}\n\nfunction getSnapInfosByDirection(moveable, poses, snapDirection) {\n  var nextPoses = [];\n\n  if (snapDirection[0] && snapDirection[1]) {\n    nextPoses = [snapDirection, [-snapDirection[0], snapDirection[1]], [snapDirection[0], -snapDirection[1]]].map(function (direction) {\n      return getPosByDirection(poses, direction);\n    });\n  } else if (!snapDirection[0] && !snapDirection[1]) {\n    var alignPoses = [poses[0], poses[1], poses[3], poses[2], poses[0]];\n\n    for (var i = 0; i < 4; ++i) {\n      nextPoses.push(alignPoses[i]);\n      nextPoses.push([(alignPoses[i][0] + alignPoses[i + 1][0]) / 2, (alignPoses[i][1] + alignPoses[i + 1][1]) / 2]);\n    }\n  } else {\n    if (moveable.props.keepRatio) {\n      nextPoses = [[-1, -1], [-1, 1], [1, -1], [1, 1], snapDirection].map(function (dir) {\n        return getPosByDirection(poses, dir);\n      });\n    } else {\n      nextPoses = getPosesByDirection(poses, snapDirection);\n\n      if (nextPoses.length > 1) {\n        nextPoses.push([(nextPoses[0][0] + nextPoses[1][0]) / 2, (nextPoses[0][1] + nextPoses[1][1]) / 2]);\n      }\n    }\n  }\n\n  return checkMoveableSnapPoses(moveable, nextPoses.map(function (pos) {\n    return pos[0];\n  }), nextPoses.map(function (pos) {\n    return pos[1];\n  }), 1);\n}\n\nfunction checkSnapBoundPriority(a, b) {\n  var aDist = Math.abs(a.offset);\n  var bDist = Math.abs(b.offset);\n\n  if (a.isBound && b.isBound) {\n    return bDist - aDist;\n  } else if (a.isBound) {\n    return -1;\n  } else if (b.isBound) {\n    return 1;\n  } else if (a.isSnap && b.isSnap) {\n    return bDist - aDist;\n  } else if (a.isSnap) {\n    return -1;\n  } else if (b.isSnap) {\n    return 1;\n  } else if (aDist < TINY_NUM) {\n    return 1;\n  } else if (bDist < TINY_NUM) {\n    return -1;\n  }\n\n  return aDist - bDist;\n}\n\nfunction getNearOffsetInfo(offsets, index) {\n  return offsets.slice().sort(function (a, b) {\n    var aSign = a.sign[index];\n    var bSign = b.sign[index];\n    var aOffset = a.offset[index];\n    var bOffset = b.offset[index]; // -1 The positions of a and b do not change.\n    // 1 The positions of a and b are reversed.\n\n    if (!aSign) {\n      return 1;\n    } else if (!bSign) {\n      return -1;\n    }\n\n    return checkSnapBoundPriority({\n      isBound: a.isBound,\n      isSnap: a.isSnap,\n      offset: aOffset\n    }, {\n      isBound: b.isBound,\n      isSnap: b.isSnap,\n      offset: bOffset\n    });\n  })[0];\n}\n\nfunction getCheckSnapDirections(direction, fixedDirection, keepRatio) {\n  var directions = []; // const fixedDirection = [-direction[0], -direction[1]];\n\n  if (keepRatio) {\n    if (Math.abs(fixedDirection[0]) !== 1 || Math.abs(fixedDirection[1]) !== 1) {\n      directions.push([fixedDirection, [-1, -1]], [fixedDirection, [-1, 1]], [fixedDirection, [1, -1]], [fixedDirection, [1, 1]]);\n    } else {\n      directions.push([fixedDirection, [direction[0], -direction[1]]], [fixedDirection, [-direction[0], direction[1]]], [fixedDirection, direction]);\n    }\n\n    directions.push([fixedDirection, direction]);\n  } else {\n    if (direction[0] && direction[1]) {\n      directions.push([fixedDirection, [direction[0], -direction[1]]], [fixedDirection, [-direction[0], direction[1]]]);\n    } else if (direction[0]) {\n      var signs = Math.abs(fixedDirection[0]) === 1 ? [1] : [1, -1];\n      signs.forEach(function (sign) {\n        directions.push([[fixedDirection[0], -1], [sign * direction[0], -1]], [[fixedDirection[0], 0], [sign * direction[0], 0]], [[fixedDirection[0], 1], [sign * direction[0], 1]]);\n      });\n    } else if (direction[1]) {\n      var signs = Math.abs(fixedDirection[1]) === 1 ? [1] : [1, -1];\n      signs.forEach(function (sign) {\n        directions.push([[-1, fixedDirection[1]], [-1, sign * direction[1]]], [[0, fixedDirection[1]], [0, sign * direction[1]]], [[1, fixedDirection[1]], [1, sign * direction[1]]]);\n      });\n    } else {\n      // [0, 0] to all direction\n      directions.push([fixedDirection, [1, 0]], [fixedDirection, [-1, 0]], [fixedDirection, [0, -1]], [fixedDirection, [0, 1]], [[1, 0], [1, -1]], [[1, 0], [1, 1]], [[0, 1], [1, 1]], [[0, 1], [-1, 1]], [[-1, 0], [-1, -1]], [[-1, 0], [-1, 1]], [[0, -1], [1, -1]], [[0, -1], [-1, -1]]);\n    }\n  }\n\n  return directions;\n}\n\nfunction isStartLine(dot, line) {\n  // l    o     => true\n  // o    l    => false\n  var cx = average([line[0][0], line[1][0]]);\n  var cy = average([line[0][1], line[1][1]]);\n  return {\n    vertical: cx <= dot[0],\n    horizontal: cy <= dot[1]\n  };\n}\n\nfunction hitTestLine(dot, _a) {\n  var pos1 = _a[0],\n      pos2 = _a[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (Math.abs(dx) < TINY_NUM) {\n    dx = 0;\n  }\n\n  if (Math.abs(dy) < TINY_NUM) {\n    dy = 0;\n  }\n\n  var test1;\n  var test2;\n\n  if (!dx) {\n    test1 = pos1[0];\n    test2 = dot[0];\n  } else if (!dy) {\n    test1 = pos1[1];\n    test2 = dot[1];\n  } else {\n    var a = dy / dx; // y = a * (x - pos1) + pos1\n\n    test1 = a * (dot[0] - pos1[0]) + pos1[1];\n    test2 = dot[1];\n  }\n\n  return test1 - test2;\n}\n\nfunction isSameStartLine(dots, line, error) {\n  if (error === void 0) {\n    error = TINY_NUM;\n  }\n\n  var centerSign = hitTestLine(dots[0], line) <= 0;\n  return dots.slice(1).every(function (dot) {\n    var value = hitTestLine(dot, line);\n    var sign = value <= 0;\n    return sign === centerSign || Math.abs(value) <= error;\n  });\n}\n\nfunction checkInnerBoundDot(pos, start, end, isStart, threshold) {\n  if (threshold === void 0) {\n    threshold = 0;\n  }\n\n  if (isStart && start - threshold <= pos || !isStart && pos <= end + threshold) {\n    // false 402 565 602 => 37 ([0, 37])\n    // true 400 524.9712603540036 600 => 124 ([124, 0])\n    // true 400 410 600 => 10 ([10, 0])\n    return {\n      isBound: true,\n      offset: isStart ? start - pos : end - pos\n    };\n  }\n\n  return {\n    isBound: false,\n    offset: 0\n  };\n}\n\nfunction checkInnerBound(moveable, line, center) {\n  var bounds = moveable.props.innerBounds;\n\n  if (!bounds) {\n    return {\n      isAllBound: false,\n      isBound: false,\n      isVerticalBound: false,\n      isHorizontalBound: false,\n      offset: [0, 0]\n    };\n  }\n\n  var left = bounds.left,\n      top = bounds.top,\n      width = bounds.width,\n      height = bounds.height;\n  var leftLine = [[left, top], [left, top + height]];\n  var topLine = [[left, top], [left + width, top]];\n  var rightLine = [[left + width, top], [left + width, top + height]];\n  var bottomLine = [[left, top + height], [left + width, top + height]];\n\n  var _a = isStartLine(center, line),\n      isHorizontalStart = _a.horizontal,\n      isVerticalStart = _a.vertical;\n\n  if (isSameStartLine([center, [left, top], [left + width, top], [left, top + height], [left + width, top + height]], line)) {\n    return {\n      isAllBound: false,\n      isBound: false,\n      isVerticalBound: false,\n      isHorizontalBound: false,\n      offset: [0, 0]\n    };\n  } // test vertical\n\n\n  var topBoundInfo = checkLineBoundCollision(line, topLine, isVerticalStart);\n  var bottomBoundInfo = checkLineBoundCollision(line, bottomLine, isVerticalStart); // test horizontal\n\n  var leftBoundInfo = checkLineBoundCollision(line, leftLine, isHorizontalStart);\n  var rightBoundInfo = checkLineBoundCollision(line, rightLine, isHorizontalStart);\n  var isAllVerticalBound = topBoundInfo.isBound && bottomBoundInfo.isBound;\n  var isVerticalBound = topBoundInfo.isBound || bottomBoundInfo.isBound;\n  var isAllHorizontalBound = leftBoundInfo.isBound && rightBoundInfo.isBound;\n  var isHorizontalBound = leftBoundInfo.isBound || rightBoundInfo.isBound;\n  var verticalOffset = maxOffset(topBoundInfo.offset, bottomBoundInfo.offset);\n  var horizontalOffset = maxOffset(leftBoundInfo.offset, rightBoundInfo.offset);\n  var offset = [0, 0];\n  var isBound = false;\n  var isAllBound = false;\n\n  if (Math.abs(horizontalOffset) < Math.abs(verticalOffset)) {\n    offset = [verticalOffset, 0];\n    isBound = isVerticalBound;\n    isAllBound = isAllVerticalBound;\n  } else {\n    offset = [0, horizontalOffset];\n    isBound = isHorizontalBound;\n    isAllBound = isAllHorizontalBound;\n  }\n\n  return {\n    isAllBound: isAllBound,\n    isVerticalBound: isVerticalBound,\n    isHorizontalBound: isHorizontalBound,\n    isBound: isBound,\n    offset: offset\n  };\n}\n\nfunction checkLineBoundCollision(line, boundLine, isStart, threshold, isRender) {\n  var dot1 = line[0];\n  var dot2 = line[1];\n  var boundDot1 = boundLine[0];\n  var boundDot2 = boundLine[1];\n  var dy1 = getTinyDist(dot2[1] - dot1[1]);\n  var dx1 = getTinyDist(dot2[0] - dot1[0]);\n  var dy2 = getTinyDist(boundDot2[1] - boundDot1[1]);\n  var dx2 = getTinyDist(boundDot2[0] - boundDot1[0]); // dx2 or dy2 is zero\n\n  if (!dx2) {\n    // vertical\n    if (isRender && !dy1) {\n      // 90deg\n      return {\n        isBound: false,\n        offset: 0\n      };\n    } else if (dx1) {\n      // const y = dy1 ? dy1 / dx1 * (boundDot1[0] - dot1[0]) + dot1[1] : dot1[1];\n      var y = dy1 / dx1 * (boundDot1[0] - dot1[0]) + dot1[1]; // boundDot1[1] <= y  <= boundDot2[1]\n\n      return checkInnerBoundDot(y, boundDot1[1], boundDot2[1], isStart, threshold);\n    } else {\n      var offset = boundDot1[0] - dot1[0];\n      var isBound = Math.abs(offset) <= (threshold || 0);\n      return {\n        isBound: isBound,\n        offset: isBound ? offset : 0\n      };\n    }\n  } else if (!dy2) {\n    // horizontal\n    if (isRender && !dx1) {\n      // 90deg\n      return {\n        isBound: false,\n        offset: 0\n      };\n    } else if (dy1) {\n      // y = a * (x - x1) + y1\n      // x = (y - y1) / a + x1\n      // const a = dy1 / dx1;\n      // const x = dx1 ? (boundDot1[1] - dot1[1]) / a + dot1[0] : dot1[0];\n      var x = (boundDot1[1] - dot1[1]) / (dy1 / dx1) + dot1[0]; // boundDot1[0] <= x && x <= boundDot2[0]\n\n      return checkInnerBoundDot(x, boundDot1[0], boundDot2[0], isStart, threshold);\n    } else {\n      var offset = boundDot1[1] - dot1[1];\n      var isBound = Math.abs(offset) <= (threshold || 0);\n      return {\n        isBound: isBound,\n        offset: isBound ? offset : 0\n      };\n    }\n  }\n\n  return {\n    isBound: false,\n    offset: 0\n  };\n}\n\nfunction getInnerBoundInfo(moveable, lines, center, datas) {\n  return lines.map(function (_a) {\n    var multiple = _a[0],\n        pos1 = _a[1],\n        pos2 = _a[2];\n\n    var _b = checkInnerBound(moveable, [pos1, pos2], center),\n        isBound = _b.isBound,\n        offset = _b.offset,\n        isVerticalBound = _b.isVerticalBound,\n        isHorizontalBound = _b.isHorizontalBound;\n\n    var sizeOffset = getDragDist({\n      datas: datas,\n      distX: offset[0],\n      distY: offset[1]\n    }).map(function (size, i) {\n      return size * (multiple[i] ? 2 / multiple[i] : 0);\n    });\n    return {\n      sign: multiple,\n      isBound: isBound,\n      isVerticalBound: isVerticalBound,\n      isHorizontalBound: isHorizontalBound,\n      isSnap: false,\n      offset: sizeOffset\n    };\n  });\n}\n\nfunction getInnerBoundDragInfo(moveable, poses, datas) {\n  var _a;\n\n  var lines = getCheckInnerBoundLines(poses, [0, 0], false).map(function (_a) {\n    var sign = _a[0],\n        pos1 = _a[1],\n        pos2 = _a[2];\n    return [sign.map(function (dir) {\n      return Math.abs(dir) * 2;\n    }), pos1, pos2];\n  });\n  var innerBoundInfo = getInnerBoundInfo(moveable, lines, getPosByDirection(poses, [0, 0]), datas);\n  var widthOffsetInfo = getNearOffsetInfo(innerBoundInfo, 0);\n  var heightOffsetInfo = getNearOffsetInfo(innerBoundInfo, 1);\n  var verticalOffset = 0;\n  var horizontalOffset = 0;\n  var isVerticalBound = widthOffsetInfo.isVerticalBound || heightOffsetInfo.isVerticalBound;\n  var isHorizontalBound = widthOffsetInfo.isHorizontalBound || heightOffsetInfo.isHorizontalBound;\n\n  if (isVerticalBound || isHorizontalBound) {\n    _a = getInverseDragDist({\n      datas: datas,\n      distX: -widthOffsetInfo.offset[0],\n      distY: -heightOffsetInfo.offset[1]\n    }), verticalOffset = _a[0], horizontalOffset = _a[1];\n  }\n\n  return {\n    vertical: {\n      isBound: isVerticalBound,\n      offset: verticalOffset\n    },\n    horizontal: {\n      isBound: isHorizontalBound,\n      offset: horizontalOffset\n    }\n  };\n}\n\nfunction getCheckSnapLineDirections(direction, keepRatio) {\n  var lineDirections = [];\n  var x = direction[0];\n  var y = direction[1];\n\n  if (x && y) {\n    lineDirections.push([[0, y * 2], direction, [-x, y]], [[x * 2, 0], direction, [x, -y]]);\n  } else if (x) {\n    // vertcal\n    lineDirections.push([[x * 2, 0], [x, 1], [x, -1]]);\n\n    if (keepRatio) {\n      lineDirections.push([[0, -1], [x, -1], [-x, -1]], [[0, 1], [x, 1], [-x, 1]]);\n    }\n  } else if (y) {\n    // horizontal\n    lineDirections.push([[0, y * 2], [1, y], [-1, y]]);\n\n    if (keepRatio) {\n      lineDirections.push([[-1, 0], [-1, y], [-1, -y]], [[1, 0], [1, y], [1, -y]]);\n    }\n  } else {\n    // [0, 0] to all direction\n    lineDirections.push([[-1, 0], [-1, -1], [-1, 1]], [[1, 0], [1, -1], [1, 1]], [[0, -1], [-1, -1], [1, -1]], [[0, 1], [-1, 1], [1, 1]]);\n  }\n\n  return lineDirections;\n}\n\nfunction getCheckInnerBoundLines(poses, direction, keepRatio) {\n  return getCheckSnapLineDirections(direction, keepRatio).map(function (_a) {\n    var sign = _a[0],\n        dir1 = _a[1],\n        dir2 = _a[2];\n    return [sign, getPosByDirection(poses, dir1), getPosByDirection(poses, dir2)];\n  });\n}\n\nfunction isBoundRotate(relativePoses, boundDots, center, rad) {\n  var nextPoses = rad ? relativePoses.map(function (pos) {\n    return rotate(pos, rad);\n  }) : relativePoses;\n\n  var dots = __spreadArray([center], boundDots, true);\n\n  return [[nextPoses[0], nextPoses[1]], [nextPoses[1], nextPoses[3]], [nextPoses[3], nextPoses[2]], [nextPoses[2], nextPoses[0]]].some(function (line) {\n    return !isSameStartLine(dots, line);\n  });\n}\n\nfunction getDistPointLine(_a) {\n  // x = 0, y = 0\n  // d = (ax + by + c) / root(a2 + b2)\n  var pos1 = _a[0],\n      pos2 = _a[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (!dx) {\n    return Math.abs(pos1[0]);\n  }\n\n  if (!dy) {\n    return Math.abs(pos1[1]);\n  } // y - y1 = a(x - x1)\n  // 0 = ax -y + -a * x1 + y1\n\n\n  var a = dy / dx;\n  return Math.abs((-a * pos1[0] + pos1[1]) / Math.sqrt(Math.pow(a, 2) + 1));\n}\n\nfunction solveReverseLine(_a) {\n  var pos1 = _a[0],\n      pos2 = _a[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (!dx) {\n    return [pos1[0], 0];\n  }\n\n  if (!dy) {\n    return [0, pos1[1]];\n  }\n\n  var a = dy / dx; // y - y1 = a (x  - x1)\n  // y = ax - a * x1 + y1\n\n  var b = -a * pos1[0] + pos1[1]; // y = ax + b = -1/a x\n  // x = -b / (a + 1 / a)\n  // y = b / (1 + 1 / a^2)\n\n  return [-b / (a + 1 / a), b / (a * a + 1)];\n}\n\nfunction checkRotateInnerBounds(moveable, prevPoses, nextPoses, origin, rotation) {\n  var bounds = moveable.props.innerBounds;\n  var rad = rotation * Math.PI / 180;\n\n  if (!bounds) {\n    return [];\n  }\n\n  var left = bounds.left,\n      top = bounds.top,\n      width = bounds.width,\n      height = bounds.height;\n  var relativeLeft = left - origin[0];\n  var relativeRight = left + width - origin[0];\n  var relativeTop = top - origin[1];\n  var relativeBottom = top + height - origin[1];\n  var dots = [[relativeLeft, relativeTop], [relativeRight, relativeTop], [relativeLeft, relativeBottom], [relativeRight, relativeBottom]];\n  var center = getPosByDirection(nextPoses, [0, 0]);\n\n  if (!isBoundRotate(nextPoses, dots, center, 0)) {\n    return [];\n  }\n\n  var result = [];\n  var dotInfos = dots.map(function (dot) {\n    return [getDistSize(dot), getRad([0, 0], dot)];\n  });\n  [[nextPoses[0], nextPoses[1]], [nextPoses[1], nextPoses[3]], [nextPoses[3], nextPoses[2]], [nextPoses[2], nextPoses[0]]].forEach(function (line) {\n    var lineRad = getRad([0, 0], solveReverseLine(line));\n    var lineDist = getDistPointLine(line);\n    result.push.apply(result, dotInfos.filter(function (_a) {\n      var dotDist = _a[0];\n      return dotDist && lineDist <= dotDist;\n    }).map(function (_a) {\n      var dotDist = _a[0],\n          dotRad = _a[1];\n      var distRad = Math.acos(dotDist ? lineDist / dotDist : 0);\n      var nextRad1 = dotRad + distRad;\n      var nextRad2 = dotRad - distRad;\n      return [rad + nextRad1 - lineRad, rad + nextRad2 - lineRad];\n    }).reduce(function (prev, cur) {\n      prev.push.apply(prev, cur);\n      return prev;\n    }, []).filter(function (nextRad) {\n      return !isBoundRotate(prevPoses, dots, center, nextRad);\n    }).map(function (nextRad) {\n      return throttle(nextRad * 180 / Math.PI, TINY_NUM);\n    }));\n  });\n  return result;\n}\n\nfunction checkInnerBoundPoses(moveable) {\n  var innerBounds = moveable.props.innerBounds;\n\n  if (!innerBounds) {\n    return {\n      vertical: [],\n      horizontal: []\n    };\n  }\n\n  var _a = moveable.getRect(),\n      pos1 = _a.pos1,\n      pos2 = _a.pos2,\n      pos3 = _a.pos3,\n      pos4 = _a.pos4;\n\n  var poses = [pos1, pos2, pos3, pos4];\n  var center = getPosByDirection(poses, [0, 0]);\n  var left = innerBounds.left,\n      top = innerBounds.top,\n      width = innerBounds.width,\n      height = innerBounds.height;\n  var leftLine = [[left, top], [left, top + height]];\n  var topLine = [[left, top], [left + width, top]];\n  var rightLine = [[left + width, top], [left + width, top + height]];\n  var bottomLine = [[left, top + height], [left + width, top + height]];\n  var lines = [[pos1, pos2], [pos2, pos4], [pos4, pos3], [pos3, pos1]];\n  var horizontalPoses = [];\n  var verticalPoses = [];\n  var boundMap = {\n    top: false,\n    bottom: false,\n    left: false,\n    right: false\n  };\n  lines.forEach(function (line) {\n    var _a = isStartLine(center, line),\n        isHorizontalStart = _a.horizontal,\n        isVerticalStart = _a.vertical; // test vertical\n\n\n    var topBoundInfo = checkLineBoundCollision(line, topLine, isVerticalStart, 1, true);\n    var bottomBoundInfo = checkLineBoundCollision(line, bottomLine, isVerticalStart, 1, true); // test horizontal\n\n    var leftBoundInfo = checkLineBoundCollision(line, leftLine, isHorizontalStart, 1, true);\n    var rightBoundInfo = checkLineBoundCollision(line, rightLine, isHorizontalStart, 1, true);\n\n    if (topBoundInfo.isBound && !boundMap.top) {\n      horizontalPoses.push(top);\n      boundMap.top = true;\n    }\n\n    if (bottomBoundInfo.isBound && !boundMap.bottom) {\n      horizontalPoses.push(top + height);\n      boundMap.bottom = true;\n    }\n\n    if (leftBoundInfo.isBound && !boundMap.left) {\n      verticalPoses.push(left);\n      boundMap.left = true;\n    }\n\n    if (rightBoundInfo.isBound && !boundMap.right) {\n      verticalPoses.push(left + width);\n      boundMap.right = true;\n    }\n  });\n  return {\n    horizontal: horizontalPoses,\n    vertical: verticalPoses\n  };\n}\n\nfunction checkBoundPoses(bounds, verticalPoses, horizontalPoses) {\n  var _a = bounds || {},\n      _b = _a.position,\n      position = _b === void 0 ? \"client\" : _b,\n      _c = _a.left,\n      left = _c === void 0 ? -Infinity : _c,\n      _d = _a.top,\n      top = _d === void 0 ? -Infinity : _d,\n      _e = _a.right,\n      right = _e === void 0 ? Infinity : _e,\n      _f = _a.bottom,\n      bottom = _f === void 0 ? Infinity : _f;\n\n  var nextBounds = {\n    position: position,\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom\n  };\n  return {\n    vertical: checkBounds(nextBounds, verticalPoses, true),\n    horizontal: checkBounds(nextBounds, horizontalPoses, false)\n  };\n}\n\nfunction getBounds(moveable, externalBounds) {\n  var _a = moveable.state,\n      _b = _a.containerClientRect,\n      containerHeight = _b.clientHeight,\n      containerWidth = _b.clientWidth,\n      clientLeft = _b.clientLeft,\n      clientTop = _b.clientTop,\n      _c = _a.snapOffset,\n      snapOffsetLeft = _c.left,\n      snapOffsetTop = _c.top,\n      snapOffsetRight = _c.right,\n      snapOffsetBottom = _c.bottom;\n  var bounds = externalBounds || moveable.props.bounds || {};\n  var position = bounds.position || \"client\";\n  var isCSS = position === \"css\";\n  var _d = bounds.left,\n      left = _d === void 0 ? -Infinity : _d,\n      _e = bounds.top,\n      top = _e === void 0 ? -Infinity : _e;\n  var _f = bounds.right,\n      right = _f === void 0 ? isCSS ? -Infinity : Infinity : _f,\n      _g = bounds.bottom,\n      bottom = _g === void 0 ? isCSS ? -Infinity : Infinity : _g;\n\n  if (isCSS) {\n    right = containerWidth + snapOffsetRight - snapOffsetLeft - right;\n    bottom = containerHeight + snapOffsetBottom - snapOffsetTop - bottom;\n  }\n\n  return {\n    left: left + snapOffsetLeft - clientLeft,\n    right: right + snapOffsetLeft - clientLeft,\n    top: top + snapOffsetTop - clientTop,\n    bottom: bottom + snapOffsetTop - clientTop\n  };\n}\n\nfunction checkBoundKeepRatio(moveable, startPos, endPos) {\n  var _a = getBounds(moveable),\n      left = _a.left,\n      top = _a.top,\n      right = _a.right,\n      bottom = _a.bottom;\n\n  var endX = endPos[0],\n      endY = endPos[1];\n\n  var _b = minus(endPos, startPos),\n      dx = _b[0],\n      dy = _b[1];\n\n  if (Math.abs(dx) < TINY_NUM) {\n    dx = 0;\n  }\n\n  if (Math.abs(dy) < TINY_NUM) {\n    dy = 0;\n  }\n\n  var isBottom = dy > 0;\n  var isRight = dx > 0;\n  var verticalInfo = {\n    isBound: false,\n    offset: 0,\n    pos: 0\n  };\n  var horizontalInfo = {\n    isBound: false,\n    offset: 0,\n    pos: 0\n  };\n\n  if (dx === 0 && dy === 0) {\n    return {\n      vertical: verticalInfo,\n      horizontal: horizontalInfo\n    };\n  } else if (dx === 0) {\n    if (isBottom) {\n      if (bottom < endY) {\n        horizontalInfo.pos = bottom;\n        horizontalInfo.offset = endY - bottom;\n      }\n    } else {\n      if (top > endY) {\n        horizontalInfo.pos = top;\n        horizontalInfo.offset = endY - top;\n      }\n    }\n  } else if (dy === 0) {\n    if (isRight) {\n      if (right < endX) {\n        verticalInfo.pos = right;\n        verticalInfo.offset = endX - right;\n      }\n    } else {\n      if (left > endX) {\n        verticalInfo.pos = left;\n        verticalInfo.offset = endX - left;\n      }\n    }\n  } else {\n    // y - y1 = a * (x - x1)\n    var a = dy / dx;\n    var b = endPos[1] - a * endX;\n    var y = 0;\n    var x = 0;\n    var isBound = false;\n\n    if (isRight && right <= endX) {\n      y = a * right + b;\n      x = right;\n      isBound = true;\n    } else if (!isRight && endX <= left) {\n      y = a * left + b;\n      x = left;\n      isBound = true;\n    }\n\n    if (isBound) {\n      if (y < top || y > bottom) {\n        isBound = false;\n      }\n    }\n\n    if (!isBound) {\n      if (isBottom && bottom <= endY) {\n        y = bottom;\n        x = (y - b) / a;\n        isBound = true;\n      } else if (!isBottom && endY <= top) {\n        y = top;\n        x = (y - b) / a;\n        isBound = true;\n      }\n    }\n\n    if (isBound) {\n      verticalInfo.isBound = true;\n      verticalInfo.pos = x;\n      verticalInfo.offset = endX - x;\n      horizontalInfo.isBound = true;\n      horizontalInfo.pos = y;\n      horizontalInfo.offset = endY - y;\n    }\n  }\n\n  return {\n    vertical: verticalInfo,\n    horizontal: horizontalInfo\n  };\n}\n\nfunction checkBounds(bounds, poses, isVertical) {\n  // 0   [100 - 200]  300\n  var startBoundPos = bounds[isVertical ? \"left\" : \"top\"];\n  var endBoundPos = bounds[isVertical ? \"right\" : \"bottom\"]; // 450\n\n  var minPos = Math.min.apply(Math, poses);\n  var maxPos = Math.max.apply(Math, poses);\n  var boundInfos = [];\n\n  if (startBoundPos + 1 > minPos) {\n    boundInfos.push({\n      isBound: true,\n      offset: minPos - startBoundPos,\n      pos: startBoundPos\n    });\n  }\n\n  if (endBoundPos - 1 < maxPos) {\n    boundInfos.push({\n      isBound: true,\n      offset: maxPos - endBoundPos,\n      pos: endBoundPos\n    });\n  }\n\n  if (!boundInfos.length) {\n    boundInfos.push({\n      isBound: false,\n      offset: 0,\n      pos: 0\n    });\n  }\n\n  return boundInfos.sort(function (a, b) {\n    return Math.abs(b.offset) - Math.abs(a.offset);\n  });\n}\n\nfunction isBoundRotate$1(relativePoses, boundRect, rad) {\n  var nextPoses = rad ? relativePoses.map(function (pos) {\n    return rotate(pos, rad);\n  }) : relativePoses;\n  return nextPoses.some(function (pos) {\n    return pos[0] < boundRect.left && Math.abs(pos[0] - boundRect.left) > 0.1 || pos[0] > boundRect.right && Math.abs(pos[0] - boundRect.right) > 0.1 || pos[1] < boundRect.top && Math.abs(pos[1] - boundRect.top) > 0.1 || pos[1] > boundRect.bottom && Math.abs(pos[1] - boundRect.bottom) > 0.1;\n  });\n}\n\nfunction boundRotate(vec, boundPos, index) {\n  var r = getDistSize(vec);\n  var nextPos = Math.sqrt(r * r - boundPos * boundPos) || 0;\n  return [nextPos, -nextPos].sort(function (a, b) {\n    return Math.abs(a - vec[index ? 0 : 1]) - Math.abs(b - vec[index ? 0 : 1]);\n  }).map(function (pos) {\n    return getRad([0, 0], index ? [pos, boundPos] : [boundPos, pos]);\n  });\n}\n\nfunction checkRotateBounds(moveable, prevPoses, nextPoses, origin, rotation) {\n  if (!moveable.props.bounds) {\n    return [];\n  }\n\n  var rad = rotation * Math.PI / 180;\n\n  var _a = getBounds(moveable),\n      left = _a.left,\n      top = _a.top,\n      right = _a.right,\n      bottom = _a.bottom;\n\n  var relativeLeft = left - origin[0];\n  var relativeRight = right - origin[0];\n  var relativeTop = top - origin[1];\n  var relativeBottom = bottom - origin[1];\n  var boundRect = {\n    left: relativeLeft,\n    top: relativeTop,\n    right: relativeRight,\n    bottom: relativeBottom\n  };\n\n  if (!isBoundRotate$1(nextPoses, boundRect, 0)) {\n    return [];\n  }\n\n  var result = [];\n  [[relativeLeft, 0], [relativeRight, 0], [relativeTop, 1], [relativeBottom, 1]].forEach(function (_a) {\n    var boundPos = _a[0],\n        index = _a[1];\n    nextPoses.forEach(function (nextPos) {\n      var relativeRad1 = getRad([0, 0], nextPos);\n      result.push.apply(result, boundRotate(nextPos, boundPos, index).map(function (relativeRad2) {\n        return rad + relativeRad2 - relativeRad1;\n      }).filter(function (nextRad) {\n        return !isBoundRotate$1(prevPoses, boundRect, nextRad);\n      }).map(function (nextRad) {\n        return throttle(nextRad * 180 / Math.PI, TINY_NUM);\n      }));\n    });\n  });\n  return result;\n}\n\nfunction renderGuideline(info, React) {\n  var _a;\n\n  var direction = info.direction,\n      classNames = info.classNames,\n      size = info.size,\n      pos = info.pos,\n      zoom = info.zoom,\n      key = info.key;\n  var isHorizontal = direction === \"horizontal\";\n  var scaleType = isHorizontal ? \"Y\" : \"X\"; // const scaleType2 = isHorizontal ? \"Y\" : \"X\";\n\n  return React.createElement(\"div\", {\n    key: key,\n    className: classNames.join(\" \"),\n    style: (_a = {}, _a[isHorizontal ? \"width\" : \"height\"] = \"\".concat(size), _a.transform = \"translate(\".concat(pos[0], \", \").concat(pos[1], \") translate\").concat(scaleType, \"(-50%) scale\").concat(scaleType, \"(\").concat(zoom, \")\"), _a)\n  });\n}\n\nfunction renderInnerGuideline(info, React) {\n  return renderGuideline(__assign$1(__assign$1({}, info), {\n    classNames: __spreadArray([prefix(\"line\", \"guideline\", info.direction)], info.classNames, true).filter(function (className) {\n      return className;\n    }),\n    size: info.size || \"\".concat(info.sizeValue, \"px\"),\n    pos: info.pos || info.posValue.map(function (v) {\n      return \"\".concat(throttle(v, 0.1), \"px\");\n    })\n  }), React);\n}\n\nfunction renderSnapPoses(moveable, direction, snapPoses, minPos, targetPos, size, index, React) {\n  var zoom = moveable.props.zoom;\n  return snapPoses.map(function (_a, i) {\n    var type = _a.type,\n        pos = _a.pos;\n    var renderPos = [0, 0];\n    renderPos[index] = minPos;\n    renderPos[index ? 0 : 1] = -targetPos + pos;\n    return renderInnerGuideline({\n      key: \"\".concat(direction, \"TargetGuideline\").concat(i),\n      classNames: [prefix(\"target\", \"bold\", type)],\n      posValue: renderPos,\n      sizeValue: size,\n      zoom: zoom,\n      direction: direction\n    }, React);\n  });\n}\n\nfunction renderGuidelines(moveable, type, guidelines, targetPos, targetRect, React) {\n  var _a = moveable.props,\n      zoom = _a.zoom,\n      isDisplayInnerSnapDigit = _a.isDisplayInnerSnapDigit;\n  var mainNames = type === \"horizontal\" ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n  var targetStart = targetRect[mainNames.start];\n  var targetEnd = targetRect[mainNames.end];\n  return guidelines.filter(function (_a) {\n    var hide = _a.hide,\n        elementRect = _a.elementRect;\n\n    if (hide) {\n      return false;\n    }\n\n    if (isDisplayInnerSnapDigit && elementRect) {\n      // inner\n      var rect = elementRect.rect;\n\n      if (rect[mainNames.start] <= targetStart && targetEnd <= rect[mainNames.end]) {\n        return false;\n      }\n    }\n\n    return true;\n  }).map(function (guideline, i) {\n    var pos = guideline.pos,\n        size = guideline.size,\n        element = guideline.element;\n    var renderPos = [-targetPos[0] + pos[0], -targetPos[1] + pos[1]];\n    return renderInnerGuideline({\n      key: \"\".concat(type, \"-default-guideline-\").concat(i),\n      classNames: element ? [prefix(\"bold\")] : [],\n      direction: type,\n      posValue: renderPos,\n      sizeValue: size,\n      zoom: zoom\n    }, React);\n  });\n}\n\nfunction renderDigitLine(moveable, type, lineType, index, gap, renderPos, className, React) {\n  var _a;\n\n  var _b = moveable.props,\n      _c = _b.snapDigit,\n      snapDigit = _c === void 0 ? 0 : _c,\n      _d = _b.isDisplaySnapDigit,\n      isDisplaySnapDigit = _d === void 0 ? true : _d,\n      _e = _b.snapDistFormat,\n      snapDistFormat = _e === void 0 ? function (v) {\n    return v;\n  } : _e,\n      zoom = _b.zoom;\n  var scaleType = type === \"horizontal\" ? \"X\" : \"Y\";\n  var sizeName = type === \"vertical\" ? \"height\" : \"width\";\n  var absGap = Math.abs(gap);\n  var snapSize = isDisplaySnapDigit ? parseFloat(absGap.toFixed(snapDigit)) : 0;\n  return React.createElement(\"div\", {\n    key: \"\".concat(type, \"-\").concat(lineType, \"-guideline-\").concat(index),\n    className: prefix(\"guideline-group\", type),\n    style: (_a = {\n      left: \"\".concat(renderPos[0], \"px\"),\n      top: \"\".concat(renderPos[1], \"px\")\n    }, _a[sizeName] = \"\".concat(absGap, \"px\"), _a)\n  }, renderInnerGuideline({\n    direction: type,\n    classNames: [prefix(lineType), className],\n    size: \"100%\",\n    posValue: [0, 0],\n    sizeValue: absGap,\n    zoom: zoom\n  }, React), React.createElement(\"div\", {\n    className: prefix(\"size-value\", \"gap\"),\n    style: {\n      transform: \"translate\".concat(scaleType, \"(-50%) scale(\").concat(zoom, \")\")\n    }\n  }, snapSize > 0 ? snapDistFormat(snapSize) : \"\"));\n}\n\nfunction groupByElementGuidelines(type, guidelines, targetRect, isDisplayInnerSnapDigit) {\n  var index = type === \"vertical\" ? 0 : 1;\n  var otherIndex = type === \"vertical\" ? 1 : 0;\n  var names = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n  var targetStart = targetRect[names.start];\n  var targetEnd = targetRect[names.end];\n  return groupBy(guidelines, function (guideline) {\n    return guideline.pos[index];\n  }).map(function (nextGuidelines) {\n    var start = [];\n    var end = [];\n    var inner = [];\n    nextGuidelines.forEach(function (guideline) {\n      var _a, _b;\n\n      var element = guideline.element;\n      var rect = guideline.elementRect.rect;\n\n      if (rect[names.end] < targetStart) {\n        start.push(guideline);\n      } else if (targetEnd < rect[names.start]) {\n        end.push(guideline);\n      } else if (rect[names.start] <= targetStart && targetEnd <= rect[names.end] && isDisplayInnerSnapDigit) {\n        var pos = guideline.pos;\n        var elementRect1 = {\n          element: element,\n          rect: __assign$1(__assign$1({}, rect), (_a = {}, _a[names.end] = rect[names.start], _a))\n        };\n        var elementRect2 = {\n          element: element,\n          rect: __assign$1(__assign$1({}, rect), (_b = {}, _b[names.start] = rect[names.end], _b))\n        };\n        var nextPos1 = [0, 0];\n        var nextPos2 = [0, 0];\n        nextPos1[index] = pos[index];\n        nextPos1[otherIndex] = pos[otherIndex];\n        nextPos2[index] = pos[index];\n        nextPos2[otherIndex] = pos[otherIndex] + guideline.size;\n        start.push({\n          type: type,\n          pos: nextPos1,\n          size: 0,\n          elementRect: elementRect1\n        });\n        end.push({\n          type: type,\n          pos: nextPos2,\n          size: 0,\n          elementRect: elementRect2\n        }); // inner.push(guideline);\n      }\n    });\n    start.sort(function (a, b) {\n      return b.pos[otherIndex] - a.pos[otherIndex];\n    });\n    end.sort(function (a, b) {\n      return a.pos[otherIndex] - b.pos[otherIndex];\n    });\n    return {\n      total: nextGuidelines,\n      start: start,\n      end: end,\n      inner: inner\n    };\n  });\n}\n\nfunction renderDashedGuidelines(moveable, guidelines, targetPos, targetRect, React) {\n  var isDisplayInnerSnapDigit = moveable.props.isDisplayInnerSnapDigit;\n  var rendered = [];\n  [\"vertical\", \"horizontal\"].forEach(function (type) {\n    var nextGuidelines = guidelines.filter(function (guideline) {\n      return guideline.type === type;\n    });\n    var index = type === \"vertical\" ? 1 : 0;\n    var otherIndex = index ? 0 : 1;\n    var groups = groupByElementGuidelines(type, nextGuidelines, targetRect, isDisplayInnerSnapDigit);\n    var mainNames = index ? HORIZONTAL_NAMES_MAP : VERTICAL_NAMES_MAP;\n    var sideNames = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n    var targetStart = targetRect[mainNames.start];\n    var targetEnd = targetRect[mainNames.end];\n    groups.forEach(function (_a) {\n      var total = _a.total,\n          start = _a.start,\n          end = _a.end,\n          inner = _a.inner;\n      var sidePos = targetPos[otherIndex] + total[0].pos[otherIndex] - targetRect[sideNames.start];\n      var prevRect = targetRect;\n      start.forEach(function (guideline) {\n        var nextRect = guideline.elementRect.rect;\n        var size = prevRect[mainNames.start] - nextRect[mainNames.end];\n\n        if (size > 0) {\n          var renderPos = [0, 0];\n          renderPos[index] = targetPos[index] + prevRect[mainNames.start] - targetStart - size;\n          renderPos[otherIndex] = sidePos;\n          rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size, renderPos, guideline.className, React));\n        }\n\n        prevRect = nextRect;\n      });\n      prevRect = targetRect;\n      end.forEach(function (guideline) {\n        var nextRect = guideline.elementRect.rect;\n        var size = nextRect[mainNames.start] - prevRect[mainNames.end];\n\n        if (size > 0) {\n          var renderPos = [0, 0];\n          renderPos[index] = targetPos[index] + prevRect[mainNames.end] - targetStart;\n          renderPos[otherIndex] = sidePos;\n          rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size, renderPos, guideline.className, React));\n        }\n\n        prevRect = nextRect;\n      });\n      inner.forEach(function (guideline) {\n        var nextRect = guideline.elementRect.rect;\n        var size1 = targetStart - nextRect[mainNames.start];\n        var size2 = nextRect[mainNames.end] - targetEnd;\n        var renderPos1 = [0, 0];\n        var renderPos2 = [0, 0];\n        renderPos1[index] = targetPos[index] - size1;\n        renderPos1[otherIndex] = sidePos;\n        renderPos2[index] = targetPos[index] + targetEnd - targetStart;\n        renderPos2[otherIndex] = sidePos;\n        rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size1, renderPos1, guideline.className, React));\n        rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size2, renderPos2, guideline.className, React));\n      });\n    });\n  });\n  return rendered;\n}\n\nfunction renderGapGuidelines(moveable, guidelines, targetPos, targetRect, React) {\n  var rendered = [];\n  [\"horizontal\", \"vertical\"].forEach(function (type) {\n    var nextGuidelines = guidelines.filter(function (guideline) {\n      return guideline.type === type;\n    });\n    var index = type === \"vertical\" ? 0 : 1;\n    var otherIndex = index ? 0 : 1;\n    var mainNames = index ? HORIZONTAL_NAMES_MAP : VERTICAL_NAMES_MAP;\n    var sideNames = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n    var targetStart = targetRect[mainNames.start];\n    var targetEnd = targetRect[mainNames.end];\n    var targetSideStart = targetRect[sideNames.start];\n    var targetSideEnd = targetRect[sideNames.end];\n    nextGuidelines.forEach(function (_a) {\n      var gap = _a.gap,\n          gapRects = _a.gapRects,\n          className = _a.className;\n      var sideStartPos = Math.max.apply(Math, __spreadArray([targetSideStart], gapRects.map(function (_a) {\n        var rect = _a.rect;\n        return rect[sideNames.start];\n      }), false));\n      var sideEndPos = Math.min.apply(Math, __spreadArray([targetSideEnd], gapRects.map(function (_a) {\n        var rect = _a.rect;\n        return rect[sideNames.end];\n      }), false));\n      var sideCenterPos = (sideStartPos + sideEndPos) / 2;\n\n      if (sideStartPos === sideEndPos || sideCenterPos === (targetSideStart + targetSideEnd) / 2) {\n        return;\n      }\n\n      gapRects.forEach(function (_a) {\n        var rect = _a.rect;\n        var renderPos = [targetPos[0], targetPos[1]];\n\n        if (rect[mainNames.end] < targetStart) {\n          renderPos[index] += rect[mainNames.end] - targetStart;\n        } else if (targetEnd < rect[mainNames.start]) {\n          renderPos[index] += rect[mainNames.start] - targetStart - gap;\n        } else {\n          return;\n        }\n\n        renderPos[otherIndex] += sideCenterPos - targetSideStart;\n        rendered.push(renderDigitLine(moveable, index ? \"vertical\" : \"horizontal\", \"gap\", rendered.length, gap, renderPos, className, React));\n      });\n    });\n  });\n  return rendered;\n}\n\nfunction solveEquation(pos1, pos2, snapOffset, isVertical) {\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (Math.abs(dx) < TINY_NUM$1) {\n    dx = 0;\n  }\n\n  if (Math.abs(dy) < TINY_NUM$1) {\n    dy = 0;\n  }\n\n  if (!dx) {\n    // y = 0 * x + b\n    // only horizontal\n    if (!isVertical) {\n      return [0, snapOffset];\n    }\n\n    return [0, 0];\n  }\n\n  if (!dy) {\n    // only vertical\n    if (isVertical) {\n      return [snapOffset, 0];\n    }\n\n    return [0, 0];\n  } // y = ax + b\n\n\n  var a = dy / dx;\n  var b = pos1[1] - a * pos1[0];\n\n  if (isVertical) {\n    // y = a * x + b\n    var y = a * (pos2[0] + snapOffset) + b;\n    return [snapOffset, y - pos2[1]];\n  } else {\n    // x = (y - b) / a\n    var x = (pos2[1] + snapOffset - b) / a;\n    return [x - pos2[0], snapOffset];\n  }\n}\n\nfunction solveNextOffset(pos1, pos2, offset, isVertical, datas) {\n  var sizeOffset = solveEquation(pos1, pos2, offset, isVertical);\n\n  if (!sizeOffset) {\n    return {\n      isOutside: false,\n      offset: [0, 0]\n    };\n  }\n\n  var size = getDist$1(pos1, pos2);\n  var dist1 = getDist$1(sizeOffset, pos1);\n  var dist2 = getDist$1(sizeOffset, pos2);\n  var isOutside = dist1 > size || dist2 > size;\n\n  var _a = getDragDist({\n    datas: datas,\n    distX: sizeOffset[0],\n    distY: sizeOffset[1]\n  }),\n      widthOffset = _a[0],\n      heightOffset = _a[1];\n\n  return {\n    offset: [widthOffset, heightOffset],\n    isOutside: isOutside\n  };\n}\n\nfunction getSnapBound(boundInfo, snapInfo) {\n  if (boundInfo.isBound) {\n    return boundInfo.offset;\n  } else if (snapInfo.isSnap) {\n    return getNearestSnapGuidelineInfo(snapInfo).offset;\n  }\n\n  return 0;\n}\n\nfunction checkThrottleDragRotate(throttleDragRotate, _a, _b, _c, _d) {\n  var distX = _a[0],\n      distY = _a[1];\n  var isVerticalBound = _b[0],\n      isHorizontalBound = _b[1];\n  var isVerticalSnap = _c[0],\n      isHorizontalSnap = _c[1];\n  var verticalOffset = _d[0],\n      horizontalOffset = _d[1];\n  var offsetX = -verticalOffset;\n  var offsetY = -horizontalOffset;\n\n  if (throttleDragRotate && distX && distY) {\n    offsetX = 0;\n    offsetY = 0;\n    var adjustPoses = [];\n\n    if (isVerticalBound && isHorizontalBound) {\n      adjustPoses.push([0, horizontalOffset], [verticalOffset, 0]);\n    } else if (isVerticalBound) {\n      adjustPoses.push([verticalOffset, 0]);\n    } else if (isHorizontalBound) {\n      adjustPoses.push([0, horizontalOffset]);\n    } else if (isVerticalSnap && isHorizontalSnap) {\n      adjustPoses.push([0, horizontalOffset], [verticalOffset, 0]);\n    } else if (isVerticalSnap) {\n      adjustPoses.push([verticalOffset, 0]);\n    } else if (isHorizontalSnap) {\n      adjustPoses.push([0, horizontalOffset]);\n    }\n\n    if (adjustPoses.length) {\n      adjustPoses.sort(function (a, b) {\n        return getDistSize(minus([distX, distY], a)) - getDistSize(minus([distX, distY], b));\n      });\n      var adjustPos = adjustPoses[0];\n\n      if (adjustPos[0] && Math.abs(distX) > TINY_NUM$1) {\n        offsetX = -adjustPos[0];\n        offsetY = distY * Math.abs(distX + offsetX) / Math.abs(distX) - distY;\n      } else if (adjustPos[1] && Math.abs(distY) > TINY_NUM$1) {\n        var prevDistY = distY;\n        offsetY = -adjustPos[1];\n        offsetX = distX * Math.abs(distY + offsetY) / Math.abs(prevDistY) - distX;\n      }\n\n      if (throttleDragRotate && isHorizontalBound && isVerticalBound) {\n        if (Math.abs(offsetX) > TINY_NUM$1 && Math.abs(offsetX) < Math.abs(verticalOffset)) {\n          var scale = Math.abs(verticalOffset) / Math.abs(offsetX);\n          offsetX *= scale;\n          offsetY *= scale;\n        } else if (Math.abs(offsetY) > TINY_NUM$1 && Math.abs(offsetY) < Math.abs(horizontalOffset)) {\n          var scale = Math.abs(horizontalOffset) / Math.abs(offsetY);\n          offsetX *= scale;\n          offsetY *= scale;\n        } else {\n          offsetX = maxOffset(-verticalOffset, offsetX);\n          offsetY = maxOffset(-horizontalOffset, offsetY);\n        }\n      }\n    }\n  } else {\n    offsetX = distX || isVerticalBound ? -verticalOffset : 0;\n    offsetY = distY || isHorizontalBound ? -horizontalOffset : 0;\n  }\n\n  return [offsetX, offsetY];\n}\n\nfunction checkSnapBoundsDrag(moveable, distX, distY, throttleDragRotate, isRequest, datas) {\n  if (!hasGuidelines(moveable, \"draggable\")) {\n    return [{\n      isSnap: false,\n      isBound: false,\n      offset: 0\n    }, {\n      isSnap: false,\n      isBound: false,\n      offset: 0\n    }];\n  }\n\n  var poses = getAbsolutePoses(datas.absolutePoses, [distX, distY]);\n\n  var _a = getRect(poses),\n      left = _a.left,\n      right = _a.right,\n      top = _a.top,\n      bottom = _a.bottom;\n\n  var boundPoses = {\n    horizontal: poses.map(function (pos) {\n      return pos[1];\n    }),\n    vertical: poses.map(function (pos) {\n      return pos[0];\n    })\n  };\n  var snapDirections = getSnapDirections(moveable.props.snapDirections);\n  var snapPoses = splitSnapDirectionPoses(snapDirections, {\n    left: left,\n    right: right,\n    top: top,\n    bottom: bottom,\n    center: (left + right) / 2,\n    middle: (top + bottom) / 2\n  });\n\n  var _b = checkMoveableSnapBounds(moveable, isRequest, snapPoses, boundPoses),\n      verticalSnapBoundInfo = _b.vertical,\n      horizontalSnapBoundInfo = _b.horizontal;\n\n  var _c = getInnerBoundDragInfo(moveable, poses, datas),\n      verticalInnerBoundInfo = _c.vertical,\n      horizontalInnerBoundInfo = _c.horizontal;\n\n  var isVerticalSnap = verticalSnapBoundInfo.isSnap;\n  var isHorizontalSnap = horizontalSnapBoundInfo.isSnap;\n  var isVerticalBound = verticalSnapBoundInfo.isBound || verticalInnerBoundInfo.isBound;\n  var isHorizontalBound = horizontalSnapBoundInfo.isBound || horizontalInnerBoundInfo.isBound;\n  var verticalOffset = maxOffset(verticalSnapBoundInfo.offset, verticalInnerBoundInfo.offset);\n  var horizontalOffset = maxOffset(horizontalSnapBoundInfo.offset, horizontalInnerBoundInfo.offset);\n\n  var _d = checkThrottleDragRotate(throttleDragRotate, [distX, distY], [isVerticalBound, isHorizontalBound], [isVerticalSnap, isHorizontalSnap], [verticalOffset, horizontalOffset]),\n      offsetX = _d[0],\n      offsetY = _d[1];\n\n  return [{\n    isBound: isVerticalBound,\n    isSnap: isVerticalSnap,\n    offset: offsetX\n  }, {\n    isBound: isHorizontalBound,\n    isSnap: isHorizontalSnap,\n    offset: offsetY\n  }];\n}\n\nfunction checkMoveableSnapBounds(moveable, isRequest, poses, boundPoses) {\n  if (boundPoses === void 0) {\n    boundPoses = poses;\n  }\n\n  var _a = checkBoundPoses(getBounds(moveable), boundPoses.vertical, boundPoses.horizontal),\n      horizontalBoundInfos = _a.horizontal,\n      verticalBoundInfos = _a.vertical;\n\n  var _b = isRequest ? {\n    horizontal: {\n      isSnap: false,\n      index: -1\n    },\n    vertical: {\n      isSnap: false,\n      index: -1\n    }\n  } : checkMoveableSnapPoses(moveable, poses.vertical, poses.horizontal),\n      horizontalSnapInfo = _b.horizontal,\n      verticalSnapInfo = _b.vertical;\n\n  var horizontalOffset = getSnapBound(horizontalBoundInfos[0], horizontalSnapInfo);\n  var verticalOffset = getSnapBound(verticalBoundInfos[0], verticalSnapInfo);\n  var horizontalDist = Math.abs(horizontalOffset);\n  var verticalDist = Math.abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfos[0].isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      snapIndex: horizontalSnapInfo.index,\n      offset: horizontalOffset,\n      dist: horizontalDist,\n      bounds: horizontalBoundInfos,\n      snap: horizontalSnapInfo\n    },\n    vertical: {\n      isBound: verticalBoundInfos[0].isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      snapIndex: verticalSnapInfo.index,\n      offset: verticalOffset,\n      dist: verticalDist,\n      bounds: verticalBoundInfos,\n      snap: verticalSnapInfo\n    }\n  };\n}\n\nfunction checkSnapBounds(guideines, bounds, posesX, posesY, snapThreshold) {\n  var _a = checkBoundPoses(bounds, posesX, posesY),\n      horizontalBoundInfos = _a.horizontal,\n      verticalBoundInfos = _a.vertical; // options.isRequest ? {\n  //     horizontal: { isSnap: false, index: -1 } as SnapInfo,\n  //     vertical: { isSnap: false, index: -1 } as SnapInfo,\n  // } :\n\n\n  var _b = checkSnapPoses(guideines, posesX, posesY, snapThreshold),\n      horizontalSnapInfo = _b.horizontal,\n      verticalSnapInfo = _b.vertical;\n\n  var horizontalOffset = getSnapBound(horizontalBoundInfos[0], horizontalSnapInfo);\n  var verticalOffset = getSnapBound(verticalBoundInfos[0], verticalSnapInfo);\n  var horizontalDist = Math.abs(horizontalOffset);\n  var verticalDist = Math.abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfos[0].isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      snapIndex: horizontalSnapInfo.index,\n      offset: horizontalOffset,\n      dist: horizontalDist,\n      bounds: horizontalBoundInfos,\n      snap: horizontalSnapInfo\n    },\n    vertical: {\n      isBound: verticalBoundInfos[0].isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      snapIndex: verticalSnapInfo.index,\n      offset: verticalOffset,\n      dist: verticalDist,\n      bounds: verticalBoundInfos,\n      snap: verticalSnapInfo\n    }\n  };\n}\n\nfunction checkSnapRightLine(startPos, endPos, snapBoundInfo, keepRatio) {\n  var rad = getRad(startPos, endPos) / Math.PI * 180;\n  var _a = snapBoundInfo.vertical,\n      isVerticalBound = _a.isBound,\n      isVerticalSnap = _a.isSnap,\n      verticalDist = _a.dist,\n      _b = snapBoundInfo.horizontal,\n      isHorizontalBound = _b.isBound,\n      isHorizontalSnap = _b.isSnap,\n      horizontalDist = _b.dist;\n  var rad180 = rad % 180;\n  var isHorizontalLine = rad180 < 3 || rad180 > 177;\n  var isVerticalLine = rad180 > 87 && rad180 < 93;\n\n  if (horizontalDist < verticalDist) {\n    if (isVerticalBound || isVerticalSnap && !isVerticalLine && (!keepRatio || !isHorizontalLine)) {\n      return \"vertical\";\n    }\n  }\n\n  if (isHorizontalBound || isHorizontalSnap && !isHorizontalLine && (!keepRatio || !isVerticalLine)) {\n    return \"horizontal\";\n  }\n\n  return \"\";\n}\n\nfunction getSnapBoundInfo(moveable, poses, directions, keepRatio, isRequest, datas) {\n  return directions.map(function (_a) {\n    var startDirection = _a[0],\n        endDirection = _a[1];\n    var otherStartPos = getPosByDirection(poses, startDirection);\n    var otherEndPos = getPosByDirection(poses, endDirection);\n    var snapBoundInfo = keepRatio ? checkSnapBoundsKeepRatio(moveable, otherStartPos, otherEndPos, isRequest) : checkMoveableSnapBounds(moveable, isRequest, {\n      vertical: [otherEndPos[0]],\n      horizontal: [otherEndPos[1]]\n    });\n    var _b = snapBoundInfo.horizontal,\n        // dist: otherHorizontalDist,\n    otherHorizontalOffset = _b.offset,\n        isOtherHorizontalBound = _b.isBound,\n        isOtherHorizontalSnap = _b.isSnap,\n        _c = snapBoundInfo.vertical,\n        // dist: otherVerticalDist,\n    otherVerticalOffset = _c.offset,\n        isOtherVerticalBound = _c.isBound,\n        isOtherVerticalSnap = _c.isSnap;\n    var multiple = minus(endDirection, startDirection);\n\n    if (!otherVerticalOffset && !otherHorizontalOffset) {\n      return {\n        isBound: isOtherVerticalBound || isOtherHorizontalBound,\n        isSnap: isOtherVerticalSnap || isOtherHorizontalSnap,\n        sign: multiple,\n        offset: [0, 0]\n      };\n    }\n\n    var snapLine = checkSnapRightLine(otherStartPos, otherEndPos, snapBoundInfo, keepRatio);\n\n    if (!snapLine) {\n      return {\n        sign: multiple,\n        isBound: false,\n        isSnap: false,\n        offset: [0, 0]\n      };\n    }\n\n    var isVertical = snapLine === \"vertical\";\n    var sizeOffset = solveNextOffset(otherStartPos, otherEndPos, -(isVertical ? otherVerticalOffset : otherHorizontalOffset), isVertical, datas).offset.map(function (size, i) {\n      return size * (multiple[i] ? 2 / multiple[i] : 0);\n    });\n    return {\n      sign: multiple,\n      isBound: isVertical ? isOtherVerticalBound : isOtherHorizontalBound,\n      isSnap: isVertical ? isOtherVerticalSnap : isOtherHorizontalSnap,\n      offset: sizeOffset\n    };\n  });\n}\n\nfunction getSnapBoundOffset(boundInfo, snapInfo) {\n  if (boundInfo.isBound) {\n    return boundInfo.offset;\n  } else if (snapInfo.isSnap) {\n    return snapInfo.offset;\n  }\n\n  return 0;\n}\n\nfunction checkSnapBoundsKeepRatio(moveable, startPos, endPos, isRequest) {\n  var _a = checkBoundKeepRatio(moveable, startPos, endPos),\n      horizontalBoundInfo = _a.horizontal,\n      verticalBoundInfo = _a.vertical;\n\n  var _b = isRequest ? {\n    horizontal: {\n      isSnap: false\n    },\n    vertical: {\n      isSnap: false\n    }\n  } : checkSnapKeepRatio(moveable, startPos, endPos),\n      horizontalSnapInfo = _b.horizontal,\n      verticalSnapInfo = _b.vertical;\n\n  var horizontalOffset = getSnapBoundOffset(horizontalBoundInfo, horizontalSnapInfo);\n  var verticalOffset = getSnapBoundOffset(verticalBoundInfo, verticalSnapInfo);\n  var horizontalDist = Math.abs(horizontalOffset);\n  var verticalDist = Math.abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfo.isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      offset: horizontalOffset,\n      dist: horizontalDist\n    },\n    vertical: {\n      isBound: verticalBoundInfo.isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      offset: verticalOffset,\n      dist: verticalDist\n    }\n  };\n}\n\nfunction checkMaxBounds(moveable, poses, direction, fixedPosition, datas) {\n  var fixedDirection = [-direction[0], -direction[1]];\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height;\n  var bounds = moveable.props.bounds;\n  var maxWidth = Infinity;\n  var maxHeight = Infinity;\n\n  if (bounds) {\n    var directions = [[direction[0], -direction[1]], [-direction[0], direction[1]]];\n    var _b = bounds.left,\n        left_1 = _b === void 0 ? -Infinity : _b,\n        _c = bounds.top,\n        top_1 = _c === void 0 ? -Infinity : _c,\n        _d = bounds.right,\n        right_1 = _d === void 0 ? Infinity : _d,\n        _e = bounds.bottom,\n        bottom_1 = _e === void 0 ? Infinity : _e;\n    directions.forEach(function (otherDirection) {\n      var isCheckVertical = otherDirection[0] !== fixedDirection[0];\n      var isCheckHorizontal = otherDirection[1] !== fixedDirection[1];\n      var otherPos = getPosByDirection(poses, otherDirection);\n      var deg = getRad(fixedPosition, otherPos) * 360 / Math.PI;\n\n      if (isCheckHorizontal) {\n        var nextOtherPos = otherPos.slice();\n\n        if (Math.abs(deg - 360) < 2 || Math.abs(deg - 180) < 2) {\n          nextOtherPos[1] = fixedPosition[1];\n        }\n\n        var _a = solveNextOffset(fixedPosition, nextOtherPos, (fixedPosition[1] < otherPos[1] ? bottom_1 : top_1) - otherPos[1], false, datas),\n            _b = _a.offset,\n            heightOffset = _b[1],\n            isHeightOutside = _a.isOutside;\n\n        if (!isNaN(heightOffset)) {\n          maxHeight = height + (isHeightOutside ? 1 : -1) * Math.abs(heightOffset);\n        }\n      }\n\n      if (isCheckVertical) {\n        var nextOtherPos = otherPos.slice();\n\n        if (Math.abs(deg - 90) < 2 || Math.abs(deg - 270) < 2) {\n          nextOtherPos[0] = fixedPosition[0];\n        }\n\n        var _c = solveNextOffset(fixedPosition, nextOtherPos, (fixedPosition[0] < otherPos[0] ? right_1 : left_1) - otherPos[0], true, datas),\n            widthOffset = _c.offset[0],\n            isWidthOutside = _c.isOutside;\n\n        if (!isNaN(widthOffset)) {\n          maxWidth = width + (isWidthOutside ? 1 : -1) * Math.abs(widthOffset);\n        }\n      }\n    });\n  }\n\n  return {\n    maxWidth: maxWidth,\n    maxHeight: maxHeight\n  };\n}\n\nfunction snapStart(moveable) {\n  var state = moveable.state;\n\n  if (state.guidelines && state.guidelines.length) {\n    return;\n  }\n\n  var container = moveable.state.container;\n  var snapContainer = moveable.props.snapContainer || container;\n  var containerClientRect = state.containerClientRect;\n  var snapOffset = {\n    left: 0,\n    top: 0,\n    bottom: 0,\n    right: 0\n  };\n\n  if (container !== snapContainer) {\n    var snapContainerTarget = getRefTarget(snapContainer, true);\n\n    if (snapContainerTarget) {\n      var snapContainerRect = getClientRect(snapContainerTarget);\n      var offset1 = getDragDistByState(state, [snapContainerRect.left - containerClientRect.left, snapContainerRect.top - containerClientRect.top]);\n      var offset2 = getDragDistByState(state, [snapContainerRect.right - containerClientRect.right, snapContainerRect.bottom - containerClientRect.bottom]);\n      snapOffset.left = throttle(offset1[0], 0.1);\n      snapOffset.top = throttle(offset1[1], 0.1);\n      snapOffset.right = throttle(offset2[0], 0.1);\n      snapOffset.bottom = throttle(offset2[1], 0.1);\n    }\n  }\n\n  state.snapOffset = snapOffset;\n  state.guidelines = getTotalGuidelines(moveable);\n  state.enableSnap = true;\n}\n\nfunction getNextFixedPoses(matrix, width, height, fixedDirection, fixedPos, is3d) {\n  var nextPoses = calculatePoses(matrix, width, height, is3d ? 4 : 3);\n  var nextFixedPos = getPosByDirection(nextPoses, fixedDirection);\n  return getAbsolutePoses(nextPoses, minus(fixedPos, nextFixedPos));\n}\n\nfunction getSizeOffsetInfo(moveable, poses, direction, keepRatio, isRequest, datas) {\n  var fixedDirection = datas.fixedDirection;\n  var directions = getCheckSnapDirections(direction, fixedDirection, keepRatio);\n  var lines = getCheckInnerBoundLines(poses, direction, keepRatio);\n\n  var offsets = __spreadArray(__spreadArray([], getSnapBoundInfo(moveable, poses, directions, keepRatio, isRequest, datas), true), getInnerBoundInfo(moveable, lines, getPosByDirection(poses, [0, 0]), datas), true);\n\n  var widthOffsetInfo = getNearOffsetInfo(offsets, 0);\n  var heightOffsetInfo = getNearOffsetInfo(offsets, 1);\n  return {\n    width: {\n      isBound: widthOffsetInfo.isBound,\n      offset: widthOffsetInfo.offset[0]\n    },\n    height: {\n      isBound: heightOffsetInfo.isBound,\n      offset: heightOffsetInfo.offset[1]\n    }\n  };\n}\n\nfunction recheckSizeByTwoDirection(moveable, poses, width, height, maxWidth, maxHeight, direction, isRequest, datas) {\n  var snapPos = getPosByDirection(poses, direction);\n\n  var _a = checkMoveableSnapBounds(moveable, isRequest, {\n    vertical: [snapPos[0]],\n    horizontal: [snapPos[1]]\n  }),\n      horizontalOffset = _a.horizontal.offset,\n      verticalOffset = _a.vertical.offset;\n\n  if (verticalOffset || horizontalOffset) {\n    var _b = getDragDist({\n      datas: datas,\n      distX: -verticalOffset,\n      distY: -horizontalOffset\n    }),\n        nextWidthOffset = _b[0],\n        nextHeightOffset = _b[1];\n\n    var nextWidth = Math.min(maxWidth || Infinity, width + direction[0] * nextWidthOffset);\n    var nextHeight = Math.min(maxHeight || Infinity, height + direction[1] * nextHeightOffset);\n    return [nextWidth - width, nextHeight - height];\n  }\n\n  return [0, 0];\n}\n\nfunction checkSizeDist(moveable, getNextPoses, width, height, direction, fixedPosition, isRequest, datas) {\n  var poses = getAbsolutePosesByState(moveable.state);\n  var keepRatio = moveable.props.keepRatio;\n  var widthOffset = 0;\n  var heightOffset = 0;\n\n  for (var i = 0; i < 2; ++i) {\n    var nextPoses = getNextPoses(widthOffset, heightOffset);\n\n    var _a = getSizeOffsetInfo(moveable, nextPoses, direction, keepRatio, isRequest, datas),\n        widthOffsetInfo = _a.width,\n        heightOffsetInfo = _a.height;\n\n    var isWidthBound = widthOffsetInfo.isBound;\n    var isHeightBound = heightOffsetInfo.isBound;\n    var nextWidthOffset = widthOffsetInfo.offset;\n    var nextHeightOffset = heightOffsetInfo.offset;\n\n    if (i === 1) {\n      if (!isWidthBound) {\n        nextWidthOffset = 0;\n      }\n\n      if (!isHeightBound) {\n        nextHeightOffset = 0;\n      }\n    }\n\n    if (i === 0 && isRequest && !isWidthBound && !isHeightBound) {\n      return [0, 0];\n    }\n\n    if (keepRatio) {\n      var widthDist = Math.abs(nextWidthOffset) * (width ? 1 / width : 1);\n      var heightDist = Math.abs(nextHeightOffset) * (height ? 1 / height : 1);\n      var isGetWidthOffset = isWidthBound && isHeightBound ? widthDist < heightDist : isHeightBound || !isWidthBound && widthDist < heightDist;\n\n      if (isGetWidthOffset) {\n        // width : height = ? : heightOffset\n        nextWidthOffset = width * nextHeightOffset / height;\n      } else {\n        // width : height = widthOffset : ?\n        nextHeightOffset = height * nextWidthOffset / width;\n      }\n    }\n\n    widthOffset += nextWidthOffset;\n    heightOffset += nextHeightOffset;\n  }\n\n  if (direction[0] && direction[1]) {\n    var _b = checkMaxBounds(moveable, poses, direction, fixedPosition, datas),\n        maxWidth = _b.maxWidth,\n        maxHeight = _b.maxHeight;\n\n    var _c = recheckSizeByTwoDirection(moveable, getNextPoses(widthOffset, heightOffset).map(function (pos) {\n      return pos.map(function (p) {\n        return throttle(p, FLOAT_POINT_NUM);\n      });\n    }), width + widthOffset, height + heightOffset, maxWidth, maxHeight, direction, isRequest, datas),\n        nextWidthOffset = _c[0],\n        nextHeightOffset = _c[1];\n\n    widthOffset += nextWidthOffset;\n    heightOffset += nextHeightOffset;\n  }\n\n  return [widthOffset, heightOffset];\n}\n\nfunction checkSnapRotate(moveable, rect, origin, rotation) {\n  if (!hasGuidelines(moveable, \"rotatable\")) {\n    return rotation;\n  }\n\n  var pos1 = rect.pos1,\n      pos2 = rect.pos2,\n      pos3 = rect.pos3,\n      pos4 = rect.pos4;\n  var rad = rotation * Math.PI / 180;\n  var prevPoses = [pos1, pos2, pos3, pos4].map(function (pos) {\n    return minus(pos, origin);\n  });\n  var nextPoses = prevPoses.map(function (pos) {\n    return rotate(pos, rad);\n  });\n\n  var result = __spreadArray(__spreadArray([], checkRotateBounds(moveable, prevPoses, nextPoses, origin, rotation), true), checkRotateInnerBounds(moveable, prevPoses, nextPoses, origin, rotation), true);\n\n  result.sort(function (a, b) {\n    return Math.abs(a - rotation) - Math.abs(b - rotation);\n  });\n\n  if (result.length) {\n    return result[0];\n  } else {\n    return rotation;\n  }\n}\n\nfunction checkSnapResize(moveable, width, height, direction, fixedPosition, isRequest, datas) {\n  if (!hasGuidelines(moveable, \"resizable\")) {\n    return [0, 0];\n  }\n\n  var fixedDirection = datas.fixedDirection;\n  var _a = moveable.state,\n      allMatrix = _a.allMatrix,\n      is3d = _a.is3d;\n  return checkSizeDist(moveable, function (widthOffset, heightOffset) {\n    return getNextFixedPoses(allMatrix, width + widthOffset, height + heightOffset, fixedDirection, fixedPosition, is3d);\n  }, width, height, direction, fixedPosition, isRequest, datas);\n}\n\nfunction checkSnapScale(moveable, scale, direction, isRequest, datas) {\n  if (!hasGuidelines(moveable, \"scalable\")) {\n    return [0, 0];\n  }\n\n  var startOffsetWidth = datas.startOffsetWidth,\n      startOffsetHeight = datas.startOffsetHeight,\n      fixedPosition = datas.fixedPosition,\n      fixedDirection = datas.fixedDirection,\n      is3d = datas.is3d;\n  var sizeDist = checkSizeDist(moveable, function (widthOffset, heightOffset) {\n    return getNextFixedPoses(scaleMatrix(datas, plus(scale, [widthOffset / startOffsetWidth, heightOffset / startOffsetHeight])), startOffsetWidth, startOffsetHeight, fixedDirection, fixedPosition, is3d);\n  }, startOffsetWidth, startOffsetHeight, direction, fixedPosition, isRequest, datas);\n  return [sizeDist[0] / startOffsetWidth, sizeDist[1] / startOffsetHeight];\n}\n\nfunction startCheckSnapDrag(moveable, datas) {\n  datas.absolutePoses = getAbsolutePosesByState(moveable.state);\n}\n\nfunction getSnapGuidelines(posInfos) {\n  var guidelines = [];\n  posInfos.forEach(function (posInfo) {\n    posInfo.guidelineInfos.forEach(function (_a) {\n      var guideline = _a.guideline;\n\n      if (guidelines.indexOf(guideline) > -1) {\n        return;\n      }\n\n      guidelines.push(guideline);\n    });\n  });\n  return guidelines;\n}\n\nfunction addBoundGuidelines(moveable, verticalPoses, horizontalPoses, verticalSnapPoses, horizontalSnapPoses, externalBounds) {\n  var _a = checkBoundPoses(getBounds(moveable, externalBounds), verticalPoses, horizontalPoses),\n      verticalBoundInfos = _a.vertical,\n      horizontalBoundInfos = _a.horizontal;\n\n  verticalBoundInfos.forEach(function (info) {\n    if (info.isBound) {\n      verticalSnapPoses.push({\n        type: \"bounds\",\n        pos: info.pos\n      });\n    }\n  });\n  horizontalBoundInfos.forEach(function (info) {\n    if (info.isBound) {\n      horizontalSnapPoses.push({\n        type: \"bounds\",\n        pos: info.pos\n      });\n    }\n  });\n\n  var _b = checkInnerBoundPoses(moveable),\n      verticalInnerBoundPoses = _b.vertical,\n      horizontalInnerBoundPoses = _b.horizontal;\n\n  verticalInnerBoundPoses.forEach(function (innerPos) {\n    if (findIndex(verticalSnapPoses, function (_a) {\n      var type = _a.type,\n          pos = _a.pos;\n      return type === \"bounds\" && pos === innerPos;\n    }) >= 0) {\n      return;\n    }\n\n    verticalSnapPoses.push({\n      type: \"bounds\",\n      pos: innerPos\n    });\n  });\n  horizontalInnerBoundPoses.forEach(function (innerPos) {\n    if (findIndex(horizontalSnapPoses, function (_a) {\n      var type = _a.type,\n          pos = _a.pos;\n      return type === \"bounds\" && pos === innerPos;\n    }) >= 0) {\n      return;\n    }\n\n    horizontalSnapPoses.push({\n      type: \"bounds\",\n      pos: innerPos\n    });\n  });\n}\n/**\n * @namespace Moveable.Snappable\n * @description Whether or not target can be snapped to the guideline. (default: false)\n * @sort 2\n */\n\n\nvar Snappable = {\n  name: \"snappable\",\n  dragRelation: \"strong\",\n  props: {\n    snappable: [Boolean, Array],\n    snapContainer: Object,\n    snapDirections: [Boolean, Object],\n    elementSnapDirections: [Boolean, Object],\n    snapGap: Boolean,\n    snapGridWidth: Number,\n    snapGridHeight: Number,\n    isDisplaySnapDigit: Boolean,\n    isDisplayInnerSnapDigit: Boolean,\n    snapDigit: Number,\n    snapThreshold: Number,\n    horizontalGuidelines: Array,\n    verticalGuidelines: Array,\n    elementGuidelines: Array,\n    bounds: Object,\n    innerBounds: Object,\n    snapDistFormat: Function\n  },\n  events: {\n    onSnap: \"snap\"\n  },\n  css: [\":host {\\n    --bounds-color: #d66;\\n}\\n.guideline {\\n    pointer-events: none;\\n    z-index: 2;\\n}\\n.guideline.bounds {\\n    background: #d66;\\n    background: var(--bounds-color);\\n}\\n.guideline-group {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n.guideline-group .size-value {\\n    position: absolute;\\n    color: #f55;\\n    font-size: 12px;\\n    font-weight: bold;\\n}\\n.guideline-group.horizontal .size-value {\\n    transform-origin: 50% 100%;\\n    transform: translateX(-50%);\\n    left: 50%;\\n    bottom: 5px;\\n}\\n.guideline-group.vertical .size-value {\\n    transform-origin: 0% 50%;\\n    top: 50%;\\n    transform: translateY(-50%);\\n    left: 5px;\\n}\\n.guideline.gap {\\n    background: #f55;\\n}\\n.size-value.gap {\\n    color: #f55;\\n}\\n\"],\n  render: function (moveable, React) {\n    var state = moveable.state;\n    var targetTop = state.top,\n        targetLeft = state.left,\n        pos1 = state.pos1,\n        pos2 = state.pos2,\n        pos3 = state.pos3,\n        pos4 = state.pos4,\n        snapRenderInfo = state.snapRenderInfo;\n\n    if (!snapRenderInfo || !hasGuidelines(moveable, \"\")) {\n      return [];\n    }\n\n    state.guidelines = getTotalGuidelines(moveable);\n    var minLeft = Math.min(pos1[0], pos2[0], pos3[0], pos4[0]);\n    var minTop = Math.min(pos1[1], pos2[1], pos3[1], pos4[1]);\n    var externalPoses = snapRenderInfo.externalPoses || [];\n    var poses = getAbsolutePosesByState(moveable.state);\n    var verticalSnapPoses = [];\n    var horizontalSnapPoses = [];\n    var verticalGuidelines = [];\n    var horizontalGuidelines = [];\n    var snapInfos = [];\n\n    var _a = getRect(poses),\n        width = _a.width,\n        height = _a.height,\n        top = _a.top,\n        left = _a.left,\n        bottom = _a.bottom,\n        right = _a.right;\n\n    var targetRect = {\n      left: left,\n      right: right,\n      top: top,\n      bottom: bottom,\n      center: (left + right) / 2,\n      middle: (top + bottom) / 2\n    };\n    var hasExternalPoses = externalPoses.length > 0;\n    var externalRect = hasExternalPoses ? getRect(externalPoses) : {};\n\n    if (!snapRenderInfo.request) {\n      if (snapRenderInfo.direction) {\n        snapInfos.push(getSnapInfosByDirection(moveable, poses, snapRenderInfo.direction));\n      }\n\n      if (snapRenderInfo.snap) {\n        var rect = getRect(poses);\n\n        if (snapRenderInfo.center) {\n          rect.middle = (rect.top + rect.bottom) / 2;\n          rect.center = (rect.left + rect.right) / 2;\n        }\n\n        snapInfos.push(checkSnaps(moveable, rect, 1));\n      }\n\n      if (hasExternalPoses) {\n        if (snapRenderInfo.center) {\n          externalRect.middle = (externalRect.top + externalRect.bottom) / 2;\n          externalRect.center = (externalRect.left + externalRect.right) / 2;\n        }\n\n        snapInfos.push(checkSnaps(moveable, externalRect, 1));\n      }\n\n      snapInfos.forEach(function (snapInfo) {\n        var verticalPosInfos = snapInfo.vertical.posInfos,\n            horizontalPosInfos = snapInfo.horizontal.posInfos;\n        verticalSnapPoses.push.apply(verticalSnapPoses, verticalPosInfos.filter(function (_a) {\n          var guidelineInfos = _a.guidelineInfos;\n          return guidelineInfos.some(function (_a) {\n            var guideline = _a.guideline;\n            return !guideline.hide;\n          });\n        }).map(function (posInfo) {\n          return {\n            type: \"snap\",\n            pos: posInfo.pos\n          };\n        }));\n        horizontalSnapPoses.push.apply(horizontalSnapPoses, horizontalPosInfos.filter(function (_a) {\n          var guidelineInfos = _a.guidelineInfos;\n          return guidelineInfos.some(function (_a) {\n            var guideline = _a.guideline;\n            return !guideline.hide;\n          });\n        }).map(function (posInfo) {\n          return {\n            type: \"snap\",\n            pos: posInfo.pos\n          };\n        }));\n        verticalGuidelines.push.apply(verticalGuidelines, getSnapGuidelines(verticalPosInfos));\n        horizontalGuidelines.push.apply(horizontalGuidelines, getSnapGuidelines(horizontalPosInfos));\n      });\n    }\n\n    addBoundGuidelines(moveable, [left, right], [top, bottom], verticalSnapPoses, horizontalSnapPoses);\n\n    if (hasExternalPoses) {\n      addBoundGuidelines(moveable, [externalRect.left, externalRect.right], [externalRect.top, externalRect.bottom], verticalSnapPoses, horizontalSnapPoses, snapRenderInfo.externalBounds);\n    }\n\n    var allGuidelines = __spreadArray(__spreadArray([], verticalGuidelines, true), horizontalGuidelines, true);\n\n    var elementGuidelines = allGuidelines.filter(function (guideline) {\n      return guideline.element && !guideline.gapRects;\n    });\n    var gapGuidelines = allGuidelines.filter(function (guideline) {\n      return guideline.gapRects;\n    });\n    triggerEvent(moveable, \"onSnap\", {\n      guidelines: allGuidelines.filter(function (_a) {\n        var element = _a.element;\n        return !element;\n      }),\n      elements: elementGuidelines,\n      gaps: gapGuidelines\n    }, true);\n    return __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], renderDashedGuidelines(moveable, elementGuidelines, [minLeft, minTop], targetRect, React), true), renderGapGuidelines(moveable, gapGuidelines, [minLeft, minTop], targetRect, React), true), renderGuidelines(moveable, \"horizontal\", horizontalGuidelines, [targetLeft, targetTop], targetRect, React), true), renderGuidelines(moveable, \"vertical\", verticalGuidelines, [targetLeft, targetTop], targetRect, React), true), renderSnapPoses(moveable, \"horizontal\", horizontalSnapPoses, minLeft, targetTop, width, 0, React), true), renderSnapPoses(moveable, \"vertical\", verticalSnapPoses, minTop, targetLeft, height, 1, React), true);\n  },\n  dragStart: function (moveable, e) {\n    moveable.state.snapRenderInfo = {\n      request: e.isRequest,\n      snap: true,\n      center: true\n    };\n    snapStart(moveable);\n  },\n  drag: function (moveable) {\n    var state = moveable.state;\n    state.guidelines = getTotalGuidelines(moveable);\n  },\n  pinchStart: function (moveable) {\n    this.unset(moveable);\n  },\n  dragEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragControlCondition: function (moveable, e) {\n    if (directionCondition(moveable, e) || dragControlCondition(moveable, e)) {\n      return true;\n    }\n\n    if (!e.isRequest && e.inputEvent) {\n      return hasClass(e.inputEvent.target, prefix(\"snap-control\"));\n    }\n  },\n  dragControlStart: function (moveable) {\n    moveable.state.snapRenderInfo = null;\n    snapStart(moveable);\n  },\n  dragControl: function (moveable) {\n    this.drag(moveable);\n  },\n  dragControlEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragGroupStart: function (moveable, e) {\n    this.dragStart(moveable, e);\n  },\n  dragGroup: function (moveable) {\n    this.drag(moveable);\n  },\n  dragGroupEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragGroupControlStart: function (moveable) {\n    moveable.state.snapRenderInfo = null;\n    snapStart(moveable);\n  },\n  dragGroupControl: function (moveable) {\n    this.drag(moveable);\n  },\n  dragGroupControlEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  unset: function (moveable) {\n    var state = moveable.state;\n    state.enableSnap = false;\n    state.guidelines = [];\n    state.snapRenderInfo = null;\n    state.elementRects = [];\n  }\n};\n/**\n * Whether or not target can be snapped to the guideline. (default: false)\n * @name Moveable.Snappable#snappable\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snappable = true;\n */\n\n/**\n *  A snap container that is the basis for snap, bounds, and innerBounds. (default: null = container)\n * @name Moveable.Snappable#snapContainer\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.querySelector(\".container\"));\n *\n * moveable.snapContainer = document.body;\n */\n\n/**\n * You can specify the directions to snap to the target. (default: { left: true, top: true, right: true, bottom: true })\n * @name Moveable.Snappable#snapDirections\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   snappable: true,\n *   snapDirections: true,\n * });\n * // snap center\n * moveable.snapDirections = { left: true, top: true, right: true, bottom: true, center: true, middle: true };\n */\n\n/**\n * You can specify the snap directions of elements. (default: { left: true, top: true, right: true, bottom: true })\n * @name Moveable.Snappable#elementSnapDirections\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   snappable: true,\n *   elementSnapDirections: true,\n * });\n * // snap center\n * moveable.elementSnapDirections = { left: true, top: true, right: true, bottom: true, center: true, middle: true };\n */\n\n/**\n * When you drag, make the gap snap in the element guidelines. (default: true)\n * @name Moveable.Snappable#snapGap\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   snappable: true,\n *   snapElement: true,\n *   snapGap: true,\n * });\n *\n * moveable.snapGap = false;\n */\n\n/**\n * Distance value that can snap to guidelines. (default: 5)\n * @name Moveable.Snappable#snapThreshold\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapThreshold = 5;\n */\n\n/**\n * Add guidelines in the horizontal direction. (default: [])\n * @name Moveable.Snappable#horizontalGuidelines\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.horizontalGuidelines = [100, 200, 500];\n */\n\n/**\n * Add guidelines in the vertical direction. (default: [])\n * @name Moveable.Snappable#verticalGuidelines\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.verticalGuidelines = [100, 200, 500];\n */\n\n/**\n * Add guidelines for the element. (default: [])\n * @name Moveable.Snappable#elementGuidelines\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.elementGuidelines = [\n *   document.querySelector(\".element\"),\n * ];\n */\n\n/**\n * You can set up boundaries.\n * @name Moveable.Snappable#bounds\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @default null\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.bounds = { left: 0, right: 1000, top: 0, bottom: 1000};\n */\n\n/**\n * You can set up inner boundaries.\n * @name Moveable.Snappable#innerBounds\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @default null\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.innerBounds = { left: 500, top: 500, width: 100, height: 100};\n */\n\n/**\n * snap distance digits (default: 0)\n * @name Moveable.Snappable#snapDigit\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapDigit = 0\n */\n\n/**\n * If width size is greater than 0, you can vertical snap to the grid. (default: 0)\n * @name Moveable.Snappable#snapGridWidth\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapGridWidth = 5;\n */\n\n/**\n * If height size is greater than 0, you can horizontal snap to the grid. (default: 0)\n * @name Moveable.Snappable#snapGridHeight\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapGridHeight = 5;\n */\n\n/**\n * Whether to show snap distance (default: true)\n * @name Moveable.Snappable#isDisplaySnapDigit\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.isDisplaySnapDigit = true;\n */\n\n/**\n * Whether to show element inner snap distance (default: false)\n * @name Moveable.Snappable#isDisplayInnerSnapDigit\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.isDisplayInnerSnapDigit = true;\n */\n\n/**\n * You can set the text format of the distance shown in the guidelines. (default: self)\n * @name Moveable.Snappable#snapDistFormat\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  snappable: true,\n *  snapDistFormat: v => v,\n * });\n * moveable.snapDistFormat = v => `${v}px`;\n */\n\n/**\n * When you drag or dragControl, the `snap` event is called.\n * @memberof Moveable.Snappable\n * @event snap\n * @param {Moveable.Snappable.OnSnap} - Parameters for the `snap` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     snappable: true\n * });\n * moveable.on(\"snap\", e => {\n *     console.log(\"onSnap\", e);\n * });\n */\n\n/**\n * @namespace Draggable\n * @memberof Moveable\n * @description Draggable refers to the ability to drag and move targets.\n */\n\nvar Draggable = {\n  name: \"draggable\",\n  props: {\n    draggable: Boolean,\n    throttleDrag: Number,\n    throttleDragRotate: Number,\n    startDragRotate: Number,\n    edgeDraggable: Boolean\n  },\n  events: {\n    onDragStart: \"dragStart\",\n    onDrag: \"drag\",\n    onDragEnd: \"dragEnd\",\n    onDragGroupStart: \"dragGroupStart\",\n    onDragGroup: \"dragGroup\",\n    onDragGroupEnd: \"dragGroupEnd\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        throttleDragRotate = _a.throttleDragRotate,\n        zoom = _a.zoom;\n    var _b = moveable.state,\n        dragInfo = _b.dragInfo,\n        beforeOrigin = _b.beforeOrigin;\n\n    if (!throttleDragRotate || !dragInfo) {\n      return [];\n    }\n\n    var dist = dragInfo.dist;\n\n    if (!dist[0] && !dist[1]) {\n      return [];\n    }\n\n    var width = getDistSize(dist);\n    var rad = getRad(dist, [0, 0]);\n    return [React.createElement(\"div\", {\n      className: prefix(\"line\", \"horizontal\", \"dragline\", \"dashed\"),\n      key: \"dragRotateGuideline\",\n      style: {\n        width: \"\".concat(width, \"px\"),\n        transform: \"translate(\".concat(beforeOrigin[0], \"px, \").concat(beforeOrigin[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\")\n      }\n    })];\n  },\n  dragStart: function (moveable, e) {\n    var datas = e.datas,\n        parentEvent = e.parentEvent,\n        parentGesto = e.parentGesto;\n    var state = moveable.state;\n    var target = state.target,\n        gesto = state.gesto;\n\n    if (gesto) {\n      return false;\n    }\n\n    state.gesto = parentGesto || moveable.targetGesto;\n    var style = getComputedStyle(target);\n    datas.datas = {};\n    datas.left = parseFloat(style.left || \"\") || 0;\n    datas.top = parseFloat(style.top || \"\") || 0;\n    datas.bottom = parseFloat(style.bottom || \"\") || 0;\n    datas.right = parseFloat(style.right || \"\") || 0;\n    datas.startValue = [0, 0];\n    setDragStart(moveable, e);\n    setDefaultTransformIndex(e, \"translate\");\n    startCheckSnapDrag(moveable, datas);\n    datas.prevDist = [0, 0];\n    datas.prevBeforeDist = [0, 0];\n    datas.isDrag = false;\n    datas.deltaOffset = [0, 0];\n    var params = fillParams(moveable, e, __assign$1({\n      set: function (translate) {\n        datas.startValue = translate;\n      }\n    }, fillTransformStartEvent(e)));\n    var result = parentEvent || triggerEvent(moveable, \"onDragStart\", params);\n\n    if (result !== false) {\n      datas.isDrag = true;\n      moveable.state.dragInfo = {\n        startRect: moveable.getRect(),\n        dist: [0, 0]\n      };\n    } else {\n      state.gesto = null;\n      datas.isPinch = false;\n    }\n\n    return datas.isDrag ? params : false;\n  },\n  drag: function (moveable, e) {\n    if (!e) {\n      return;\n    }\n\n    resolveTransformEvent(e, \"translate\");\n    var datas = e.datas,\n        parentEvent = e.parentEvent,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        isRequest = e.isRequest,\n        deltaOffset = e.deltaOffset;\n    var distX = e.distX,\n        distY = e.distY;\n    var isDrag = datas.isDrag,\n        prevDist = datas.prevDist,\n        prevBeforeDist = datas.prevBeforeDist,\n        startValue = datas.startValue;\n\n    if (!isDrag) {\n      return;\n    }\n\n    if (deltaOffset) {\n      distX += deltaOffset[0];\n      distY += deltaOffset[1];\n    }\n\n    var props = moveable.props;\n    var parentMoveable = props.parentMoveable;\n    var throttleDrag = parentEvent ? 0 : props.throttleDrag || 0;\n    var throttleDragRotate = parentEvent ? 0 : props.throttleDragRotate || 0;\n    var isSnap = false;\n    var dragRotateRad = 0;\n\n    if (!parentEvent && throttleDragRotate > 0 && (distX || distY)) {\n      var startDragRotate = props.startDragRotate || 0;\n      var deg = throttle(startDragRotate + getRad([0, 0], [distX, distY]) * 180 / Math.PI, throttleDragRotate) - startDragRotate;\n      var ry = distY * Math.abs(Math.cos((deg - 90) / 180 * Math.PI));\n      var rx = distX * Math.abs(Math.cos(deg / 180 * Math.PI));\n      var r = getDistSize([rx, ry]);\n      dragRotateRad = deg * Math.PI / 180;\n      distX = r * Math.cos(dragRotateRad);\n      distY = r * Math.sin(dragRotateRad);\n    }\n\n    if (!isPinch && !parentEvent && !parentFlag && (!throttleDragRotate || distX || distY)) {\n      var _a = checkSnapBoundsDrag(moveable, distX, distY, throttleDragRotate, isRequest || deltaOffset, datas),\n          verticalInfo = _a[0],\n          horizontalInfo = _a[1];\n\n      var isVerticalSnap = verticalInfo.isSnap,\n          isVerticalBound = verticalInfo.isBound,\n          verticalOffset = verticalInfo.offset;\n      var isHorizontalSnap = horizontalInfo.isSnap,\n          isHorizontalBound = horizontalInfo.isBound,\n          horizontalOffset = horizontalInfo.offset;\n      isSnap = isVerticalSnap || isHorizontalSnap || isVerticalBound || isHorizontalBound;\n      distX += verticalOffset;\n      distY += horizontalOffset;\n    }\n\n    var beforeTranslate = plus(getBeforeDragDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    }), startValue);\n    var translate = plus(getTransformDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    }), startValue);\n\n    if (!throttleDragRotate && !isSnap) {\n      throttleArray(translate, throttleDrag);\n      throttleArray(beforeTranslate, throttleDrag);\n    }\n\n    var beforeDist = minus(beforeTranslate, startValue);\n    var dist = minus(translate, startValue);\n    var delta = minus(dist, prevDist);\n    var beforeDelta = minus(beforeDist, prevBeforeDist);\n    datas.prevDist = dist;\n    datas.prevBeforeDist = beforeDist;\n    datas.passDelta = delta; //distX - (datas.passDistX || 0);\n    // datas.passDeltaY = distY - (datas.passDistY || 0);\n\n    datas.passDist = dist; //distX;\n    // datas.passDistY = distY;\n\n    var left = datas.left + beforeDist[0];\n    var top = datas.top + beforeDist[1];\n    var right = datas.right - beforeDist[0];\n    var bottom = datas.bottom - beforeDist[1];\n    var nextTransform = convertTransformFormat(datas, \"translate(\".concat(translate[0], \"px, \").concat(translate[1], \"px)\"), \"translate(\".concat(dist[0], \"px, \").concat(dist[1], \"px)\"));\n    fillOriginalTransform(e, nextTransform);\n    moveable.state.dragInfo.dist = parentEvent ? [0, 0] : dist;\n\n    if (!parentEvent && !parentMoveable && delta.every(function (num) {\n      return !num;\n    }) && beforeDelta.some(function (num) {\n      return !num;\n    })) {\n      return;\n    }\n\n    var _b = moveable.state,\n        width = _b.width,\n        height = _b.height;\n    var params = fillParams(moveable, e, {\n      transform: nextTransform,\n      dist: dist,\n      delta: delta,\n      translate: translate,\n      beforeDist: beforeDist,\n      beforeDelta: beforeDelta,\n      beforeTranslate: beforeTranslate,\n      left: left,\n      top: top,\n      right: right,\n      bottom: bottom,\n      width: width,\n      height: height,\n      isPinch: isPinch\n    });\n    !parentEvent && triggerEvent(moveable, \"onDrag\", params);\n    return params;\n  },\n  dragAfter: function (moveable, e) {\n    var datas = e.datas;\n    var deltaOffset = datas.deltaOffset;\n\n    if (deltaOffset[0] || deltaOffset[1]) {\n      datas.deltaOffset = [0, 0];\n      return this.drag(moveable, __assign$1(__assign$1({}, e), {\n        deltaOffset: deltaOffset\n      }));\n    }\n\n    return false;\n  },\n  dragEnd: function (moveable, e) {\n    var parentEvent = e.parentEvent,\n        datas = e.datas;\n    moveable.state.gesto = null;\n    moveable.state.dragInfo = null;\n\n    if (!datas.isDrag) {\n      return;\n    }\n\n    datas.isDrag = false;\n    var param = fillEndParams(moveable, e, {});\n    !parentEvent && triggerEvent(moveable, \"onDragEnd\", param);\n    return param;\n  },\n  dragGroupStart: function (moveable, e) {\n    var datas = e.datas,\n        clientX = e.clientX,\n        clientY = e.clientY;\n    var params = this.dragStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    var events = triggerChildGesto(moveable, this, \"dragStart\", [clientX || 0, clientY || 0], e, false);\n\n    var nextParams = __assign$1(__assign$1({}, params), {\n      targets: moveable.props.targets,\n      events: events\n    });\n\n    var result = triggerEvent(moveable, \"onDragGroupStart\", nextParams);\n    datas.isDrag = result !== false;\n    return datas.isDrag ? params : false;\n  },\n  dragGroup: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isDrag) {\n      return;\n    }\n\n    var params = this.drag(moveable, e);\n    var passDelta = e.datas.passDelta;\n    var events = triggerChildGesto(moveable, this, \"drag\", passDelta, e, false);\n\n    if (!params) {\n      return;\n    }\n\n    var nextParams = __assign$1({\n      targets: moveable.props.targets,\n      events: events\n    }, params);\n\n    triggerEvent(moveable, \"onDragGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isDrag) {\n      return;\n    }\n\n    this.dragEnd(moveable, e);\n    var events = triggerChildGesto(moveable, this, \"dragEnd\", [0, 0], e, false);\n    triggerEvent(moveable, \"onDragGroupEnd\", fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    }));\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Draggable#request\n   * @param {object} [e] - the draggable's request parameter\n   * @param {number} [e.x] - x position\n   * @param {number} [e.y] - y position\n   * @param {number} [e.deltaX] - X number to move\n   * @param {number} [e.deltaY] - Y number to move\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * // Use Relative Value\n   * moveable.request(\"draggable\", { deltaX: 10, deltaY: 10 }, true);\n   * // Use Absolute Value\n   * moveable.request(\"draggable\", { x: 200, y: 100 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"draggable\");\n   *\n   * // request\n   * // Use Relative Value\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * // Use Absolute Value\n   * moveable.request(\"draggable\", { x: 200, y: 100 });\n   * moveable.request(\"draggable\", { x: 220, y: 100 });\n   * moveable.request(\"draggable\", { x: 240, y: 100 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function (moveable) {\n    var datas = {};\n    var rect = moveable.getRect();\n    var distX = 0;\n    var distY = 0;\n    return {\n      isControl: false,\n      requestStart: function () {\n        return {\n          datas: datas\n        };\n      },\n      request: function (e) {\n        if (\"x\" in e) {\n          distX = e.x - rect.left;\n        } else if (\"deltaX\" in e) {\n          distX += e.deltaX;\n        }\n\n        if (\"y\" in e) {\n          distY = e.y - rect.top;\n        } else if (\"deltaY\" in e) {\n          distY += e.deltaY;\n        }\n\n        return {\n          datas: datas,\n          distX: distX,\n          distY: distY\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  },\n  unset: function (moveable) {\n    moveable.state.dragInfo = null;\n  }\n};\n/**\n * Whether or not target can be dragged. (default: false)\n * @name Moveable.Draggable#draggable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.draggable = true;\n */\n\n/**\n * throttle of x, y when drag.\n * @name Moveable.Draggable#throttleDrag\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleDrag = 1;\n */\n\n/**\n* throttle of angle of x, y when drag.\n* @name Moveable.Draggable#throttleDragRotate\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body);\n*\n* moveable.throttleDragRotate = 45;\n*/\n\n/**\n* start angle of throttleDragRotate of x, y when drag.\n* @name Moveable.Draggable#startDragRotate\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body);\n*\n* // 45, 135, 225, 315\n* moveable.throttleDragRotate = 90;\n* moveable.startDragRotate = 45;\n*/\n\n/**\n * When the drag starts, the dragStart event is called.\n * @memberof Moveable.Draggable\n * @event dragStart\n * @param {Moveable.Draggable.OnDragStart} - Parameters for the dragStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"dragStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When dragging, the drag event is called.\n * @memberof Moveable.Draggable\n * @event drag\n * @param {Moveable.Draggable.OnDrag} - Parameters for the drag event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"drag\", ({ target, transform }) => {\n *     target.style.transform = transform;\n * });\n */\n\n/**\n * When the drag finishes, the dragEnd event is called.\n * @memberof Moveable.Draggable\n * @event dragEnd\n * @param {Moveable.Draggable.OnDragEnd} - Parameters for the dragEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"dragEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n* When the group drag starts, the `dragGroupStart` event is called.\n* @memberof Moveable.Draggable\n* @event dragGroupStart\n* @param {Moveable.Draggable.OnDragGroupStart} - Parameters for the `dragGroupStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     draggable: true\n* });\n* moveable.on(\"dragGroupStart\", ({ targets }) => {\n*     console.log(\"onDragGroupStart\", targets);\n* });\n*/\n\n/**\n* When the group drag, the `dragGroup` event is called.\n* @memberof Moveable.Draggable\n* @event dragGroup\n* @param {Moveable.Draggable.OnDragGroup} - Parameters for the `dragGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     draggable: true\n* });\n* moveable.on(\"dragGroup\", ({ targets, events }) => {\n*     console.log(\"onDragGroup\", targets);\n*     events.forEach(ev => {\n*          // drag event\n*          console.log(\"onDrag left, top\", ev.left, ev.top);\n*          // ev.target!.style.left = `${ev.left}px`;\n*          // ev.target!.style.top = `${ev.top}px`;\n*          console.log(\"onDrag translate\", ev.dist);\n*          ev.target!.style.transform = ev.transform;)\n*     });\n* });\n*/\n\n/**\n * When the group drag finishes, the `dragGroupEnd` event is called.\n * @memberof Moveable.Draggable\n * @event dragGroupEnd\n * @param {Moveable.Draggable.OnDragGroupEnd} - Parameters for the `dragGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     draggable: true\n * });\n * moveable.on(\"dragGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onDragGroupEnd\", targets, isDrag);\n * });\n */\n\nfunction calculatePointerDist(moveable, e) {\n  var clientX = e.clientX,\n      clientY = e.clientY,\n      datas = e.datas;\n  var _a = moveable.state,\n      moveableClientRect = _a.moveableClientRect,\n      rootMatrix = _a.rootMatrix,\n      is3d = _a.is3d,\n      pos1 = _a.pos1;\n  var left = moveableClientRect.left,\n      top = moveableClientRect.top;\n  var n = is3d ? 4 : 3;\n\n  var _b = minus(calculateInversePosition(rootMatrix, [clientX - left, clientY - top], n), pos1),\n      posX = _b[0],\n      posY = _b[1];\n\n  var _c = getDragDist({\n    datas: datas,\n    distX: posX,\n    distY: posY\n  }),\n      distX = _c[0],\n      distY = _c[1];\n\n  return [distX, distY];\n}\n\nfunction setDragStart(moveable, _a) {\n  var datas = _a.datas;\n  var _b = moveable.state,\n      allMatrix = _b.allMatrix,\n      beforeMatrix = _b.beforeMatrix,\n      is3d = _b.is3d,\n      left = _b.left,\n      top = _b.top,\n      origin = _b.origin,\n      offsetMatrix = _b.offsetMatrix,\n      targetMatrix = _b.targetMatrix,\n      transformOrigin = _b.transformOrigin;\n  var n = is3d ? 4 : 3;\n  datas.is3d = is3d;\n  datas.matrix = allMatrix;\n  datas.targetMatrix = targetMatrix;\n  datas.beforeMatrix = beforeMatrix;\n  datas.offsetMatrix = offsetMatrix;\n  datas.transformOrigin = transformOrigin;\n  datas.inverseMatrix = invert(allMatrix, n);\n  datas.inverseBeforeMatrix = invert(beforeMatrix, n);\n  datas.absoluteOrigin = convertPositionMatrix(plus([left, top], origin), n);\n  datas.startDragBeforeDist = calculate(datas.inverseBeforeMatrix, datas.absoluteOrigin, n);\n  datas.startDragDist = calculate(datas.inverseMatrix, datas.absoluteOrigin, n);\n}\n\nfunction getTransformDirection(e) {\n  return calculateMoveablePosition(e.datas.beforeTransform, [50, 50], 100, 100).direction;\n}\n\nfunction resolveTransformEvent(event, functionName) {\n  var datas = event.datas,\n      originalDatas = event.originalDatas.beforeRenderable;\n  var index = datas.transformIndex;\n  var nextTransforms = originalDatas.nextTransforms;\n  var nextTransformAppendedIndexes = originalDatas.nextTransformAppendedIndexes;\n  var nextIndex = 0;\n\n  if (index === -1) {\n    nextIndex = nextTransforms.length;\n    datas.transformIndex = nextIndex;\n  } else {\n    nextIndex = index + nextTransformAppendedIndexes.filter(function (i) {\n      return i < index;\n    }).length;\n  }\n\n  var result = convertTransformInfo(nextTransforms, nextIndex);\n  var targetFunction = result.targetFunction;\n  var matFunctionName = functionName === \"rotate\" ? \"rotateZ\" : functionName;\n  datas.beforeFunctionTexts = result.beforeFunctionTexts;\n  datas.afterFunctionTexts = result.afterFunctionTexts;\n  datas.beforeTransform = result.beforeFunctionMatrix;\n  datas.beforeTransform2 = result.beforeFunctionMatrix2;\n  datas.targetTansform = result.targetFunctionMatrix;\n  datas.afterTransform = result.afterFunctionMatrix;\n  datas.afterTransform2 = result.afterFunctionMatrix2;\n  datas.targetAllTransform = result.allFunctionMatrix;\n\n  if (targetFunction.functionName === matFunctionName) {\n    datas.afterFunctionTexts.splice(0, 1);\n    datas.isAppendTransform = false;\n  } else {\n    datas.isAppendTransform = true;\n    originalDatas.nextTransformAppendedIndexes = __spreadArray(__spreadArray([], nextTransformAppendedIndexes, true), [nextIndex], false);\n  }\n}\n\nfunction convertTransformFormat(datas, value, dist) {\n  return \"\".concat(datas.beforeFunctionTexts.join(\" \"), \" \").concat(datas.isAppendTransform ? dist : value, \" \").concat(datas.afterFunctionTexts.join(\" \"));\n}\n\nfunction getTransformDist(_a) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY;\n\n  var _b = getBeforeDragDist({\n    datas: datas,\n    distX: distX,\n    distY: distY\n  }),\n      bx = _b[0],\n      by = _b[1]; // B * [tx, ty] * A = [bx, by] * targetMatrix;\n  // [tx, ty] = B-1 * [bx, by] * targetMatrix * A-1 * [0, 0];\n\n\n  var res = getTransfromMatrix(datas, fromTranslation([bx, by], 4));\n  return calculate(res, convertPositionMatrix([0, 0, 0], 4), 4);\n}\n\nfunction getTransfromMatrix(datas, targetMatrix, isAfter) {\n  var beforeTransform = datas.beforeTransform,\n      afterTransform = datas.afterTransform,\n      beforeTransform2 = datas.beforeTransform2,\n      afterTransform2 = datas.afterTransform2,\n      targetAllTransform = datas.targetAllTransform; // B * afterTargetMatrix * A = (targetMatrix * targetAllTransform)\n  // afterTargetMatrix = B-1 * targetMatrix * targetAllTransform * A-1\n  // nextTargetMatrix = (targetMatrix * targetAllTransform)\n\n  var nextTargetMatrix = isAfter ? multiply(targetAllTransform, targetMatrix, 4) : multiply(targetMatrix, targetAllTransform, 4); // res1 = B-1 * nextTargetMatrix\n\n  var res1 = multiply(invert(isAfter ? beforeTransform2 : beforeTransform, 4), nextTargetMatrix, 4); // res3 = res2 * A-1\n\n  var afterTargetMatrix = multiply(res1, invert(isAfter ? afterTransform2 : afterTransform, 4), 4);\n  return afterTargetMatrix;\n}\n\nfunction getBeforeDragDist(_a) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY; // TT = BT\n\n  var inverseBeforeMatrix = datas.inverseBeforeMatrix,\n      is3d = datas.is3d,\n      startDragBeforeDist = datas.startDragBeforeDist,\n      absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3; // ABS_ORIGIN * [distX, distY] = BM * (ORIGIN + [tx, ty])\n  // BM -1 * ABS_ORIGIN * [distX, distY] - ORIGIN = [tx, ty]\n\n  return minus(calculate(inverseBeforeMatrix, plus(absoluteOrigin, [distX, distY]), n), startDragBeforeDist);\n}\n\nfunction getDragDist(_a, isBefore) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY;\n  var inverseBeforeMatrix = datas.inverseBeforeMatrix,\n      inverseMatrix = datas.inverseMatrix,\n      is3d = datas.is3d,\n      startDragBeforeDist = datas.startDragBeforeDist,\n      startDragDist = datas.startDragDist,\n      absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3;\n  return minus(calculate(isBefore ? inverseBeforeMatrix : inverseMatrix, plus(absoluteOrigin, [distX, distY]), n), isBefore ? startDragBeforeDist : startDragDist);\n}\n\nfunction getInverseDragDist(_a, isBefore) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY;\n  var beforeMatrix = datas.beforeMatrix,\n      matrix = datas.matrix,\n      is3d = datas.is3d,\n      startDragBeforeDist = datas.startDragBeforeDist,\n      startDragDist = datas.startDragDist,\n      absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3;\n  return minus(calculate(isBefore ? beforeMatrix : matrix, plus(isBefore ? startDragBeforeDist : startDragDist, [distX, distY]), n), absoluteOrigin);\n}\n\nfunction calculateTransformOrigin(transformOrigin, width, height, prevWidth, prevHeight, prevOrigin) {\n  if (prevWidth === void 0) {\n    prevWidth = width;\n  }\n\n  if (prevHeight === void 0) {\n    prevHeight = height;\n  }\n\n  if (prevOrigin === void 0) {\n    prevOrigin = [0, 0];\n  }\n\n  if (!transformOrigin) {\n    return prevOrigin;\n  }\n\n  return transformOrigin.map(function (pos, i) {\n    var _a = splitUnit(pos),\n        value = _a.value,\n        unit = _a.unit;\n\n    var prevSize = i ? prevHeight : prevWidth;\n    var size = i ? height : width;\n\n    if (pos === \"%\" || isNaN(value)) {\n      // no value but %\n      var measureRatio = prevSize ? prevOrigin[i] / prevSize : 0;\n      return size * measureRatio;\n    } else if (unit !== \"%\") {\n      return value;\n    }\n\n    return size * value / 100;\n  });\n}\n\nfunction getPosIndexesByDirection(direction) {\n  var indexes = [];\n\n  if (direction[1] >= 0) {\n    if (direction[0] >= 0) {\n      indexes.push(3);\n    }\n\n    if (direction[0] <= 0) {\n      indexes.push(2);\n    }\n  }\n\n  if (direction[1] <= 0) {\n    if (direction[0] >= 0) {\n      indexes.push(1);\n    }\n\n    if (direction[0] <= 0) {\n      indexes.push(0);\n    }\n  }\n\n  return indexes;\n}\n\nfunction getPosesByDirection(poses, direction) {\n  /*\n  [-1, -1](pos1)       [0, -1](pos1,pos2)       [1, -1](pos2)\n  [-1, 0](pos1, pos3)                           [1, 0](pos2, pos4)\n  [-1, 1](pos3)        [0, 1](pos3, pos4)       [1, 1](pos4)\n  */\n  return getPosIndexesByDirection(direction).map(function (index) {\n    return poses[index];\n  });\n}\n\nfunction getPosByDirection(poses, direction) {\n  /*\n  [-1, -1](pos1)       [0, -1](pos1,pos2)       [1, -1](pos2)\n  [-1, 0](pos1, pos3)                           [1, 0](pos2, pos4)\n  [-1, 1](pos3)        [0, 1](pos3, pos4)       [1, 1](pos4)\n  */\n  var nextPoses = getPosesByDirection(poses, direction);\n  return [average(nextPoses.map(function (pos) {\n    return pos[0];\n  })), average(nextPoses.map(function (pos) {\n    return pos[1];\n  }))];\n}\n\nfunction getDist(startPos, matrix, width, height, n, fixedDirection) {\n  var poses = calculatePoses(matrix, width, height, n);\n  var fixedPos = getPosByDirection(poses, fixedDirection);\n  var distX = startPos[0] - fixedPos[0];\n  var distY = startPos[1] - fixedPos[1];\n  return [distX, distY];\n}\n\nfunction getNextMatrix(offsetMatrix, targetMatrix, origin, n) {\n  return multiply(offsetMatrix, getAbsoluteMatrix(targetMatrix, n, origin), n);\n}\n\nfunction getNextTransformMatrix(state, datas, transform) {\n  var transformOrigin = state.transformOrigin,\n      offsetMatrix = state.offsetMatrix,\n      is3d = state.is3d;\n  var beforeTransform = datas.beforeTransform,\n      afterTransform = datas.afterTransform;\n  var n = is3d ? 4 : 3;\n  var targetTransform = parseMat([transform]);\n  return getNextMatrix(offsetMatrix, convertDimension(multiply(multiply(beforeTransform, targetTransform, 4), afterTransform, 4), 4, n), transformOrigin, n);\n}\n\nfunction scaleMatrix(state, scale) {\n  var transformOrigin = state.transformOrigin,\n      offsetMatrix = state.offsetMatrix,\n      is3d = state.is3d,\n      targetMatrix = state.targetMatrix;\n  var n = is3d ? 4 : 3;\n  return getNextMatrix(offsetMatrix, multiply(targetMatrix, createScaleMatrix(scale, n), n), transformOrigin, n);\n}\n\nfunction fillTransformStartEvent(e) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  return {\n    setTransform: function (transform, index) {\n      if (index === void 0) {\n        index = -1;\n      }\n\n      originalDatas.startTransforms = isArray(transform) ? transform : splitSpace(transform);\n      setTransformIndex(e, index);\n    },\n    setTransformIndex: function (index) {\n      setTransformIndex(e, index);\n    }\n  };\n}\n\nfunction setDefaultTransformIndex(e, property) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  var startTransforms = originalDatas.startTransforms;\n  setTransformIndex(e, findIndex(startTransforms, function (func) {\n    return func.indexOf(\"\".concat(property, \"(\")) === 0;\n  }));\n}\n\nfunction setTransformIndex(e, index) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  var datas = e.datas;\n  datas.transformIndex = index;\n\n  if (index === -1) {\n    return;\n  }\n\n  var transform = originalDatas.startTransforms[index];\n\n  if (!transform) {\n    return;\n  }\n\n  var info = parse([transform]);\n  datas.startValue = info[0].functionValue;\n}\n\nfunction fillOriginalTransform(e, transform) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  originalDatas.nextTransforms = splitSpace(transform);\n}\n\nfunction getNextTransformText(e) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  return originalDatas.nextTransforms.join(\" \");\n}\n\nfunction fillTransformEvent(moveable, nextTransform, delta, isPinch, e) {\n  fillOriginalTransform(e, nextTransform);\n  return {\n    transform: nextTransform,\n    drag: Draggable.drag(moveable, setCustomDrag(e, moveable.state, delta, isPinch, false))\n  };\n}\n\nfunction getTranslateDist(moveable, transform, fixedDirection, fixedPosition, datas) {\n  var state = moveable.state;\n  var left = state.left,\n      top = state.top;\n  var groupable = moveable.props.groupable;\n  var nextMatrix = getNextTransformMatrix(moveable.state, datas, transform);\n  var groupLeft = groupable ? left : 0;\n  var groupTop = groupable ? top : 0;\n  var nextFixedPosition = getDirectionOffset(moveable, fixedDirection, nextMatrix);\n  var dist = minus(fixedPosition, nextFixedPosition);\n  return minus(dist, [groupLeft, groupTop]);\n}\n\nfunction getScaleDist(moveable, scaleDist, fixedDirection, fixedPosition, datas) {\n  var dist = getTranslateDist(moveable, \"scale(\".concat(scaleDist.join(\", \"), \")\"), fixedDirection, fixedPosition, datas);\n  return dist;\n}\n\nfunction getOriginDirection(moveable) {\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height,\n      transformOrigin = _a.transformOrigin;\n  return [-1 + transformOrigin[0] / (width / 2), -1 + transformOrigin[1] / (height / 2)];\n}\n\nfunction getDirectionOffset(moveable, direction, nextMatrix) {\n  if (nextMatrix === void 0) {\n    nextMatrix = moveable.state.allMatrix;\n  }\n\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height,\n      is3d = _a.is3d;\n  var n = is3d ? 4 : 3;\n  var nextFixedOffset = [width / 2 * (1 + direction[0]), height / 2 * (1 + direction[1])];\n  return calculatePosition(nextMatrix, nextFixedOffset, n);\n}\n\nfunction getRotateDist(moveable, rotateDist, fixedPosition, datas) {\n  var fixedDirection = getOriginDirection(moveable);\n  return getTranslateDist(moveable, \"rotate(\".concat(rotateDist, \"deg)\"), fixedDirection, fixedPosition, datas);\n}\n\nfunction getResizeDist(moveable, width, height, fixedDirection, fixedPosition, transformOrigin) {\n  var groupable = moveable.props.groupable;\n  var _a = moveable.state,\n      prevOrigin = _a.transformOrigin,\n      targetMatrix = _a.targetMatrix,\n      offsetMatrix = _a.offsetMatrix,\n      is3d = _a.is3d,\n      prevWidth = _a.width,\n      prevHeight = _a.height,\n      left = _a.left,\n      top = _a.top;\n  var n = is3d ? 4 : 3;\n  var nextOrigin = calculateTransformOrigin(transformOrigin, width, height, prevWidth, prevHeight, prevOrigin);\n  var groupLeft = groupable ? left : 0;\n  var groupTop = groupable ? top : 0;\n  var nextMatrix = getNextMatrix(offsetMatrix, targetMatrix, nextOrigin, n);\n  var dist = getDist(fixedPosition, nextMatrix, width, height, n, fixedDirection);\n  return minus(dist, [groupLeft, groupTop]);\n}\n\nfunction getAbsolutePosition(moveable, direction) {\n  return getPosByDirection(getAbsolutePosesByState(moveable.state), direction);\n}\n\nfunction multiply2(pos1, pos2) {\n  return [pos1[0] * pos2[0], pos1[1] * pos2[1]];\n}\n\nfunction prefix() {\n  var classNames = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    classNames[_i] = arguments[_i];\n  }\n\n  return prefixNames.apply(void 0, __spreadArray([PREFIX], classNames, false));\n}\n\nfunction getTransformMatrix(transform) {\n  if (!transform || transform === \"none\") {\n    return [1, 0, 0, 1, 0, 0];\n  }\n\n  if (isObject(transform)) {\n    return transform;\n  }\n\n  return parseMat(transform);\n}\n\nfunction getAbsoluteMatrix(matrix, n, origin) {\n  return multiplies(n, createOriginMatrix(origin, n), matrix, createOriginMatrix(origin.map(function (a) {\n    return -a;\n  }), n));\n}\n\nfunction measureSVGSize(el, unit, isHorizontal) {\n  if (unit === \"%\") {\n    var viewBox = getSVGViewBox(el.ownerSVGElement);\n    return viewBox[isHorizontal ? \"width\" : \"height\"] / 100;\n  }\n\n  return 1;\n}\n\nfunction getBeforeTransformOrigin(el) {\n  var relativeOrigin = getTransformOrigin(getComputedStyle(el, \":before\"));\n  return relativeOrigin.map(function (o, i) {\n    var _a = splitUnit(o),\n        value = _a.value,\n        unit = _a.unit;\n\n    return value * measureSVGSize(el, unit, i === 0);\n  });\n}\n\nfunction getTransformOrigin(style) {\n  var transformOrigin = style.transformOrigin;\n  return transformOrigin ? transformOrigin.split(\" \") : [\"0\", \"0\"];\n}\n\nfunction getElementTransform(target, computedStyle) {\n  if (computedStyle === void 0) {\n    computedStyle = getComputedStyle(target);\n  }\n\n  var computedTransform = computedStyle.transform;\n\n  if (computedTransform && computedTransform !== \"none\") {\n    return computedStyle.transform;\n  }\n\n  if (\"transform\" in target) {\n    var list = target.transform;\n    var baseVal = list.baseVal;\n\n    if (!baseVal) {\n      return \"\";\n    }\n\n    var length = baseVal.length;\n\n    if (!length) {\n      return \"\";\n    }\n\n    var matrixs = [];\n\n    var _loop_1 = function (i) {\n      var matrix = baseVal[0].matrix;\n      matrixs.push(\"matrix(\".concat([\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"].map(function (chr) {\n        return matrix[chr];\n      }).join(\", \"), \")\"));\n    };\n\n    for (var i = 0; i < length; ++i) {\n      _loop_1(i);\n    }\n\n    return matrixs.join(\" \");\n  }\n\n  return \"\";\n}\n\nfunction getOffsetInfo(el, lastParent, isParent) {\n  var body = document.body;\n  var target = !el || isParent ? el : el.parentElement;\n  var isEnd = el === lastParent || target === lastParent;\n  var position = \"relative\";\n\n  while (target && target !== body) {\n    if (lastParent === target) {\n      isEnd = true;\n    }\n\n    var style = getComputedStyle(target);\n    var tagName = target.tagName.toLowerCase();\n    var transform = getElementTransform(target, style);\n    position = style.position;\n\n    if (tagName === \"svg\" || position !== \"static\" || transform && transform !== \"none\") {\n      break;\n    }\n\n    target = target.parentElement;\n    position = \"relative\";\n  }\n\n  return {\n    isStatic: position === \"static\",\n    isEnd: isEnd || !target || target === body,\n    offsetParent: target || body\n  };\n}\n\nfunction getOffsetPosInfo(el, style) {\n  var _a;\n\n  var tagName = el.tagName.toLowerCase();\n  var offsetLeft = el.offsetLeft;\n  var offsetTop = el.offsetTop; // svg\n\n  var isSVG = isUndefined(offsetLeft);\n  var hasOffset = !isSVG;\n  var origin;\n  var targetOrigin; // inner svg element\n\n  if (!hasOffset && tagName !== \"svg\") {\n    origin = IS_WEBKIT605 ? getBeforeTransformOrigin(el) : getTransformOrigin(style).map(function (pos) {\n      return parseFloat(pos);\n    });\n    targetOrigin = origin.slice();\n    hasOffset = true;\n    _a = getSVGGraphicsOffset(el, origin), offsetLeft = _a[0], offsetTop = _a[1], origin[0] = _a[2], origin[1] = _a[3];\n  } else {\n    origin = getTransformOrigin(style).map(function (pos) {\n      return parseFloat(pos);\n    });\n    targetOrigin = origin.slice();\n  }\n\n  return {\n    tagName: tagName,\n    isSVG: isSVG,\n    hasOffset: hasOffset,\n    offset: [offsetLeft || 0, offsetTop || 0],\n    origin: origin,\n    targetOrigin: targetOrigin\n  };\n}\n\nfunction getBodyOffset(el, isSVG, style) {\n  if (style === void 0) {\n    style = getComputedStyle(el);\n  }\n\n  var bodyStyle = getComputedStyle(document.body);\n  var bodyPosition = bodyStyle.position;\n\n  if (!isSVG && (!bodyPosition || bodyPosition === \"static\")) {\n    return [0, 0];\n  }\n\n  var marginLeft = parseInt(bodyStyle.marginLeft, 10);\n  var marginTop = parseInt(bodyStyle.marginTop, 10);\n\n  if (style.position === \"absolute\") {\n    if (style.top !== \"auto\" || style.bottom !== \"auto\") {\n      marginTop = 0;\n    }\n\n    if (style.left !== \"auto\" || style.right !== \"auto\") {\n      marginLeft = 0;\n    }\n  }\n\n  return [marginLeft, marginTop];\n}\n\nfunction convert3DMatrixes(matrixes) {\n  matrixes.forEach(function (info) {\n    var matrix = info.matrix;\n\n    if (matrix) {\n      info.matrix = convertDimension(matrix, 3, 4);\n    }\n  });\n}\n\nfunction getBodyScrollPos() {\n  return [document.documentElement.scrollLeft || document.body.scrollLeft, document.documentElement.scrollTop || document.body.scrollTop];\n}\n\nfunction getPositionFixedInfo(el) {\n  var fixedContainer = el.parentElement;\n  var hasTransform = false;\n\n  while (fixedContainer) {\n    var transform = getComputedStyle(fixedContainer).transform;\n\n    if (transform && transform !== \"none\") {\n      hasTransform = true;\n      break;\n    }\n\n    if (fixedContainer === document.body) {\n      break;\n    }\n\n    fixedContainer = fixedContainer.parentElement;\n  }\n\n  return {\n    fixedContainer: fixedContainer || document.body,\n    hasTransform: hasTransform\n  };\n}\n\nfunction getMatrixStackInfo(target, container, checkContainer) {\n  var el = target;\n  var matrixes = [];\n  var requestEnd = !checkContainer && target === container || target === document.body;\n  var isEnd = requestEnd;\n  var is3d = false;\n  var n = 3;\n  var transformOrigin;\n  var targetTransformOrigin;\n  var targetMatrix;\n  var hasFixed = false;\n  var offsetContainer = getOffsetInfo(container, container, true).offsetParent;\n\n  while (el && !isEnd) {\n    isEnd = requestEnd;\n    var style = getComputedStyle(el);\n    var position = style.position;\n    var transform = getElementTransform(el, style);\n    var matrix = convertCSStoMatrix(getTransformMatrix(transform));\n    var isFixed = position === \"fixed\";\n    var fixedInfo = {\n      hasTransform: false,\n      fixedContainer: null\n    };\n\n    if (isFixed) {\n      hasFixed = true;\n      fixedInfo = getPositionFixedInfo(el);\n      offsetContainer = fixedInfo.fixedContainer;\n    } // convert 3 to 4\n\n\n    var length = matrix.length;\n\n    if (!is3d && length === 16) {\n      is3d = true;\n      n = 4;\n      convert3DMatrixes(matrixes);\n\n      if (targetMatrix) {\n        targetMatrix = convertDimension(targetMatrix, 3, 4);\n      }\n    }\n\n    if (is3d && length === 9) {\n      matrix = convertDimension(matrix, 3, 4);\n    }\n\n    var _a = getOffsetPosInfo(el, style),\n        tagName = _a.tagName,\n        hasOffset = _a.hasOffset,\n        isSVG = _a.isSVG,\n        origin = _a.origin,\n        targetOrigin = _a.targetOrigin,\n        offsetPos = _a.offset;\n\n    var offsetLeft = offsetPos[0],\n        offsetTop = offsetPos[1];\n\n    if (tagName === \"svg\" && targetMatrix) {\n      // scale matrix for svg's SVGElements.\n      matrixes.push({\n        type: \"target\",\n        target: el,\n        matrix: getSVGMatrix(el, n)\n      });\n      matrixes.push({\n        type: \"offset\",\n        target: el,\n        matrix: createIdentityMatrix(n)\n      });\n    } else if (tagName === \"g\" && target !== el) {\n      offsetLeft = 0;\n      offsetTop = 0;\n    }\n\n    var offsetParent = void 0;\n    var isOffsetEnd = false;\n    var isStatic = false;\n\n    if (isFixed) {\n      offsetParent = fixedInfo.fixedContainer;\n      isOffsetEnd = true;\n    } else {\n      var offsetInfo = getOffsetInfo(el, container);\n      offsetParent = offsetInfo.offsetParent;\n      isOffsetEnd = offsetInfo.isEnd;\n      isStatic = offsetInfo.isStatic;\n    }\n\n    if (IS_WEBKIT && hasOffset && !isSVG && isStatic && (position === \"relative\" || position === \"static\")) {\n      offsetLeft -= offsetParent.offsetLeft;\n      offsetTop -= offsetParent.offsetTop;\n      requestEnd = requestEnd || isOffsetEnd;\n    }\n\n    var parentClientLeft = 0;\n    var parentClientTop = 0;\n    var fixedClientLeft = 0;\n    var fixedClientTop = 0;\n\n    if (isFixed) {\n      if (hasOffset && fixedInfo.hasTransform) {\n        // border\n        fixedClientLeft = offsetParent.clientLeft;\n        fixedClientTop = offsetParent.clientTop;\n      }\n    } else {\n      if (hasOffset && offsetContainer !== offsetParent) {\n        // border\n        parentClientLeft = offsetParent.clientLeft;\n        parentClientTop = offsetParent.clientTop;\n      }\n\n      if (hasOffset && offsetParent === document.body) {\n        var margin = getBodyOffset(el, false, style);\n        offsetLeft += margin[0];\n        offsetTop += margin[1];\n      }\n    }\n\n    matrixes.push({\n      type: \"target\",\n      target: el,\n      matrix: getAbsoluteMatrix(matrix, n, origin)\n    });\n\n    if (hasOffset) {\n      matrixes.push({\n        type: \"offset\",\n        target: el,\n        matrix: createOriginMatrix([offsetLeft - el.scrollLeft + parentClientLeft - fixedClientLeft, offsetTop - el.scrollTop + parentClientTop - fixedClientTop], n)\n      });\n    } else {\n      // svg\n      matrixes.push({\n        type: \"offset\",\n        target: el,\n        origin: origin\n      });\n    }\n\n    if (!targetMatrix) {\n      targetMatrix = matrix;\n    }\n\n    if (!transformOrigin) {\n      transformOrigin = origin;\n    }\n\n    if (!targetTransformOrigin) {\n      targetTransformOrigin = targetOrigin;\n    }\n\n    if (isEnd || isFixed) {\n      break;\n    } else {\n      el = offsetParent;\n      requestEnd = isOffsetEnd;\n    }\n\n    if (!checkContainer || el === document.body) {\n      isEnd = requestEnd;\n    }\n  }\n\n  if (!targetMatrix) {\n    targetMatrix = createIdentityMatrix(n);\n  }\n\n  if (!transformOrigin) {\n    transformOrigin = [0, 0];\n  }\n\n  if (!targetTransformOrigin) {\n    targetTransformOrigin = [0, 0];\n  }\n\n  return {\n    offsetContainer: offsetContainer,\n    matrixes: matrixes,\n    targetMatrix: targetMatrix,\n    transformOrigin: transformOrigin,\n    targetOrigin: targetTransformOrigin,\n    is3d: is3d,\n    hasFixed: hasFixed\n  };\n}\n\nfunction calculateElementInfo(target, container, rootContainer, isAbsolute3d) {\n  if (rootContainer === void 0) {\n    rootContainer = container;\n  }\n\n  var width = 0;\n  var height = 0;\n  var rotation = 0;\n  var allResult = {};\n\n  if (target) {\n    var _a = getSize(target),\n        offsetWidth = _a.offsetWidth,\n        offsetHeight = _a.offsetHeight;\n\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n\n  if (target) {\n    var result = calculateMatrixStack(target, container, rootContainer, isAbsolute3d);\n    var position = calculateMoveablePosition(result.allMatrix, result.transformOrigin, width, height);\n    allResult = __assign$1(__assign$1({}, result), position);\n    var rotationPosition = calculateMoveablePosition(result.allMatrix, [50, 50], 100, 100);\n    rotation = getRotationRad([rotationPosition.pos1, rotationPosition.pos2], rotationPosition.direction);\n  }\n\n  var n = isAbsolute3d ? 4 : 3;\n  return __assign$1({\n    width: width,\n    height: height,\n    rotation: rotation,\n    rootMatrix: createIdentityMatrix(n),\n    beforeMatrix: createIdentityMatrix(n),\n    offsetMatrix: createIdentityMatrix(n),\n    allMatrix: createIdentityMatrix(n),\n    targetMatrix: createIdentityMatrix(n),\n    targetTransform: \"\",\n    transformOrigin: [0, 0],\n    targetOrigin: [0, 0],\n    is3d: !!isAbsolute3d,\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    origin: [0, 0],\n    pos1: [0, 0],\n    pos2: [0, 0],\n    pos3: [0, 0],\n    pos4: [0, 0],\n    direction: 1,\n    hasFixed: false\n  }, allResult);\n}\n\nfunction getElementInfo(target, container, rootContainer) {\n  if (rootContainer === void 0) {\n    rootContainer = container;\n  }\n\n  return calculateElementInfo(target, container, rootContainer, true);\n}\n\nfunction calculateMatrixStack(target, container, rootContainer, isAbsolute3d) {\n  var _a;\n\n  if (rootContainer === void 0) {\n    rootContainer = container;\n  }\n\n  var _b = getMatrixStackInfo(target, container),\n      matrixes = _b.matrixes,\n      is3d = _b.is3d,\n      prevTargetMatrix = _b.targetMatrix,\n      transformOrigin = _b.transformOrigin,\n      targetOrigin = _b.targetOrigin,\n      offsetContainer = _b.offsetContainer,\n      hasFixed = _b.hasFixed; // prevMatrix\n\n\n  var _c = getMatrixStackInfo(offsetContainer, rootContainer, true),\n      rootMatrixes = _c.matrixes,\n      isRoot3d = _c.is3d; // prevRootMatrix\n  // if (rootContainer === document.body) {\n  //     console.log(offsetContainer, rootContainer, rootMatrixes);\n  // }\n\n\n  var isNext3d = isAbsolute3d || isRoot3d || is3d;\n  var n = isNext3d ? 4 : 3;\n  var isSVGGraphicElement = target.tagName.toLowerCase() !== \"svg\" && \"ownerSVGElement\" in target;\n  var targetMatrix = prevTargetMatrix; // let allMatrix = prevMatrix ? convertDimension(prevMatrix, prevN!, n) : createIdentityMatrix(n);\n  // let rootMatrix = prevRootMatrix ? convertDimension(prevRootMatrix, prevN!, n) : createIdentityMatrix(n);\n  // let beforeMatrix = prevMatrix ? convertDimension(prevMatrix, prevN!, n) : createIdentityMatrix(n);\n\n  var allMatrix = createIdentityMatrix(n);\n  var rootMatrix = createIdentityMatrix(n);\n  var beforeMatrix = createIdentityMatrix(n);\n  var offsetMatrix = createIdentityMatrix(n);\n  var length = matrixes.length;\n  rootMatrixes.reverse();\n  matrixes.reverse();\n\n  if (!is3d && isNext3d) {\n    targetMatrix = convertDimension(targetMatrix, 3, 4);\n    convert3DMatrixes(matrixes);\n  }\n\n  if (!isRoot3d && isNext3d) {\n    convert3DMatrixes(rootMatrixes);\n  } // rootMatrix = (...) -> container -> offset -> absolute -> offset -> absolute(targetMatrix)\n  // rootMatrixBeforeOffset = lastOffsetMatrix -> (...) -> container\n  // beforeMatrix = (... -> container -> offset -> absolute) -> offset -> absolute(targetMatrix)\n  // offsetMatrix = (... -> container -> offset -> absolute -> offset) -> absolute(targetMatrix)\n\n\n  rootMatrixes.forEach(function (info) {\n    rootMatrix = multiply(rootMatrix, info.matrix, n);\n  });\n  var originalRootContainer = rootContainer || document.body;\n  var endContainer = ((_a = rootMatrixes[0]) === null || _a === void 0 ? void 0 : _a.target) || getOffsetInfo(originalRootContainer, originalRootContainer, true).offsetParent;\n  var rootMatrixBeforeOffset = rootMatrixes.slice(1).reduce(function (matrix, info) {\n    return multiply(matrix, info.matrix, n);\n  }, createIdentityMatrix(n));\n  matrixes.forEach(function (info, i) {\n    if (length - 2 === i) {\n      // length - 3\n      beforeMatrix = allMatrix.slice();\n    }\n\n    if (length - 1 === i) {\n      // length - 2\n      offsetMatrix = allMatrix.slice();\n    } // calculate for SVGElement\n\n\n    if (!info.matrix) {\n      var nextInfo = matrixes[i + 1];\n      var offset = getSVGOffset(info, nextInfo, endContainer, n, multiply(rootMatrixBeforeOffset, allMatrix, n));\n      info.matrix = createOriginMatrix(offset, n);\n    }\n\n    allMatrix = multiply(allMatrix, info.matrix, n);\n  });\n  var isMatrix3d = !isSVGGraphicElement && is3d;\n\n  if (!targetMatrix) {\n    targetMatrix = createIdentityMatrix(isMatrix3d ? 4 : 3);\n  }\n\n  var targetTransform = makeMatrixCSS(isSVGGraphicElement && targetMatrix.length === 16 ? convertDimension(targetMatrix, 4, 3) : targetMatrix, isMatrix3d);\n  rootMatrix = ignoreDimension(rootMatrix, n, n);\n  return {\n    hasFixed: hasFixed,\n    rootMatrix: rootMatrix,\n    beforeMatrix: beforeMatrix,\n    offsetMatrix: offsetMatrix,\n    allMatrix: allMatrix,\n    targetMatrix: targetMatrix,\n    targetTransform: targetTransform,\n    transformOrigin: transformOrigin,\n    targetOrigin: targetOrigin,\n    is3d: isNext3d\n  };\n}\n\nfunction makeMatrixCSS(matrix, is3d) {\n  if (is3d === void 0) {\n    is3d = matrix.length > 9;\n  }\n\n  return \"\".concat(is3d ? \"matrix3d\" : \"matrix\", \"(\").concat(convertMatrixtoCSS(matrix, !is3d).join(\",\"), \")\");\n}\n\nfunction getSVGViewBox(el) {\n  var clientWidth = el.clientWidth;\n  var clientHeight = el.clientHeight;\n\n  if (!el) {\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n      clientWidth: clientWidth,\n      clientHeight: clientHeight\n    };\n  }\n\n  var viewBox = el.viewBox;\n  var baseVal = viewBox && viewBox.baseVal || {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n  return {\n    x: baseVal.x,\n    y: baseVal.y,\n    width: baseVal.width || clientWidth,\n    height: baseVal.height || clientHeight,\n    clientWidth: clientWidth,\n    clientHeight: clientHeight\n  };\n}\n\nfunction getSVGMatrix(el, n) {\n  var _a = getSVGViewBox(el),\n      viewBoxWidth = _a.width,\n      viewBoxHeight = _a.height,\n      clientWidth = _a.clientWidth,\n      clientHeight = _a.clientHeight;\n\n  var scaleX = clientWidth / viewBoxWidth;\n  var scaleY = clientHeight / viewBoxHeight;\n  var preserveAspectRatio = el.preserveAspectRatio.baseVal; // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/preserveAspectRatio\n\n  var align = preserveAspectRatio.align; // 1 : meet 2: slice\n\n  var meetOrSlice = preserveAspectRatio.meetOrSlice;\n  var svgOrigin = [0, 0];\n  var scale = [scaleX, scaleY];\n  var translate = [0, 0];\n\n  if (align !== 1) {\n    var xAlign = (align - 2) % 3;\n    var yAlign = Math.floor((align - 2) / 3);\n    svgOrigin[0] = viewBoxWidth * xAlign / 2;\n    svgOrigin[1] = viewBoxHeight * yAlign / 2;\n    var scaleDimension = meetOrSlice === 2 ? Math.max(scaleY, scaleX) : Math.min(scaleX, scaleY);\n    scale[0] = scaleDimension;\n    scale[1] = scaleDimension;\n    translate[0] = (clientWidth - viewBoxWidth) / 2 * xAlign;\n    translate[1] = (clientHeight - viewBoxHeight) / 2 * yAlign;\n  }\n\n  var scaleMatrix = createScaleMatrix(scale, n);\n  scaleMatrix[n * (n - 1)] = translate[0], scaleMatrix[n * (n - 1) + 1] = translate[1];\n  return getAbsoluteMatrix(scaleMatrix, n, svgOrigin);\n}\n\nfunction getSVGGraphicsOffset(el, origin) {\n  if (!el.getBBox || el.tagName.toLowerCase() === \"g\") {\n    return [0, 0, 0, 0];\n  }\n\n  var bbox = el.getBBox();\n  var viewBox = getSVGViewBox(el.ownerSVGElement);\n  var left = bbox.x - viewBox.x;\n  var top = bbox.y - viewBox.y;\n  return [left, top, origin[0] - left, origin[1] - top];\n}\n\nfunction calculatePosition(matrix, pos, n) {\n  return calculate(matrix, convertPositionMatrix(pos, n), n);\n}\n\nfunction calculatePoses(matrix, width, height, n) {\n  return [[0, 0], [width, 0], [0, height], [width, height]].map(function (pos) {\n    return calculatePosition(matrix, pos, n);\n  });\n}\n\nfunction getRect(poses) {\n  var posesX = poses.map(function (pos) {\n    return pos[0];\n  });\n  var posesY = poses.map(function (pos) {\n    return pos[1];\n  });\n  var left = Math.min.apply(Math, posesX);\n  var top = Math.min.apply(Math, posesY);\n  var right = Math.max.apply(Math, posesX);\n  var bottom = Math.max.apply(Math, posesY);\n  var rectWidth = right - left;\n  var rectHeight = bottom - top;\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom,\n    width: rectWidth,\n    height: rectHeight\n  };\n}\n\nfunction calculateRect(matrix, width, height, n) {\n  var poses = calculatePoses(matrix, width, height, n);\n  return getRect(poses);\n}\n\nfunction getSVGOffset(offsetInfo, targetInfo, container, n, beforeMatrix) {\n  var _a;\n\n  var target = offsetInfo.target;\n  var origin = offsetInfo.origin;\n  var targetMatrix = targetInfo.matrix;\n\n  var _b = getSize(target),\n      width = _b.offsetWidth,\n      height = _b.offsetHeight;\n\n  var containerClientRect = container.getBoundingClientRect();\n  var margin = [0, 0];\n\n  if (container === document.body) {\n    margin = getBodyOffset(target, true);\n  }\n\n  var rect = target.getBoundingClientRect();\n  var rectLeft = rect.left - containerClientRect.left + container.scrollLeft - (container.clientLeft || 0) + margin[0];\n  var rectTop = rect.top - containerClientRect.top + container.scrollTop - (container.clientTop || 0) + margin[1];\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n  var mat = multiplies(n, beforeMatrix, targetMatrix);\n\n  var _c = calculateRect(mat, width, height, n),\n      prevLeft = _c.left,\n      prevTop = _c.top,\n      prevWidth = _c.width,\n      prevHeight = _c.height;\n\n  var posOrigin = calculatePosition(mat, origin, n);\n  var prevOrigin = minus(posOrigin, [prevLeft, prevTop]);\n  var rectOrigin = [rectLeft + prevOrigin[0] * rectWidth / prevWidth, rectTop + prevOrigin[1] * rectHeight / prevHeight];\n  var offset = [0, 0];\n  var count = 0;\n\n  while (++count < 10) {\n    var inverseBeforeMatrix = invert(beforeMatrix, n);\n    _a = minus(calculatePosition(inverseBeforeMatrix, rectOrigin, n), calculatePosition(inverseBeforeMatrix, posOrigin, n)), offset[0] = _a[0], offset[1] = _a[1];\n    var mat2 = multiplies(n, beforeMatrix, createOriginMatrix(offset, n), targetMatrix);\n\n    var _d = calculateRect(mat2, width, height, n),\n        nextLeft = _d.left,\n        nextTop = _d.top;\n\n    var distLeft = nextLeft - rectLeft;\n    var distTop = nextTop - rectTop;\n\n    if (Math.abs(distLeft) < 2 && Math.abs(distTop) < 2) {\n      break;\n    }\n\n    rectOrigin[0] -= distLeft;\n    rectOrigin[1] -= distTop;\n  }\n\n  return offset.map(function (p) {\n    return Math.round(p);\n  });\n}\n\nfunction calculateMoveablePosition(matrix, origin, width, height) {\n  var is3d = matrix.length === 16;\n  var n = is3d ? 4 : 3;\n  var poses = calculatePoses(matrix, width, height, n);\n  var _a = poses[0],\n      x1 = _a[0],\n      y1 = _a[1],\n      _b = poses[1],\n      x2 = _b[0],\n      y2 = _b[1],\n      _c = poses[2],\n      x3 = _c[0],\n      y3 = _c[1],\n      _d = poses[3],\n      x4 = _d[0],\n      y4 = _d[1];\n\n  var _e = calculatePosition(matrix, origin, n),\n      originX = _e[0],\n      originY = _e[1];\n\n  var left = Math.min(x1, x2, x3, x4);\n  var top = Math.min(y1, y2, y3, y4);\n  var right = Math.max(x1, x2, x3, x4);\n  var bottom = Math.max(y1, y2, y3, y4);\n  x1 = x1 - left || 0;\n  x2 = x2 - left || 0;\n  x3 = x3 - left || 0;\n  x4 = x4 - left || 0;\n  y1 = y1 - top || 0;\n  y2 = y2 - top || 0;\n  y3 = y3 - top || 0;\n  y4 = y4 - top || 0;\n  originX = originX - left || 0;\n  originY = originY - top || 0;\n  var direction = getShapeDirection(poses);\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom,\n    origin: [originX, originY],\n    pos1: [x1, y1],\n    pos2: [x2, y2],\n    pos3: [x3, y3],\n    pos4: [x4, y4],\n    direction: direction\n  };\n}\n\nfunction getDistSize(vec) {\n  return Math.sqrt(vec[0] * vec[0] + vec[1] * vec[1]);\n}\n\nfunction getDiagonalSize(pos1, pos2) {\n  return getDistSize([pos2[0] - pos1[0], pos2[1] - pos1[1]]);\n}\n\nfunction getLineStyle(pos1, pos2, zoom, rad) {\n  if (zoom === void 0) {\n    zoom = 1;\n  }\n\n  if (rad === void 0) {\n    rad = getRad(pos1, pos2);\n  }\n\n  var width = getDiagonalSize(pos1, pos2);\n  return {\n    transform: \"translateY(-50%) translate(\".concat(pos1[0], \"px, \").concat(pos1[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\"),\n    width: \"\".concat(width, \"px\")\n  };\n}\n\nfunction getControlTransform(rotation, zoom) {\n  var poses = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    poses[_i - 2] = arguments[_i];\n  }\n\n  var length = poses.length;\n  var x = poses.reduce(function (prev, pos) {\n    return prev + pos[0];\n  }, 0) / length;\n  var y = poses.reduce(function (prev, pos) {\n    return prev + pos[1];\n  }, 0) / length;\n  return {\n    transform: \"translateZ(0px) translate(\".concat(x, \"px, \").concat(y, \"px) rotate(\").concat(rotation, \"rad) scale(\").concat(zoom, \")\")\n  };\n}\n\nfunction getCSSSize(target) {\n  var style = getComputedStyle(target);\n  return [parseFloat(style.width), parseFloat(style.height)];\n}\n\nfunction getSize(target, style) {\n  if (style === void 0) {\n    style = getComputedStyle(target);\n  }\n\n  var hasOffset = !isUndefined(target.offsetWidth);\n\n  if (!hasOffset && target.tagName.toLowerCase() !== \"svg\") {\n    var bbox = target.getBBox();\n    var offsetWidth = bbox.width;\n    var offsetHeight = bbox.height;\n    return {\n      svg: true,\n      offsetWidth: offsetWidth,\n      offsetHeight: offsetHeight,\n      clientWidth: offsetWidth,\n      clientHeight: offsetHeight,\n      cssWidth: offsetWidth,\n      cssHeight: offsetHeight\n    };\n  } else {\n    var boxSizing = style.boxSizing === \"border-box\";\n    var borderLeft = parseFloat(style.borderLeftWidth) || 0;\n    var borderRight = parseFloat(style.borderRightWidth) || 0;\n    var borderTop = parseFloat(style.borderTopWidth) || 0;\n    var borderBottom = parseFloat(style.borderBottomWidth) || 0;\n    var paddingLeft = parseFloat(style.paddingLeft) || 0;\n    var paddingRight = parseFloat(style.paddingRight) || 0;\n    var paddingTop = parseFloat(style.paddingTop) || 0;\n    var paddingBottom = parseFloat(style.paddingBottom) || 0;\n    var cssWidth = parseFloat(style.width);\n    var cssHeight = parseFloat(style.height);\n    var offsetWidth = cssWidth;\n    var offsetHeight = cssHeight;\n    var clientWidth = cssWidth;\n    var clientHeight = cssHeight;\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorder = borderLeft + borderRight;\n    var verticalBorder = borderTop + borderBottom;\n    var horizontalOffset = horizontalPadding + horizontalBorder;\n    var verticalOffset = verticalPadding + verticalBorder;\n\n    if (boxSizing) {\n      cssWidth = offsetWidth - horizontalOffset;\n      cssHeight = offsetHeight - verticalOffset;\n    } else {\n      offsetWidth = cssWidth + horizontalOffset;\n      offsetHeight = cssHeight + verticalOffset;\n    }\n\n    clientWidth = cssWidth + horizontalPadding;\n    clientHeight = cssHeight + verticalPadding;\n    return {\n      svg: false,\n      offsetWidth: offsetWidth,\n      offsetHeight: offsetHeight,\n      clientWidth: clientWidth,\n      clientHeight: clientHeight,\n      cssWidth: cssWidth,\n      cssHeight: cssHeight\n    };\n  }\n}\n\nfunction getRotationRad(poses, direction) {\n  return getRad(direction > 0 ? poses[0] : poses[1], direction > 0 ? poses[1] : poses[0]);\n}\n\nfunction getTargetInfo(moveableElement, target, container, parentContainer, rootContainer) {\n  var beforeDirection = 1;\n  var beforeOrigin = [0, 0];\n  var targetClientRect = resetClientRect();\n  var containerClientRect = resetClientRect();\n  var moveableClientRect = resetClientRect();\n  var result = calculateElementInfo(target, container, rootContainer, false);\n\n  if (target) {\n    var n = result.is3d ? 4 : 3;\n    var beforePosition = calculateMoveablePosition(result.offsetMatrix, plus(result.transformOrigin, getOrigin(result.targetMatrix, n)), result.width, result.height);\n    beforeDirection = beforePosition.direction;\n    beforeOrigin = plus(beforePosition.origin, [beforePosition.left - result.left, beforePosition.top - result.top]);\n    targetClientRect = getClientRect(target);\n    containerClientRect = getClientRect(getOffsetInfo(parentContainer, parentContainer, true).offsetParent || document.body, true);\n\n    if (moveableElement) {\n      moveableClientRect = getClientRect(moveableElement);\n    }\n  }\n\n  return __assign$1({\n    targetClientRect: targetClientRect,\n    containerClientRect: containerClientRect,\n    moveableClientRect: moveableClientRect,\n    beforeDirection: beforeDirection,\n    beforeOrigin: beforeOrigin,\n    originalBeforeOrigin: beforeOrigin,\n    target: target\n  }, result);\n}\n\nfunction resetClientRect() {\n  return {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    width: 0,\n    height: 0,\n    clientLeft: 0,\n    clientTop: 0,\n    clientWidth: 0,\n    clientHeight: 0,\n    scrollWidth: 0,\n    scrollHeight: 0\n  };\n}\n\nfunction getClientRect(el, isExtends) {\n  var _a;\n\n  var left = 0;\n  var top = 0;\n  var width = 0;\n  var height = 0;\n\n  if (el === document.body || el === document.documentElement) {\n    width = window.innerWidth;\n    height = window.innerHeight;\n    var scrollPos = getBodyScrollPos();\n    _a = [-scrollPos[0], -scrollPos[1]], left = _a[0], top = _a[1];\n  } else {\n    var clientRect = el.getBoundingClientRect();\n    left = clientRect.left;\n    top = clientRect.top;\n    width = clientRect.width;\n    height = clientRect.height;\n  }\n\n  var rect = {\n    left: left,\n    right: left + width,\n    top: top,\n    bottom: top + height,\n    width: width,\n    height: height\n  };\n\n  if (isExtends) {\n    rect.clientLeft = el.clientLeft;\n    rect.clientTop = el.clientTop;\n    rect.clientWidth = el.clientWidth;\n    rect.clientHeight = el.clientHeight;\n    rect.scrollWidth = el.scrollWidth;\n    rect.scrollHeight = el.scrollHeight;\n    rect.overflow = getComputedStyle(el).overflow !== \"visible\";\n  }\n\n  return rect;\n}\n\nfunction getDirection(target) {\n  if (!target) {\n    return;\n  }\n\n  var direciton = target.getAttribute(\"data-direction\");\n\n  if (!direciton) {\n    return;\n  }\n\n  var dir = [0, 0];\n  direciton.indexOf(\"w\") > -1 && (dir[0] = -1);\n  direciton.indexOf(\"e\") > -1 && (dir[0] = 1);\n  direciton.indexOf(\"n\") > -1 && (dir[1] = -1);\n  direciton.indexOf(\"s\") > -1 && (dir[1] = 1);\n  return dir;\n}\n\nfunction getAbsolutePoses(poses, dist) {\n  return [plus(dist, poses[0]), plus(dist, poses[1]), plus(dist, poses[2]), plus(dist, poses[3])];\n}\n\nfunction getAbsolutePosesByState(_a) {\n  var left = _a.left,\n      top = _a.top,\n      pos1 = _a.pos1,\n      pos2 = _a.pos2,\n      pos3 = _a.pos3,\n      pos4 = _a.pos4;\n  return getAbsolutePoses([pos1, pos2, pos3, pos4], [left, top]);\n}\n\nfunction roundSign(num) {\n  return Math.round(num % 1 === -0.5 ? num - 1 : num);\n}\n\nfunction unset(self, name) {\n  var _a;\n\n  (_a = self[name]) === null || _a === void 0 ? void 0 : _a.unset();\n  self[name] = null;\n}\n\nfunction fillParams(moveable, e, params, isBeforeEvent) {\n  var datas = e.datas;\n\n  if (!datas.datas) {\n    datas.datas = {};\n  }\n\n  var nextParams = __assign$1(__assign$1({}, params), {\n    target: moveable.state.target,\n    clientX: e.clientX,\n    clientY: e.clientY,\n    inputEvent: e.inputEvent,\n    currentTarget: moveable,\n    moveable: moveable,\n    datas: datas.datas\n  });\n\n  if (!datas.isStartEvent) {\n    datas.isStartEvent = true;\n  } else if (!isBeforeEvent) {\n    datas.lastEvent = nextParams;\n  }\n\n  return nextParams;\n}\n\nfunction fillEndParams(moveable, e, params) {\n  var datas = e.datas;\n  var isDrag = \"isDrag\" in params ? params.isDrag : e.isDrag;\n\n  if (!datas.datas) {\n    datas.datas = {};\n  }\n\n  return __assign$1(__assign$1({\n    isDrag: isDrag\n  }, params), {\n    moveable: moveable,\n    target: moveable.state.target,\n    clientX: e.clientX,\n    clientY: e.clientY,\n    inputEvent: e.inputEvent,\n    currentTarget: moveable,\n    lastEvent: datas.lastEvent,\n    isDouble: e.isDouble,\n    datas: datas.datas\n  });\n}\n\nfunction catchEvent(moveable, name, callback) {\n  moveable._emitter.on(name, callback);\n}\n\nfunction triggerEvent(moveable, name, params, isManager) {\n  return moveable.triggerEvent(name, params, isManager);\n}\n\nfunction getComputedStyle(el, pseudoElt) {\n  return window.getComputedStyle(el, pseudoElt);\n}\n\nfunction filterAbles(ables, methods, triggerAblesSimultaneously) {\n  var enabledAbles = {};\n  var ableGroups = {};\n  return ables.filter(function (able) {\n    var name = able.name;\n\n    if (enabledAbles[name] || !methods.some(function (method) {\n      return able[method];\n    })) {\n      return false;\n    }\n\n    if (!triggerAblesSimultaneously && able.ableGroup) {\n      if (ableGroups[able.ableGroup]) {\n        return false;\n      }\n\n      ableGroups[able.ableGroup] = true;\n    }\n\n    enabledAbles[name] = true;\n    return true;\n  });\n}\n\nfunction equals(a1, a2) {\n  return a1 === a2 || a1 == null && a2 == null;\n}\n\nfunction selectValue() {\n  var values = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    values[_i] = arguments[_i];\n  }\n\n  var length = values.length - 1;\n\n  for (var i = 0; i < length; ++i) {\n    var value = values[i];\n\n    if (!isUndefined(value)) {\n      return value;\n    }\n  }\n\n  return values[length];\n}\n\nfunction groupBy(arr, func) {\n  var groups = [];\n  var groupKeys = [];\n  arr.forEach(function (el, index) {\n    var groupKey = func(el, index, arr);\n    var keyIndex = groupKeys.indexOf(groupKey);\n    var group = groups[keyIndex] || [];\n\n    if (keyIndex === -1) {\n      groupKeys.push(groupKey);\n      groups.push(group);\n    }\n\n    group.push(el);\n  });\n  return groups;\n}\n\nfunction groupByMap(arr, func) {\n  var groups = [];\n  var groupKeys = {};\n  arr.forEach(function (el, index) {\n    var groupKey = func(el, index, arr);\n    var group = groupKeys[groupKey];\n\n    if (!group) {\n      group = [];\n      groupKeys[groupKey] = group;\n      groups.push(group);\n    }\n\n    group.push(el);\n  });\n  return groups;\n}\n\nfunction flat(arr) {\n  return arr.reduce(function (prev, cur) {\n    return prev.concat(cur);\n  }, []);\n}\n\nfunction maxOffset() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  args.sort(function (a, b) {\n    return Math.abs(b) - Math.abs(a);\n  });\n  return args[0];\n}\n\nfunction calculateInversePosition(matrix, pos, n) {\n  return calculate(invert(matrix, n), convertPositionMatrix(pos, n), n);\n}\n\nfunction convertDragDist(state, e) {\n  var _a;\n\n  var is3d = state.is3d,\n      rootMatrix = state.rootMatrix;\n  var n = is3d ? 4 : 3;\n  _a = calculateInversePosition(rootMatrix, [e.distX, e.distY], n), e.distX = _a[0], e.distY = _a[1];\n  return e;\n}\n\nfunction calculatePadding(matrix, pos, transformOrigin, origin, n) {\n  return minus(calculatePosition(matrix, plus(transformOrigin, pos), n), origin);\n}\n\nfunction convertCSSSize(value, size, isRelative) {\n  return isRelative ? \"\".concat(value / size * 100, \"%\") : \"\".concat(value, \"px\");\n}\n\nfunction moveControlPos(controlPoses, index, dist, isRect) {\n  var _a = controlPoses[index],\n      direction = _a.direction,\n      sub = _a.sub;\n  var dists = controlPoses.map(function () {\n    return [0, 0];\n  });\n  var directions = direction ? direction.split(\"\") : [];\n\n  if (isRect && index < 8) {\n    var verticalDirection_1 = directions.filter(function (dir) {\n      return dir === \"w\" || dir === \"e\";\n    })[0];\n    var horizontalDirection_1 = directions.filter(function (dir) {\n      return dir === \"n\" || dir === \"s\";\n    })[0];\n    dists[index] = dist;\n    controlPoses.forEach(function (controlPose, i) {\n      var controlDir = controlPose.direction;\n\n      if (!controlDir) {\n        return;\n      }\n\n      if (controlDir.indexOf(verticalDirection_1) > -1) {\n        dists[i][0] = dist[0];\n      }\n\n      if (controlDir.indexOf(horizontalDirection_1) > -1) {\n        dists[i][1] = dist[1];\n      }\n    });\n\n    if (verticalDirection_1) {\n      dists[1][0] = dist[0] / 2;\n      dists[5][0] = dist[0] / 2;\n    }\n\n    if (horizontalDirection_1) {\n      dists[3][1] = dist[1] / 2;\n      dists[7][1] = dist[1] / 2;\n    }\n  } else if (direction && !sub) {\n    directions.forEach(function (dir) {\n      var isVertical = dir === \"n\" || dir === \"s\";\n      controlPoses.forEach(function (controlPose, i) {\n        var dirDir = controlPose.direction,\n            dirHorizontal = controlPose.horizontal,\n            dirVertical = controlPose.vertical;\n\n        if (!dirDir || dirDir.indexOf(dir) === -1) {\n          return;\n        }\n\n        dists[i] = [isVertical || !dirHorizontal ? 0 : dist[0], !isVertical || !dirVertical ? 0 : dist[1]];\n      });\n    });\n  } else {\n    dists[index] = dist;\n  }\n\n  return dists;\n}\n\nfunction getTinyDist(v) {\n  return Math.abs(v) <= TINY_NUM ? 0 : v;\n}\n\nfunction directionCondition(moveable, e) {\n  if (e.isRequest) {\n    if (e.requestAble === \"resizable\" || e.requestAble === \"scalable\") {\n      return e.parentDirection;\n    } else {\n      return false;\n    }\n  }\n\n  return hasClass(e.inputEvent.target, prefix(\"direction\"));\n}\n\nfunction invertObject(obj) {\n  var nextObj = {};\n\n  for (var name in obj) {\n    nextObj[obj[name]] = name;\n  }\n\n  return nextObj;\n}\n\nfunction convertTransformInfo(transforms, index) {\n  var beforeFunctionTexts = transforms.slice(0, index < 0 ? undefined : index);\n  var beforeFunctionTexts2 = transforms.slice(0, index < 0 ? undefined : index + 1);\n  var targetFunctionText = transforms[index] || \"\";\n  var afterFunctionTexts = index < 0 ? [] : transforms.slice(index);\n  var afterFunctionTexts2 = index < 0 ? [] : transforms.slice(index + 1);\n  var beforeFunctions = parse(beforeFunctionTexts);\n  var beforeFunctions2 = parse(beforeFunctionTexts2);\n  var targetFunctions = parse([targetFunctionText]);\n  var afterFunctions = parse(afterFunctionTexts);\n  var afterFunctions2 = parse(afterFunctionTexts2);\n  var beforeFunctionMatrix = toMat(beforeFunctions);\n  var beforeFunctionMatrix2 = toMat(beforeFunctions2);\n  var afterFunctionMatrix = toMat(afterFunctions);\n  var afterFunctionMatrix2 = toMat(afterFunctions2);\n  var allFunctionMatrix = multiply(beforeFunctionMatrix, afterFunctionMatrix, 4);\n  return {\n    transforms: transforms,\n    beforeFunctionMatrix: beforeFunctionMatrix,\n    beforeFunctionMatrix2: beforeFunctionMatrix2,\n    targetFunctionMatrix: toMat(targetFunctions),\n    afterFunctionMatrix: afterFunctionMatrix,\n    afterFunctionMatrix2: afterFunctionMatrix2,\n    allFunctionMatrix: allFunctionMatrix,\n    beforeFunctions: beforeFunctions,\n    beforeFunctions2: beforeFunctions2,\n    targetFunction: targetFunctions[0],\n    afterFunctions: afterFunctions,\n    afterFunctions2: afterFunctions2,\n    beforeFunctionTexts: beforeFunctionTexts,\n    beforeFunctionTexts2: beforeFunctionTexts2,\n    targetFunctionText: targetFunctionText,\n    afterFunctionTexts: afterFunctionTexts,\n    afterFunctionTexts2: afterFunctionTexts2\n  };\n}\n\nfunction isArrayFormat(arr) {\n  if (!arr || !isObject(arr)) {\n    return false;\n  }\n\n  if (arr instanceof Element) {\n    return false;\n  }\n\n  return isArray(arr) || \"length\" in arr;\n}\n\nfunction getRefTarget(target, isSelector) {\n  if (!target) {\n    return null;\n  }\n\n  if (isString(target)) {\n    if (isSelector) {\n      return document.querySelector(target);\n    }\n\n    return target;\n  }\n\n  if (isFunction(target)) {\n    return target();\n  }\n\n  if (\"current\" in target) {\n    return target.current;\n  }\n\n  return target;\n}\n\nfunction getRefTargets(targets, isSelector) {\n  if (!targets) {\n    return [];\n  }\n\n  var userTargets = isArrayFormat(targets) ? [].slice.call(targets) : [targets];\n  return userTargets.reduce(function (prev, target) {\n    if (isString(target) && isSelector) {\n      return __spreadArray(__spreadArray([], prev, true), [].slice.call(document.querySelectorAll(target)), true);\n    }\n\n    prev.push(getRefTarget(target, isSelector));\n    return prev;\n  }, []);\n}\n\nfunction getElementTargets(targets, selectorMap) {\n  var elementTargets = [];\n  targets.forEach(function (target) {\n    if (!target) {\n      return;\n    }\n\n    if (isString(target)) {\n      if (selectorMap[target]) {\n        elementTargets.push.apply(elementTargets, selectorMap[target]);\n      }\n\n      return;\n    }\n\n    elementTargets.push(target);\n  });\n  return elementTargets;\n}\n\nfunction getAbsoluteRotation(pos1, pos2, direction) {\n  var deg = getRad(pos1, pos2) / Math.PI * 180;\n  deg = direction >= 0 ? deg : 180 - deg;\n  deg = deg >= 0 ? deg : 360 + deg;\n  return deg;\n}\n\nfunction getDragDistByState(state, dist) {\n  var rootMatrix = state.rootMatrix,\n      is3d = state.is3d;\n  var n = is3d ? 4 : 3;\n  var inverseMatrix = invert(rootMatrix, n);\n\n  if (!is3d) {\n    inverseMatrix = convertDimension(inverseMatrix, 3, 4);\n  }\n\n  inverseMatrix[12] = 0;\n  inverseMatrix[13] = 0;\n  inverseMatrix[14] = 0;\n  return calculateMatrixDist(inverseMatrix, dist);\n}\n\nfunction getOffsetSizeDist(sizeDirection, keepRatio, datas, e) {\n  var ratio = datas.ratio,\n      startOffsetWidth = datas.startOffsetWidth,\n      startOffsetHeight = datas.startOffsetHeight;\n  var distWidth = 0;\n  var distHeight = 0;\n  var distX = e.distX,\n      distY = e.distY,\n      parentDistance = e.parentDistance,\n      parentDist = e.parentDist,\n      parentScale = e.parentScale,\n      isPinch = e.isPinch;\n  var startFixedDirection = datas.fixedDirection;\n\n  if (parentDist) {\n    distWidth = parentDist[0];\n    distHeight = parentDist[1];\n\n    if (keepRatio) {\n      if (!distWidth) {\n        distWidth = distHeight * ratio;\n      } else if (!distHeight) {\n        distHeight = distWidth / ratio;\n      }\n    }\n  } else if (parentScale) {\n    distWidth = (parentScale[0] - 1) * startOffsetWidth;\n    distHeight = (parentScale[1] - 1) * startOffsetHeight;\n  } else if (isPinch) {\n    if (parentDistance) {\n      distWidth = parentDistance;\n      distHeight = parentDistance * startOffsetHeight / startOffsetWidth;\n    }\n  } else {\n    var dist_1 = getDragDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    });\n    dist_1 = [0, 1].map(function (index) {\n      var directionRatio = Math.abs(sizeDirection[index] - startFixedDirection[index]);\n\n      if (directionRatio !== 0) {\n        directionRatio = 2 / directionRatio;\n      }\n\n      return dist_1[index] * directionRatio;\n    });\n\n    if (keepRatio && startOffsetWidth && startOffsetHeight) {\n      var rad = getRad([0, 0], dist_1);\n      var standardRad = getRad([0, 0], sizeDirection);\n      var size = getDistSize(dist_1);\n      var signSize = Math.cos(rad - standardRad) * size;\n\n      if (!sizeDirection[0]) {\n        // top, bottom\n        distHeight = signSize;\n        distWidth = distHeight * ratio;\n      } else if (!sizeDirection[1]) {\n        // left, right\n        distWidth = signSize;\n        distHeight = distWidth / ratio;\n      } else {\n        // two-way\n        var startWidthSize = sizeDirection[0] * 2 * startOffsetWidth;\n        var startHeightSize = sizeDirection[1] * 2 * startOffsetHeight;\n        var distSize = getDistSize([startWidthSize + dist_1[0], startHeightSize + dist_1[1]]) - getDistSize([startWidthSize, startHeightSize]);\n        var ratioRad = getRad([0, 0], [ratio, 1]);\n        distWidth = Math.cos(ratioRad) * distSize;\n        distHeight = Math.sin(ratioRad) * distSize;\n      }\n    } else {\n      // const nextDirection = [...direction];\n      // if (!startOffsetWidth) {\n      //     if (dist[0] < 0) {\n      //         nextDirection[0] = -1;\n      //     } else if (dist[0] > 0) {\n      //         nextDirection[0] = 1;\n      //     }\n      // }\n      // if (!startOffsetHeight) {\n      //     if (dist[1] < 0) {\n      //         nextDirection[1] = -1;\n      //     } else if (dist[1] > 0) {\n      //         nextDirection[1] = 1;\n      //     }\n      // }\n      // direction = nextDirection;\n      // sizeDirection = nextDirection;\n      distWidth = sizeDirection[0] * dist_1[0];\n      distHeight = sizeDirection[1] * dist_1[1];\n    }\n  }\n\n  return {\n    // direction,\n    // sizeDirection,\n    distWidth: distWidth,\n    distHeight: distHeight\n  };\n}\n/**\n * @namespace Moveable.Pinchable\n * @description Whether or not target can be pinched with draggable, resizable, scalable, rotatable (default: false)\n */\n\n\nvar Pinchable = makeAble(\"pinchable\", {\n  events: {\n    onPinchStart: \"pinchStart\",\n    onPinch: \"pinch\",\n    onPinchEnd: \"pinchEnd\",\n    onPinchGroupStart: \"pinchGroupStart\",\n    onPinchGroup: \"pinchGroup\",\n    onPinchGroupEnd: \"pinchGroupEnd\"\n  },\n  dragStart: function () {\n    return true;\n  },\n  pinchStart: function (moveable, e) {\n    var datas = e.datas,\n        targets = e.targets,\n        angle = e.angle,\n        originalDatas = e.originalDatas;\n    var _a = moveable.props,\n        pinchable = _a.pinchable,\n        ables = _a.ables;\n\n    if (!pinchable) {\n      return false;\n    }\n\n    var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\", \"Start\");\n    var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"ControlStart\");\n    var pinchAbles = (pinchable === true ? moveable.controlAbles : ables.filter(function (able) {\n      return pinchable.indexOf(able.name) > -1;\n    })).filter(function (able) {\n      return able.canPinch && able[controlEventName];\n    });\n    var params = fillParams(moveable, e, {});\n\n    if (targets) {\n      params.targets = targets;\n    }\n\n    var result = triggerEvent(moveable, eventName, params);\n    datas.isPinch = result !== false;\n    datas.ables = pinchAbles;\n    var isPinch = datas.isPinch;\n\n    if (!isPinch) {\n      return false;\n    }\n\n    pinchAbles.forEach(function (able) {\n      originalDatas[able.name] = originalDatas[able.name] || {};\n\n      if (!able[controlEventName]) {\n        return;\n      }\n\n      var ableEvent = __assign$1(__assign$1({}, e), {\n        datas: originalDatas[able.name],\n        parentRotate: angle,\n        isPinch: true\n      });\n\n      able[controlEventName](moveable, ableEvent);\n    });\n    moveable.state.snapRenderInfo = {\n      request: e.isRequest,\n      direction: [0, 0]\n    };\n    return isPinch;\n  },\n  pinch: function (moveable, e) {\n    var datas = e.datas,\n        pinchScale = e.scale,\n        distance = e.distance,\n        originalDatas = e.originalDatas,\n        inputEvent = e.inputEvent,\n        targets = e.targets,\n        angle = e.angle;\n\n    if (!datas.isPinch) {\n      return;\n    }\n\n    var parentDistance = distance * (1 - 1 / pinchScale);\n    var params = fillParams(moveable, e, {});\n\n    if (targets) {\n      params.targets = targets;\n    }\n\n    var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\");\n    triggerEvent(moveable, eventName, params);\n    var ables = datas.ables;\n    var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"Control\");\n    ables.forEach(function (able) {\n      if (!able[controlEventName]) {\n        return;\n      }\n\n      able[controlEventName](moveable, __assign$1(__assign$1({}, e), {\n        datas: originalDatas[able.name],\n        inputEvent: inputEvent,\n        parentDistance: parentDistance,\n        parentRotate: angle,\n        isPinch: true\n      }));\n    });\n    return params;\n  },\n  pinchEnd: function (moveable, e) {\n    var datas = e.datas,\n        isPinch = e.isPinch,\n        inputEvent = e.inputEvent,\n        targets = e.targets,\n        originalDatas = e.originalDatas;\n\n    if (!datas.isPinch) {\n      return;\n    }\n\n    var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\", \"End\");\n    var params = fillEndParams(moveable, e, {\n      isDrag: isPinch\n    });\n\n    if (targets) {\n      params.targets = targets;\n    }\n\n    triggerEvent(moveable, eventName, params);\n    var ables = datas.ables;\n    var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"ControlEnd\");\n    ables.forEach(function (able) {\n      if (!able[controlEventName]) {\n        return;\n      }\n\n      able[controlEventName](moveable, __assign$1(__assign$1({}, e), {\n        isDrag: isPinch,\n        datas: originalDatas[able.name],\n        inputEvent: inputEvent,\n        isPinch: true\n      }));\n    });\n    return isPinch;\n  },\n  pinchGroupStart: function (moveable, e) {\n    return this.pinchStart(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  pinchGroup: function (moveable, e) {\n    return this.pinch(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  pinchGroupEnd: function (moveable, e) {\n    return this.pinchEnd(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  }\n});\n/**\n * Whether or not target can be pinched with draggable, resizable, scalable, rotatable (default: false)\n * @name Moveable.Pinchable#pinchable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.pinchable = true;\n */\n\n/**\n * When the pinch starts, the pinchStart event is called with part of scaleStart, rotateStart, resizeStart\n * @memberof Moveable.Pinchable\n * @event pinchStart\n * @param {Moveable.Pinchable.OnPinchStart} - Parameters for the pinchStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinchStart\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotateStart\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scaleStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When pinching, the pinch event is called with part of scale, rotate, resize\n * @memberof Moveable.Pinchable\n * @event pinch\n * @param {Moveable.Pinchable.OnPinch} - Parameters for the pinch event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinch\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotate\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scale\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When the pinch finishes, the pinchEnd event is called.\n * @memberof Moveable.Pinchable\n * @event pinchEnd\n * @param {Moveable.Pinchable.OnPinchEnd} - Parameters for the pinchEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinchEnd\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotateEnd\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scaleEnd\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When the group pinch starts, the `pinchGroupStart` event is called.\n * @memberof Moveable.Pinchable\n * @event pinchGroupStart\n * @param {Moveable.Pinchable.OnPinchGroupStart} - Parameters for the `pinchGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroupStart\", ({ targets }) => {\n *     console.log(\"onPinchGroupStart\", targets);\n * });\n */\n\n/**\n * When the group pinch, the `pinchGroup` event is called.\n * @memberof Moveable.Pinchable\n * @event pinchGroup\n * @param {Moveable.Pinchable.OnPinchGroup} - Parameters for the `pinchGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroup\", ({ targets, events }) => {\n *     console.log(\"onPinchGroup\", targets);\n * });\n */\n\n/**\n * When the group pinch finishes, the `pinchGroupEnd` event is called.\n * @memberof Moveable.Pinchable\n * @event pinchGroupEnd\n * @param {Moveable.Pinchable.OnPinchGroupEnd} - Parameters for the `pinchGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onPinchGroupEnd\", targets, isDrag);\n * });\n */\n\n/**\n * @namespace Resizable\n * @memberof Moveable\n * @description Resizable indicates whether the target's width and height can be increased or decreased.\n */\n\nvar Resizable = {\n  name: \"resizable\",\n  ableGroup: \"size\",\n  canPinch: true,\n  props: {\n    resizable: Boolean,\n    throttleResize: Number,\n    renderDirections: Array,\n    keepRatio: Boolean,\n    resizeFormat: Function\n  },\n  events: {\n    onResizeStart: \"resizeStart\",\n    onBeforeResize: \"beforeResize\",\n    onResize: \"resize\",\n    onResizeEnd: \"resizeEnd\",\n    onResizeGroupStart: \"resizeGroupStart\",\n    onBeforeResizeGroup: \"beforeResizeGroup\",\n    onResizeGroup: \"resizeGroup\",\n    onResizeGroupEnd: \"resizeGroupEnd\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        resizable = _a.resizable,\n        edge = _a.edge;\n\n    if (resizable) {\n      if (edge) {\n        return renderDiagonalDirections(moveable, React);\n      }\n\n      return renderAllDirections(moveable, React);\n    }\n  },\n  dragControlCondition: directionCondition,\n  dragControlStart: function (moveable, e) {\n    var _a;\n\n    var inputEvent = e.inputEvent,\n        isPinch = e.isPinch,\n        parentDirection = e.parentDirection,\n        datas = e.datas,\n        parentFlag = e.parentFlag;\n    var direction = parentDirection || (isPinch ? [0, 0] : getDirection(inputEvent.target));\n    var _b = moveable.state,\n        target = _b.target,\n        width = _b.width,\n        height = _b.height;\n\n    if (!direction || !target) {\n      return false;\n    }\n\n    !isPinch && setDragStart(moveable, e);\n    datas.datas = {};\n    datas.direction = direction;\n    datas.startOffsetWidth = width;\n    datas.startOffsetHeight = height;\n    datas.prevWidth = 0;\n    datas.prevHeight = 0;\n    _a = getCSSSize(target), datas.startWidth = _a[0], datas.startHeight = _a[1];\n    var padding = [Math.max(0, width - datas.startWidth), Math.max(0, height - datas.startHeight)];\n    datas.minSize = padding;\n    datas.maxSize = [Infinity, Infinity];\n\n    if (!parentFlag) {\n      var style = getComputedStyle(target);\n      var position = style.position,\n          minWidth = style.minWidth,\n          minHeight = style.minHeight,\n          maxWidth = style.maxWidth,\n          maxHeight = style.maxHeight;\n      var isParentElement = position === \"static\" || position === \"relative\";\n      var container = isParentElement ? target.parentElement : target.offsetParent;\n      var containerWidth = width;\n      var containerHeight = height;\n\n      if (container) {\n        containerWidth = container.clientWidth;\n        containerHeight = container.clientHeight;\n\n        if (isParentElement) {\n          var containerStyle = getComputedStyle(container);\n          containerWidth -= parseFloat(containerStyle.paddingLeft) || 0;\n          containerHeight -= parseFloat(containerStyle.paddingTop) || 0;\n        }\n      }\n\n      datas.minSize = plus([convertUnitSize(minWidth, containerWidth) || 0, convertUnitSize(minHeight, containerHeight) || 0], padding);\n      datas.maxSize = plus([convertUnitSize(maxWidth, containerWidth) || Infinity, convertUnitSize(maxHeight, containerHeight) || Infinity], padding);\n    }\n\n    var transformOrigin = moveable.props.transformOrigin || \"% %\";\n    datas.transformOrigin = transformOrigin && isString(transformOrigin) ? transformOrigin.split(\" \") : transformOrigin;\n    datas.isWidth = !direction[0] && !direction[1] || direction[0] || !direction[1];\n\n    function setRatio(ratio) {\n      datas.ratio = ratio && isFinite(ratio) ? ratio : 0;\n    }\n\n    datas.startPositions = getAbsolutePosesByState(moveable.state);\n\n    function setFixedDirection(fixedDirection) {\n      datas.fixedDirection = fixedDirection;\n      datas.fixedPosition = getPosByDirection(datas.startPositions, fixedDirection);\n    }\n\n    setRatio(width / height);\n    setFixedDirection([-direction[0], -direction[1]]);\n    datas.setFixedDirection = setFixedDirection;\n    var params = fillParams(moveable, e, {\n      direction: direction,\n      set: function (_a) {\n        var startWidth = _a[0],\n            startHeight = _a[1];\n        datas.startWidth = startWidth;\n        datas.startHeight = startHeight;\n      },\n      setMin: function (minSize) {\n        datas.minSize = minSize;\n      },\n      setMax: function (maxSize) {\n        datas.maxSize = [maxSize[0] || Infinity, maxSize[1] || Infinity];\n      },\n      setRatio: setRatio,\n      setFixedDirection: setFixedDirection,\n      setOrigin: function (origin) {\n        datas.transformOrigin = origin;\n      },\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    });\n    var result = triggerEvent(moveable, \"onResizeStart\", params);\n\n    if (result !== false) {\n      datas.isResize = true;\n      moveable.state.snapRenderInfo = {\n        request: e.isRequest,\n        direction: direction\n      };\n    }\n\n    return datas.isResize ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    var _a;\n\n    var datas = e.datas,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        parentKeepRatio = e.parentKeepRatio,\n        dragClient = e.dragClient,\n        parentDist = e.parentDist,\n        isRequest = e.isRequest;\n    var isResize = datas.isResize,\n        transformOrigin = datas.transformOrigin,\n        startWidth = datas.startWidth,\n        startHeight = datas.startHeight,\n        prevWidth = datas.prevWidth,\n        prevHeight = datas.prevHeight,\n        minSize = datas.minSize,\n        maxSize = datas.maxSize,\n        ratio = datas.ratio,\n        isWidth = datas.isWidth,\n        startOffsetWidth = datas.startOffsetWidth,\n        startOffsetHeight = datas.startOffsetHeight;\n\n    if (!isResize) {\n      return;\n    }\n\n    var props = moveable.props;\n    var resizeFormat = props.resizeFormat,\n        _b = props.throttleResize,\n        throttleResize = _b === void 0 ? 1 : _b,\n        parentMoveable = props.parentMoveable,\n        _c = props.snapThreshold,\n        snapThreshold = _c === void 0 ? 5 : _c;\n    var direction = datas.direction;\n    var sizeDirection = direction;\n    var distWidth = 0;\n    var distHeight = 0;\n\n    if (!direction[0] && !direction[1]) {\n      sizeDirection = [1, 1];\n    }\n\n    var keepRatio = ratio && (parentKeepRatio != null ? parentKeepRatio : props.keepRatio) || false;\n\n    function getNextBoundingSize() {\n      var nextSize = getOffsetSizeDist(sizeDirection, keepRatio, datas, e);\n      distWidth = nextSize.distWidth;\n      distHeight = nextSize.distHeight;\n      var nextWidth = sizeDirection[0] || keepRatio ? Math.max(startOffsetWidth + distWidth, TINY_NUM) : startOffsetWidth;\n      var nextHeight = sizeDirection[1] || keepRatio ? Math.max(startOffsetHeight + distHeight, TINY_NUM) : startOffsetHeight;\n\n      if (keepRatio && startOffsetWidth && startOffsetHeight) {\n        // startOffsetWidth : startOffsetHeight = nextWidth : nextHeight\n        if (isWidth) {\n          nextHeight = nextWidth / ratio;\n        } else {\n          nextWidth = nextHeight * ratio;\n        }\n      }\n\n      return [nextWidth, nextHeight];\n    }\n\n    var _d = getNextBoundingSize(),\n        boundingWidth = _d[0],\n        boundingHeight = _d[1];\n\n    datas.setFixedDirection(datas.fixedDirection);\n    triggerEvent(moveable, \"onBeforeResize\", fillParams(moveable, e, {\n      setFixedDirection: function (nextFixedDirection) {\n        var _a;\n\n        datas.setFixedDirection(nextFixedDirection);\n        _a = getNextBoundingSize(), boundingWidth = _a[0], boundingHeight = _a[1];\n        return [boundingWidth, boundingHeight];\n      },\n      boundingWidth: boundingWidth,\n      boundingHeight: boundingHeight,\n      setSize: function (size) {\n        boundingWidth = size[0], boundingHeight = size[1];\n      }\n    }, true));\n    var fixedPosition = dragClient;\n\n    if (!dragClient) {\n      if (!parentFlag && isPinch) {\n        fixedPosition = getAbsolutePosition(moveable, [0, 0]);\n      } else {\n        fixedPosition = datas.fixedPosition;\n      }\n    }\n\n    var snapDist = [0, 0];\n\n    if (!isPinch) {\n      snapDist = checkSnapResize(moveable, boundingWidth, boundingHeight, direction, fixedPosition, isRequest, datas);\n    }\n\n    if (parentDist) {\n      !parentDist[0] && (snapDist[0] = 0);\n      !parentDist[1] && (snapDist[1] = 0);\n    }\n\n    function computeSize() {\n      var _a;\n\n      if (resizeFormat) {\n        _a = resizeFormat([boundingWidth, boundingHeight]), boundingWidth = _a[0], boundingHeight = _a[1];\n      }\n\n      boundingWidth = throttle(boundingWidth, throttleResize);\n      boundingHeight = throttle(boundingHeight, throttleResize);\n    }\n\n    if (keepRatio) {\n      if (sizeDirection[0] && sizeDirection[1] && snapDist[0] && snapDist[1]) {\n        if (Math.abs(snapDist[0]) > Math.abs(snapDist[1])) {\n          snapDist[1] = 0;\n        } else {\n          snapDist[0] = 0;\n        }\n      }\n\n      var isNoSnap = !snapDist[0] && !snapDist[1];\n\n      if (isNoSnap) {\n        // pre-compute before maintaining the ratio\n        computeSize();\n      }\n\n      if (sizeDirection[0] && !sizeDirection[1] || snapDist[0] && !snapDist[1] || isNoSnap && isWidth) {\n        boundingWidth += snapDist[0];\n        boundingHeight = boundingWidth / ratio;\n      } else if (!sizeDirection[0] && sizeDirection[1] || !snapDist[0] && snapDist[1] || isNoSnap && !isWidth) {\n        boundingHeight += snapDist[1];\n        boundingWidth = boundingHeight * ratio;\n      }\n    } else {\n      if (startOffsetWidth + distWidth < -snapThreshold) {\n        snapDist[0] = 0;\n      }\n\n      if (startOffsetWidth + distHeight < -snapThreshold) {\n        snapDist[1] = 0;\n      }\n\n      boundingWidth += snapDist[0];\n      boundingHeight += snapDist[1];\n    }\n\n    _a = calculateBoundSize([boundingWidth, boundingHeight], minSize, maxSize, keepRatio), boundingWidth = _a[0], boundingHeight = _a[1];\n    computeSize();\n    distWidth = boundingWidth - startOffsetWidth;\n    distHeight = boundingHeight - startOffsetHeight;\n    var delta = [distWidth - prevWidth, distHeight - prevHeight];\n    datas.prevWidth = distWidth;\n    datas.prevHeight = distHeight;\n    var inverseDelta = getResizeDist(moveable, boundingWidth, boundingHeight, datas.fixedDirection, fixedPosition, transformOrigin);\n\n    if (!parentMoveable && delta.every(function (num) {\n      return !num;\n    }) && inverseDelta.every(function (num) {\n      return !num;\n    })) {\n      return;\n    }\n\n    var params = fillParams(moveable, e, {\n      width: startWidth + distWidth,\n      height: startHeight + distHeight,\n      offsetWidth: Math.round(boundingWidth),\n      offsetHeight: Math.round(boundingHeight),\n      boundingWidth: boundingWidth,\n      boundingHeight: boundingHeight,\n      direction: direction,\n      dist: [distWidth, distHeight],\n      delta: delta,\n      isPinch: !!isPinch,\n      drag: Draggable.drag(moveable, setCustomDrag(e, moveable.state, inverseDelta, !!isPinch, false))\n    });\n    triggerEvent(moveable, \"onResize\", params);\n    return params;\n  },\n  dragControlAfter: function (moveable, e) {\n    var datas = e.datas;\n    var isResize = datas.isResize,\n        startOffsetWidth = datas.startOffsetWidth,\n        startOffsetHeight = datas.startOffsetHeight,\n        prevWidth = datas.prevWidth,\n        prevHeight = datas.prevHeight;\n\n    if (!isResize) {\n      return;\n    }\n\n    var _a = moveable.state,\n        width = _a.width,\n        height = _a.height;\n    var errorWidth = width - (startOffsetWidth + prevWidth);\n    var errorHeight = height - (startOffsetHeight + prevHeight);\n    var isErrorWidth = Math.abs(errorWidth) > 3;\n    var isErrorHeight = Math.abs(errorHeight) > 3;\n\n    if (isErrorWidth) {\n      datas.startWidth += errorWidth;\n      datas.startOffsetWidth += errorWidth;\n      datas.prevWidth += errorWidth;\n    }\n\n    if (isErrorHeight) {\n      datas.startHeight += errorHeight;\n      datas.startOffsetHeight += errorHeight;\n      datas.prevHeight += errorHeight;\n    }\n\n    if (isErrorWidth || isErrorHeight) {\n      return this.dragControl(moveable, e);\n    }\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isResize) {\n      return;\n    }\n\n    datas.isResize = false;\n    var params = fillEndParams(moveable, e, {});\n    triggerEvent(moveable, \"onResizeEnd\", params);\n    return params;\n  },\n  dragGroupControlCondition: directionCondition,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    var originalEvents = fillChildEvents(moveable, \"resizable\", e);\n\n    function setDist(child, ev) {\n      var fixedDirection = datas.fixedDirection;\n      var fixedPosition = datas.fixedPosition;\n      var startPositions = ev.datas.startPositions || getAbsolutePosesByState(child.state);\n      var pos = getPosByDirection(startPositions, fixedDirection);\n\n      var _a = calculate(createRotateMatrix(-moveable.rotation / 180 * Math.PI, 3), [pos[0] - fixedPosition[0], pos[1] - fixedPosition[1], 1], 3),\n          originalX = _a[0],\n          originalY = _a[1];\n\n      ev.datas.originalX = originalX;\n      ev.datas.originalY = originalY;\n      return ev;\n    }\n\n    var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      return setDist(child, ev);\n    });\n\n    var setFixedDirection = function (fixedDirection) {\n      params.setFixedDirection(fixedDirection);\n      events.forEach(function (ev, i) {\n        ev.setFixedDirection(fixedDirection);\n        setDist(ev.moveable, originalEvents[i]);\n      });\n    };\n\n    datas.setFixedDirection = setFixedDirection;\n\n    var nextParams = __assign$1(__assign$1({}, params), {\n      targets: moveable.props.targets,\n      events: events,\n      setFixedDirection: setFixedDirection\n    });\n\n    var result = triggerEvent(moveable, \"onResizeGroupStart\", nextParams);\n    datas.isResize = result !== false;\n    return datas.isResize ? params : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isResize) {\n      return;\n    }\n\n    catchEvent(moveable, \"onBeforeResize\", function (parentEvent) {\n      triggerEvent(moveable, \"onBeforeResizeGroup\", fillParams(moveable, e, __assign$1(__assign$1({}, parentEvent), {\n        targets: moveable.props.targets\n      }), true));\n    });\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return;\n    }\n\n    var boundingWidth = params.boundingWidth,\n        boundingHeight = params.boundingHeight,\n        dist = params.dist;\n    var keepRatio = moveable.props.keepRatio;\n    var parentScale = [boundingWidth / (boundingWidth - dist[0]), boundingHeight / (boundingHeight - dist[1])];\n    var fixedPosition = datas.fixedPosition;\n    var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\n      var _a = calculate(createRotateMatrix(moveable.rotation / 180 * Math.PI, 3), [ev.datas.originalX * parentScale[0], ev.datas.originalY * parentScale[1], 1], 3),\n          clientX = _a[0],\n          clientY = _a[1];\n\n      return __assign$1(__assign$1({}, ev), {\n        parentDist: null,\n        parentScale: parentScale,\n        dragClient: plus(fixedPosition, [clientX, clientY]),\n        parentKeepRatio: keepRatio\n      });\n    });\n\n    var nextParams = __assign$1({\n      targets: moveable.props.targets,\n      events: events\n    }, params);\n\n    triggerEvent(moveable, \"onResizeGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isResize) {\n      return;\n    }\n\n    this.dragControlEnd(moveable, e);\n    var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    });\n    triggerEvent(moveable, \"onResizeGroupEnd\", nextParams);\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Resizable#request\n   * @param {Moveable.Resizable.ResizableRequestParam} e - the Resizable's request parameter\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * // Use Relative Value\n   * moveable.request(\"resizable\", { deltaWidth: 10, deltaHeight: 10 }, true);\n   *\n   * // Use Absolute Value\n   * moveable.request(\"resizable\", { offsetWidth: 100, offsetHeight: 100 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"resizable\");\n   *\n   * // request\n   * // Use Relative Value\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   *\n   * // Use Absolute Value\n   * moveable.request(\"resizable\", { offsetWidth: 100, offsetHeight: 100 });\n   * moveable.request(\"resizable\", { offsetWidth: 110, offsetHeight: 100 });\n   * moveable.request(\"resizable\", { offsetWidth: 120, offsetHeight: 100 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function (moveable) {\n    var datas = {};\n    var distWidth = 0;\n    var distHeight = 0;\n    var rect = moveable.getRect();\n    return {\n      isControl: true,\n      requestStart: function (e) {\n        return {\n          datas: datas,\n          parentDirection: e.direction || [1, 1]\n        };\n      },\n      request: function (e) {\n        if (\"offsetWidth\" in e) {\n          distWidth = e.offsetWidth - rect.offsetWidth;\n        } else if (\"deltaWidth\" in e) {\n          distWidth += e.deltaWidth;\n        }\n\n        if (\"offsetHeight\" in e) {\n          distHeight = e.offsetHeight - rect.offsetHeight;\n        } else if (\"deltaHeight\" in e) {\n          distHeight += e.deltaHeight;\n        }\n\n        return {\n          datas: datas,\n          parentDist: [distWidth, distHeight],\n          parentKeepRatio: e.keepRatio\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether or not target can be resized.\n * @name Moveable.Resizable#resizable\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     resizable: false,\n * });\n *\n * moveable.resizable = true;\n */\n\n/**\n * throttle of width, height when resize. If throttleResize is set to less than 1, the target may shake.\n * @name Moveable.Resizable#throttleResize\n * @default 1\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n *   throttleResize: 1,\n * });\n *\n * moveable.throttleResize = 0;\n */\n\n/**\n * When resize or scale, keeps a ratio of the width, height.\n * @name Moveable.Resizable#keepRatio\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n * });\n *\n * moveable.keepRatio = true;\n */\n\n/**\n * Set directions to show the control box.\n * @name Moveable.Resizable#renderDirections\n * @default [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"]\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n *   renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\n * });\n *\n * moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\n */\n\n/**\n * Function to convert size for resize\n * @name Moveable.Resizable#resizeFormat\n * @default oneself\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n *   resizeFormat: v => v,\n * });\n *\n * moveable.resizeFormat = (size: number[]) => ([Math.trunc(size[0]), Math.trunc(size[1])];\n */\n\n/**\n * When the resize starts, the resizeStart event is called.\n * @memberof Moveable.Resizable\n * @event resizeStart\n * @param {Moveable.Resizable.OnResizeStart} - Parameters for the resizeStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resizeStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When resizing, `beforeResize` is called before `resize` occurs. In `beforeResize`, you can get and set the pre-value before resizing.\n * @memberof Moveable.Resizable\n * @event beforeResize\n * @param {Moveable.Resizable.OnBeforeResize} - Parameters for the `beforeResize` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"beforeResize\", ({ setFixedDirection }) => {\n *     if (shiftKey) {\n *        setFixedDirection([0, 0]);\n *     }\n * });\n * moveable.on(\"resize\", ({ target, width, height, drag }) => {\n *     target.style.width = `${width}px`;\n *     target.style.height = `${height}px`;\n *     target.style.transform = drag.transform;\n * });\n */\n\n/**\n * When resizing, the resize event is called.\n * @memberof Moveable.Resizable\n * @event resize\n * @param {Moveable.Resizable.OnResize} - Parameters for the resize event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resize\", ({ target, width, height }) => {\n *     target.style.width = `${e.width}px`;\n *     target.style.height = `${e.height}px`;\n * });\n */\n\n/**\n * When the resize finishes, the resizeEnd event is called.\n * @memberof Moveable.Resizable\n * @event resizeEnd\n * @param {Moveable.Resizable.OnResizeEnd} - Parameters for the resizeEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resizeEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n* When the group resize starts, the `resizeGroupStart` event is called.\n* @memberof Moveable.Resizable\n* @event resizeGroupStart\n* @param {Moveable.Resizable.OnResizeGroupStart} - Parameters for the `resizeGroupStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     resizable: true\n* });\n* moveable.on(\"resizeGroupStart\", ({ targets }) => {\n*     console.log(\"onResizeGroupStart\", targets);\n* });\n*/\n\n/**\n* When the group resize, the `resizeGroup` event is called.\n* @memberof Moveable.Resizable\n* @event resizeGroup\n* @param {Moveable.Resizable.onResizeGroup} - Parameters for the `resizeGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     resizable: true\n* });\n* moveable.on(\"resizeGroup\", ({ targets, events }) => {\n*     console.log(\"onResizeGroup\", targets);\n*     events.forEach(ev => {\n*         const offset = [\n*             direction[0] < 0 ? -ev.delta[0] : 0,\n*             direction[1] < 0 ? -ev.delta[1] : 0,\n*         ];\n*         // ev.drag is a drag event that occurs when the group resize.\n*         const left = offset[0] + ev.drag.beforeDist[0];\n*         const top = offset[1] + ev.drag.beforeDist[1];\n*         const width = ev.width;\n*         const top = ev.top;\n*     });\n* });\n*/\n\n/**\n * When the group resize finishes, the `resizeGroupEnd` event is called.\n * @memberof Moveable.Resizable\n * @event resizeGroupEnd\n * @param {Moveable.Resizable.OnResizeGroupEnd} - Parameters for the `resizeGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     resizable: true\n * });\n * moveable.on(\"resizeGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onResizeGroupEnd\", targets, isDrag);\n * });\n */\n\n/**\n * @namespace Scalable\n * @memberof Moveable\n * @description Scalable indicates whether the target's x and y can be scale of transform.\n */\n\nvar Scalable = {\n  name: \"scalable\",\n  ableGroup: \"size\",\n  canPinch: true,\n  props: {\n    scalable: Boolean,\n    throttleScale: Number,\n    renderDirections: String,\n    keepRatio: Boolean\n  },\n  events: {\n    onScaleStart: \"scaleStart\",\n    onBeforeScale: \"beforeScale\",\n    onScale: \"scale\",\n    onScaleEnd: \"scaleEnd\",\n    onScaleGroupStart: \"scaleGroupStart\",\n    onBeforeScaleGroup: \"beforeScaleGroup\",\n    onScaleGroup: \"scaleGroup\",\n    onScaleGroupEnd: \"scaleGroupEnd\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        resizable = _a.resizable,\n        scalable = _a.scalable,\n        edge = _a.edge;\n\n    if (!resizable && scalable) {\n      if (edge) {\n        return renderDiagonalDirections(moveable, React);\n      }\n\n      return renderAllDirections(moveable, React);\n    }\n  },\n  dragControlCondition: directionCondition,\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas,\n        isPinch = e.isPinch,\n        inputEvent = e.inputEvent,\n        parentDirection = e.parentDirection;\n    var direction = parentDirection || (isPinch ? [0, 0] : getDirection(inputEvent.target));\n    var _a = moveable.state,\n        width = _a.width,\n        height = _a.height,\n        targetTransform = _a.targetTransform,\n        target = _a.target,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        pos4 = _a.pos4;\n\n    if (!direction || !target) {\n      return false;\n    }\n\n    if (!isPinch) {\n      setDragStart(moveable, e);\n    }\n\n    datas.datas = {};\n    datas.transform = targetTransform;\n    datas.prevDist = [1, 1];\n    datas.direction = direction;\n    datas.startOffsetWidth = width;\n    datas.startOffsetHeight = height;\n    datas.startValue = [1, 1];\n    var scaleWidth = getDist$1(pos1, pos2);\n    var scaleHeight = getDist$1(pos2, pos4);\n    var isWidth = !direction[0] && !direction[1] || direction[0] || !direction[1];\n    datas.scaleWidth = scaleWidth;\n    datas.scaleHeight = scaleHeight;\n    datas.scaleXRatio = scaleWidth / width;\n    datas.scaleYRatio = scaleHeight / height;\n    setDefaultTransformIndex(e, \"scale\");\n    datas.isWidth = isWidth;\n\n    function setRatio(ratio) {\n      datas.ratio = ratio && isFinite(ratio) ? ratio : 0;\n    }\n\n    datas.startPositions = getAbsolutePosesByState(moveable.state);\n\n    function setFixedDirection(fixedDirection) {\n      datas.fixedDirection = fixedDirection;\n      datas.fixedPosition = getPosByDirection(datas.startPositions, fixedDirection);\n    }\n\n    datas.setFixedDirection = setFixedDirection;\n    setRatio(getDist$1(pos1, pos2) / getDist$1(pos2, pos4));\n    setFixedDirection([-direction[0], -direction[1]]);\n    var params = fillParams(moveable, e, __assign$1(__assign$1({\n      direction: direction,\n      set: function (scale) {\n        datas.startValue = scale;\n      },\n      setRatio: setRatio,\n      setFixedDirection: setFixedDirection\n    }, fillTransformStartEvent(e)), {\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    }));\n    var result = triggerEvent(moveable, \"onScaleStart\", params);\n\n    if (result !== false) {\n      datas.isScale = true;\n      moveable.state.snapRenderInfo = {\n        request: e.isRequest,\n        direction: direction\n      };\n    }\n\n    return datas.isScale ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    resolveTransformEvent(e, \"scale\");\n    var datas = e.datas,\n        parentKeepRatio = e.parentKeepRatio,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        dragClient = e.dragClient,\n        isRequest = e.isRequest;\n    var prevDist = datas.prevDist,\n        direction = datas.direction,\n        startOffsetWidth = datas.startOffsetWidth,\n        startOffsetHeight = datas.startOffsetHeight,\n        isScale = datas.isScale,\n        startValue = datas.startValue,\n        isWidth = datas.isWidth,\n        ratio = datas.ratio;\n\n    if (!isScale) {\n      return false;\n    }\n\n    var props = moveable.props;\n    var throttleScale = props.throttleScale,\n        parentMoveable = props.parentMoveable;\n    var sizeDirection = direction;\n\n    if (!direction[0] && !direction[1]) {\n      sizeDirection = [1, 1];\n    }\n\n    var keepRatio = ratio && (parentKeepRatio != null ? parentKeepRatio : props.keepRatio) || false;\n    var state = moveable.state;\n\n    function getNextScale() {\n      var _a = getOffsetSizeDist(sizeDirection, keepRatio, datas, e),\n          distWidth = _a.distWidth,\n          distHeight = _a.distHeight;\n\n      var scaleX = (startOffsetWidth + distWidth) / startOffsetWidth;\n      var scaleY = (startOffsetHeight + distHeight) / startOffsetHeight;\n      scaleX = sizeDirection[0] || keepRatio ? scaleX * startValue[0] : startValue[0];\n      scaleY = sizeDirection[1] || keepRatio ? scaleY * startValue[1] : startValue[1];\n\n      if (scaleX === 0) {\n        scaleX = (prevDist[0] > 0 ? 1 : -1) * MIN_SCALE;\n      }\n\n      if (scaleY === 0) {\n        scaleY = (prevDist[1] > 0 ? 1 : -1) * MIN_SCALE;\n      }\n\n      return [scaleX, scaleY];\n    }\n\n    var scale = getNextScale();\n\n    if (!isPinch && moveable.props.groupable) {\n      var snapRenderInfo = state.snapRenderInfo || {};\n      var stateDirection = snapRenderInfo.direction;\n\n      if (isArray(stateDirection) && (stateDirection[0] || stateDirection[1])) {\n        state.snapRenderInfo = {\n          direction: direction,\n          request: e.isRequest\n        };\n      }\n    }\n\n    triggerEvent(moveable, \"onBeforeScale\", fillParams(moveable, e, {\n      scale: scale,\n      setFixedDirection: function (nextFixedDirection) {\n        datas.setFixedDirection(nextFixedDirection);\n        scale = getNextScale();\n        return scale;\n      },\n      setScale: function (nextScale) {\n        scale = nextScale;\n      }\n    }, true));\n    var dist = [scale[0] / startValue[0], scale[1] / startValue[1]];\n    var fixedPosition = dragClient;\n    var snapDist = [0, 0];\n\n    if (!dragClient) {\n      if (!parentFlag && isPinch) {\n        fixedPosition = getAbsolutePosition(moveable, [0, 0]);\n      } else {\n        fixedPosition = datas.fixedPosition;\n      }\n    }\n\n    if (!isPinch) {\n      snapDist = checkSnapScale(moveable, dist, direction, isRequest, datas);\n    }\n\n    if (keepRatio) {\n      if (sizeDirection[0] && sizeDirection[1] && snapDist[0] && snapDist[1]) {\n        if (Math.abs(snapDist[0] * startOffsetWidth) > Math.abs(snapDist[1] * startOffsetHeight)) {\n          snapDist[1] = 0;\n        } else {\n          snapDist[0] = 0;\n        }\n      }\n\n      var isNoSnap = !snapDist[0] && !snapDist[1];\n\n      if (isNoSnap) {\n        if (isWidth) {\n          dist[0] = throttle(dist[0] * startValue[0], throttleScale) / startValue[0];\n        } else {\n          dist[1] = throttle(dist[1] * startValue[1], throttleScale) / startValue[1];\n        }\n      }\n\n      if (sizeDirection[0] && !sizeDirection[1] || snapDist[0] && !snapDist[1] || isNoSnap && isWidth) {\n        dist[0] += snapDist[0];\n        var snapHeight = startOffsetWidth * dist[0] * startValue[0] / ratio;\n        dist[1] = snapHeight / startOffsetHeight / startValue[1];\n      } else if (!sizeDirection[0] && sizeDirection[1] || !snapDist[0] && snapDist[1] || isNoSnap && !isWidth) {\n        dist[1] += snapDist[1];\n        var snapWidth = startOffsetHeight * dist[1] * startValue[1] * ratio;\n        dist[0] = snapWidth / startOffsetWidth / startValue[0];\n      }\n    } else {\n      dist[0] += snapDist[0];\n      dist[1] += snapDist[1];\n\n      if (!snapDist[0]) {\n        dist[0] = throttle(dist[0] * startValue[0], throttleScale) / startValue[0];\n      }\n\n      if (!snapDist[1]) {\n        dist[1] = throttle(dist[1] * startValue[1], throttleScale) / startValue[1];\n      }\n    }\n\n    if (dist[0] === 0) {\n      dist[0] = (prevDist[0] > 0 ? 1 : -1) * MIN_SCALE;\n    }\n\n    if (dist[1] === 0) {\n      dist[1] = (prevDist[1] > 0 ? 1 : -1) * MIN_SCALE;\n    }\n\n    var delta = [dist[0] / prevDist[0], dist[1] / prevDist[1]];\n    scale = multiply2(dist, startValue);\n    var inverseDist = getScaleDist(moveable, dist, datas.fixedDirection, fixedPosition, datas);\n    var inverseDelta = minus(inverseDist, datas.prevInverseDist || [0, 0]);\n    datas.prevDist = dist;\n    datas.prevInverseDist = inverseDist;\n\n    if (scale[0] === prevDist[0] && scale[1] === prevDist[1] && inverseDelta.every(function (num) {\n      return !num;\n    }) && !parentMoveable) {\n      return false;\n    }\n\n    var nextTransform = convertTransformFormat(datas, \"scale(\".concat(scale.join(\", \"), \")\"), \"scale(\".concat(dist.join(\", \"), \")\"));\n    var params = fillParams(moveable, e, __assign$1({\n      offsetWidth: startOffsetWidth,\n      offsetHeight: startOffsetHeight,\n      direction: direction,\n      scale: scale,\n      dist: dist,\n      delta: delta,\n      isPinch: !!isPinch\n    }, fillTransformEvent(moveable, nextTransform, inverseDelta, isPinch, e)));\n    triggerEvent(moveable, \"onScale\", params);\n    return params;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas,\n        isDrag = e.isDrag;\n\n    if (!datas.isScale) {\n      return false;\n    }\n\n    datas.isScale = false;\n    triggerEvent(moveable, \"onScaleEnd\", fillEndParams(moveable, e, {}));\n    return isDrag;\n  },\n  dragGroupControlCondition: directionCondition,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    var originalEvents = fillChildEvents(moveable, \"resizable\", e);\n\n    function setDist(child, ev) {\n      var fixedDirection = datas.fixedDirection;\n      var fixedPosition = datas.fixedPosition;\n      var startPositions = ev.datas.startPositions || getAbsolutePosesByState(child.state);\n      var pos = getPosByDirection(startPositions, fixedDirection);\n\n      var _a = calculate(createRotateMatrix(-moveable.rotation / 180 * Math.PI, 3), [pos[0] - fixedPosition[0], pos[1] - fixedPosition[1], 1], 3),\n          originalX = _a[0],\n          originalY = _a[1];\n\n      ev.datas.originalX = originalX;\n      ev.datas.originalY = originalY;\n      return ev;\n    }\n\n    datas.moveableScale = moveable.scale;\n    var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      return setDist(child, ev);\n    });\n\n    var setFixedDirection = function (fixedDirection) {\n      params.setFixedDirection(fixedDirection);\n      events.forEach(function (ev, i) {\n        ev.setFixedDirection(fixedDirection);\n        setDist(ev.moveable, originalEvents[i]);\n      });\n    };\n\n    datas.setFixedDirection = setFixedDirection;\n\n    var nextParams = __assign$1(__assign$1({}, params), {\n      targets: moveable.props.targets,\n      events: events,\n      setFixedDirection: setFixedDirection\n    });\n\n    var result = triggerEvent(moveable, \"onScaleGroupStart\", nextParams);\n    datas.isScale = result !== false;\n    return datas.isScale ? nextParams : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isScale) {\n      return;\n    }\n\n    catchEvent(moveable, \"onBeforeScale\", function (parentEvent) {\n      triggerEvent(moveable, \"onBeforeScaleGroup\", fillParams(moveable, e, __assign$1(__assign$1({}, parentEvent), {\n        targets: moveable.props.targets\n      }), true));\n    });\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return;\n    }\n\n    var moveableScale = datas.moveableScale;\n    moveable.scale = [params.scale[0] * moveableScale[0], params.scale[1] * moveableScale[1]];\n    var keepRatio = moveable.props.keepRatio;\n    var dist = params.dist,\n        scale = params.scale;\n    var fixedPosition = datas.fixedPosition;\n    var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\n      var _a = calculate(createRotateMatrix(moveable.rotation / 180 * Math.PI, 3), [ev.datas.originalX * dist[0], ev.datas.originalY * dist[1], 1], 3),\n          clientX = _a[0],\n          clientY = _a[1];\n\n      return __assign$1(__assign$1({}, ev), {\n        parentDist: null,\n        parentScale: scale,\n        parentKeepRatio: keepRatio,\n        dragClient: plus(fixedPosition, [clientX, clientY])\n      });\n    });\n\n    var nextParams = __assign$1({\n      targets: moveable.props.targets,\n      events: events\n    }, params);\n\n    triggerEvent(moveable, \"onScaleGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isScale) {\n      return;\n    }\n\n    this.dragControlEnd(moveable, e);\n    var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    });\n    triggerEvent(moveable, \"onScaleGroupEnd\", nextParams);\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Scalable#request\n   * @param {Moveable.Scalable.ScalableRequestParam} e - the Scalable's request parameter\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * moveable.request(\"scalable\", { deltaWidth: 10, deltaHeight: 10 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"scalable\");\n   *\n   * // request\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function () {\n    var datas = {};\n    var distWidth = 0;\n    var distHeight = 0;\n    return {\n      isControl: true,\n      requestStart: function (e) {\n        return {\n          datas: datas,\n          parentDirection: e.direction || [1, 1]\n        };\n      },\n      request: function (e) {\n        distWidth += e.deltaWidth;\n        distHeight += e.deltaHeight;\n        return {\n          datas: datas,\n          parentDist: [distWidth, distHeight],\n          parentKeepRatio: e.keepRatio\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether or not target can scaled.\n *\n * @name Moveable.Scalable#scalable\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.scalable = true;\n */\n\n/**\n * throttle of scaleX, scaleY when scale.\n * @name Moveable.Scalable#throttleScale\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleScale = 0.1;\n */\n\n/**\n * Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\n * @name Moveable.Scalable#renderDirections\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     scalable: true,\n *   renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\n * });\n *\n * moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\n */\n\n/**\n * When resize or scale, keeps a ratio of the width, height. (default: false)\n * @name Moveable.Scalable#keepRatio\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     scalable: true,\n * });\n *\n * moveable.keepRatio = true;\n */\n\n/**\n * When the scale starts, the scaleStart event is called.\n * @memberof Moveable.Scalable\n * @event scaleStart\n * @param {Moveable.Scalable.OnScaleStart} - Parameters for the scaleStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scaleStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When scaling, `beforeScale` is called before `scale` occurs. In `beforeScale`, you can get and set the pre-value before scaling.\n * @memberof Moveable.Scalable\n * @event beforeScale\n * @param {Moveable.Scalable.OnBeforeScale} - Parameters for the `beforeScale` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"beforeScale\", ({ setFixedDirection }) => {\n *     if (shiftKey) {\n *        setFixedDirection([0, 0]);\n *     }\n * });\n * moveable.on(\"scale\", ({ target, transform, dist }) => {\n *     target.style.transform = transform;\n * });\n */\n\n/**\n * When scaling, the `scale` event is called.\n * @memberof Moveable.Scalable\n * @event scale\n * @param {Moveable.Scalable.OnScale} - Parameters for the `scale` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scale\", ({ target, transform, dist }) => {\n *     target.style.transform = transform;\n * });\n */\n\n/**\n * When the scale finishes, the `scaleEnd` event is called.\n * @memberof Moveable.Scalable\n * @event scaleEnd\n * @param {Moveable.Scalable.OnScaleEnd} - Parameters for the `scaleEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scaleEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n* When the group scale starts, the `scaleGroupStart` event is called.\n* @memberof Moveable.Scalable\n* @event scaleGroupStart\n* @param {Moveable.Scalable.OnScaleGroupStart} - Parameters for the `scaleGroupStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     scalable: true\n* });\n* moveable.on(\"scaleGroupStart\", ({ targets }) => {\n*     console.log(\"onScaleGroupStart\", targets);\n* });\n*/\n\n/**\n* When the group scale, the `scaleGroup` event is called.\n* @memberof Moveable.Scalable\n* @event scaleGroup\n* @param {Moveable.Scalable.OnScaleGroup} - Parameters for the `scaleGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     scalable: true\n* });\n* moveable.on(\"scaleGroup\", ({ targets, events }) => {\n*     console.log(\"onScaleGroup\", targets);\n*     events.forEach(ev => {\n*         const target = ev.target;\n*         // ev.drag is a drag event that occurs when the group scale.\n*         const left = ev.drag.beforeDist[0];\n*         const top = ev.drag.beforeDist[1];\n*         const scaleX = ev.scale[0];\n*         const scaleY = ev.scale[1];\n*     });\n* });\n*/\n\n/**\n * When the group scale finishes, the `scaleGroupEnd` event is called.\n * @memberof Moveable.Scalable\n * @event scaleGroupEnd\n * @param {Moveable.Scalable.OnScaleGroupEnd} - Parameters for the `scaleGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     scalable: true\n * });\n * moveable.on(\"scaleGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onScaleGroupEnd\", targets, isDrag);\n * });\n */\n\nfunction getMiddleLinePos(pos1, pos2) {\n  return pos1.map(function (pos, i) {\n    return dot(pos, pos2[i], 1, 2);\n  });\n}\n\nfunction getTriangleRad(pos1, pos2, pos3) {\n  // pos1 Rad\n  var rad1 = getRad(pos1, pos2);\n  var rad2 = getRad(pos1, pos3);\n  var rad = rad2 - rad1;\n  return rad >= 0 ? rad : rad + 2 * Math.PI;\n}\n\nfunction isValidPos(poses1, poses2) {\n  var rad1 = getTriangleRad(poses1[0], poses1[1], poses1[2]);\n  var rad2 = getTriangleRad(poses2[0], poses2[1], poses2[2]);\n  var pi = Math.PI;\n\n  if (rad1 >= pi && rad2 <= pi || rad1 <= pi && rad2 >= pi) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * @namespace Moveable.Warpable\n * @description Warpable indicates whether the target can be warped(distorted, bented).\n */\n\n\nvar Warpable = {\n  name: \"warpable\",\n  ableGroup: \"size\",\n  props: {\n    warpable: Boolean,\n    renderDirections: Array\n  },\n  events: {\n    onWarpStart: \"warpStart\",\n    onWarp: \"warp\",\n    onWarpEnd: \"warpEnd\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        resizable = _a.resizable,\n        scalable = _a.scalable,\n        warpable = _a.warpable,\n        zoom = _a.zoom;\n\n    if (resizable || scalable || !warpable) {\n      return [];\n    }\n\n    var _b = moveable.state,\n        pos1 = _b.pos1,\n        pos2 = _b.pos2,\n        pos3 = _b.pos3,\n        pos4 = _b.pos4;\n    var linePosFrom1 = getMiddleLinePos(pos1, pos2);\n    var linePosFrom2 = getMiddleLinePos(pos2, pos1);\n    var linePosFrom3 = getMiddleLinePos(pos1, pos3);\n    var linePosFrom4 = getMiddleLinePos(pos3, pos1);\n    var linePosTo1 = getMiddleLinePos(pos3, pos4);\n    var linePosTo2 = getMiddleLinePos(pos4, pos3);\n    var linePosTo3 = getMiddleLinePos(pos2, pos4);\n    var linePosTo4 = getMiddleLinePos(pos4, pos2);\n    return __spreadArray([React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine1\",\n      style: getLineStyle(linePosFrom1, linePosTo1, zoom)\n    }), React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine2\",\n      style: getLineStyle(linePosFrom2, linePosTo2, zoom)\n    }), React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine3\",\n      style: getLineStyle(linePosFrom3, linePosTo3, zoom)\n    }), React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine4\",\n      style: getLineStyle(linePosFrom4, linePosTo4, zoom)\n    })], renderAllDirections(moveable, React), true);\n  },\n  dragControlCondition: function (moveable, e) {\n    if (e.isRequest) {\n      return false;\n    }\n\n    return hasClass(e.inputEvent.target, prefix(\"direction\"));\n  },\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas,\n        inputEvent = e.inputEvent;\n    var target = moveable.props.target;\n    var inputTarget = inputEvent.target;\n    var direction = getDirection(inputTarget);\n\n    if (!direction || !target) {\n      return false;\n    }\n\n    var state = moveable.state;\n    var transformOrigin = state.transformOrigin,\n        is3d = state.is3d,\n        targetTransform = state.targetTransform,\n        targetMatrix = state.targetMatrix,\n        width = state.width,\n        height = state.height,\n        left = state.left,\n        top = state.top;\n    datas.datas = {};\n    datas.targetTransform = targetTransform;\n    datas.warpTargetMatrix = is3d ? targetMatrix : convertDimension(targetMatrix, 3, 4);\n    datas.targetInverseMatrix = ignoreDimension(invert(datas.warpTargetMatrix, 4), 3, 4);\n    datas.direction = direction;\n    datas.left = left;\n    datas.top = top;\n    datas.poses = [[0, 0], [width, 0], [0, height], [width, height]].map(function (p) {\n      return minus(p, transformOrigin);\n    });\n    datas.nextPoses = datas.poses.map(function (_a) {\n      var x = _a[0],\n          y = _a[1];\n      return calculate(datas.warpTargetMatrix, [x, y, 0, 1], 4);\n    });\n    datas.startValue = createIdentityMatrix(4);\n    datas.prevMatrix = createIdentityMatrix(4);\n    datas.absolutePoses = getAbsolutePosesByState(state);\n    datas.posIndexes = getPosIndexesByDirection(direction);\n    setDragStart(moveable, e);\n    setDefaultTransformIndex(e, \"matrix3d\");\n    state.snapRenderInfo = {\n      request: e.isRequest,\n      direction: direction\n    };\n    var params = fillParams(moveable, e, __assign$1({\n      set: function (matrix) {\n        datas.startValue = matrix;\n      }\n    }, fillTransformStartEvent(e)));\n    var result = triggerEvent(moveable, \"onWarpStart\", params);\n\n    if (result !== false) {\n      datas.isWarp = true;\n    }\n\n    return datas.isWarp;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas,\n        isRequest = e.isRequest;\n    var distX = e.distX,\n        distY = e.distY;\n    var targetInverseMatrix = datas.targetInverseMatrix,\n        prevMatrix = datas.prevMatrix,\n        isWarp = datas.isWarp,\n        startValue = datas.startValue,\n        poses = datas.poses,\n        posIndexes = datas.posIndexes,\n        absolutePoses = datas.absolutePoses;\n\n    if (!isWarp) {\n      return false;\n    }\n\n    resolveTransformEvent(e, \"matrix3d\");\n\n    if (hasGuidelines(moveable, \"warpable\")) {\n      var selectedPoses = posIndexes.map(function (index) {\n        return absolutePoses[index];\n      });\n\n      if (selectedPoses.length > 1) {\n        selectedPoses.push([(selectedPoses[0][0] + selectedPoses[1][0]) / 2, (selectedPoses[0][1] + selectedPoses[1][1]) / 2]);\n      }\n\n      var _a = checkMoveableSnapBounds(moveable, isRequest, {\n        horizontal: selectedPoses.map(function (pos) {\n          return pos[1] + distY;\n        }),\n        vertical: selectedPoses.map(function (pos) {\n          return pos[0] + distX;\n        })\n      }),\n          horizontalSnapInfo = _a.horizontal,\n          verticalSnapInfo = _a.vertical;\n\n      distY -= horizontalSnapInfo.offset;\n      distX -= verticalSnapInfo.offset;\n    }\n\n    var dist = getDragDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    }, true);\n    var nextPoses = datas.nextPoses.slice();\n    posIndexes.forEach(function (index) {\n      nextPoses[index] = plus(nextPoses[index], dist);\n    });\n\n    if (!NEARBY_POS.every(function (nearByPoses) {\n      return isValidPos(nearByPoses.map(function (i) {\n        return poses[i];\n      }), nearByPoses.map(function (i) {\n        return nextPoses[i];\n      }));\n    })) {\n      return false;\n    }\n\n    var h = createWarpMatrix(poses[0], poses[2], poses[1], poses[3], nextPoses[0], nextPoses[2], nextPoses[1], nextPoses[3]);\n\n    if (!h.length) {\n      return false;\n    } // B * A * M\n\n\n    var afterMatrix = multiply(targetInverseMatrix, h, 4); // B * M * A\n\n    var matrix = getTransfromMatrix(datas, afterMatrix, true);\n    var delta = multiply(invert(prevMatrix, 4), matrix, 4);\n    datas.prevMatrix = matrix;\n    var totalMatrix = multiply(startValue, matrix, 4);\n    var nextTransform = convertTransformFormat(datas, \"matrix3d(\".concat(totalMatrix.join(\", \"), \")\"), \"matrix3d(\".concat(matrix.join(\", \"), \")\"));\n    fillOriginalTransform(e, nextTransform);\n    triggerEvent(moveable, \"onWarp\", fillParams(moveable, e, {\n      delta: delta,\n      matrix: totalMatrix,\n      dist: matrix,\n      multiply: multiply,\n      transform: nextTransform\n    }));\n    return true;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas,\n        isDrag = e.isDrag;\n\n    if (!datas.isWarp) {\n      return false;\n    }\n\n    datas.isWarp = false;\n    triggerEvent(moveable, \"onWarpEnd\", fillEndParams(moveable, e, {}));\n    return isDrag;\n  }\n};\n/**\n * Whether or not target can be warped. (default: false)\n * @name Moveable.Warpable#warpable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.warpable = true;\n */\n\n/**\n* Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\n* @name Moveable.Warpable#renderDirections\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     warpable: true,\n*     renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\n* });\n*\n* moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\n*/\n\n/**\n* When the warp starts, the warpStart event is called.\n* @memberof Moveable.Warpable\n* @event warpStart\n* @param {Moveable.Warpable.OnWarpStart} - Parameters for the warpStart event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, { warpable: true });\n* moveable.on(\"warpStart\", ({ target }) => {\n*     console.log(target);\n* });\n*/\n\n/**\n * When warping, the warp event is called.\n * @memberof Moveable.Warpable\n * @event warp\n * @param {Moveable.Warpable.OnWarp} - Parameters for the warp event\n * @example\n * import Moveable from \"moveable\";\n * let matrix = [\n *  1, 0, 0, 0,\n *  0, 1, 0, 0,\n *  0, 0, 1, 0,\n *  0, 0, 0, 1,\n * ];\n * const moveable = new Moveable(document.body, { warpable: true });\n * moveable.on(\"warp\", ({ target, transform, delta, multiply }) => {\n *    // target.style.transform = transform;\n *    matrix = multiply(matrix, delta);\n *    target.style.transform = `matrix3d(${matrix.join(\",\")})`;\n * });\n */\n\n/**\n * When the warp finishes, the warpEnd event is called.\n * @memberof Moveable.Warpable\n * @event warpEnd\n * @param {Moveable.Warpable.OnWarpEnd} - Parameters for the warpEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { warpable: true });\n * moveable.on(\"warpEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\nvar AREA_PIECES =\n/*#__PURE__*/\nprefix(\"area-pieces\");\nvar AREA_PIECE =\n/*#__PURE__*/\nprefix(\"area-piece\");\nvar AVOID =\n/*#__PURE__*/\nprefix(\"avoid\");\n\nfunction restoreStyle(moveable) {\n  var el = moveable.areaElement;\n\n  if (!el) {\n    return;\n  }\n\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height;\n  removeClass(el, AVOID);\n  el.style.cssText += \"left: 0px; top: 0px; width: \".concat(width, \"px; height: \").concat(height, \"px\");\n}\n\nfunction renderPieces(React) {\n  return React.createElement(\"div\", {\n    key: \"area_pieces\",\n    className: AREA_PIECES\n  }, React.createElement(\"div\", {\n    className: AREA_PIECE\n  }), React.createElement(\"div\", {\n    className: AREA_PIECE\n  }), React.createElement(\"div\", {\n    className: AREA_PIECE\n  }), React.createElement(\"div\", {\n    className: AREA_PIECE\n  }));\n}\n\nvar DragArea = {\n  name: \"dragArea\",\n  props: {\n    dragArea: Boolean,\n    passDragArea: Boolean\n  },\n  events: {\n    onClick: \"click\",\n    onClickGroup: \"clickGroup\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        target = _a.target,\n        dragArea = _a.dragArea,\n        groupable = _a.groupable,\n        passDragArea = _a.passDragArea;\n    var _b = moveable.state,\n        width = _b.width,\n        height = _b.height,\n        renderPoses = _b.renderPoses;\n    var className = passDragArea ? prefix(\"area\", \"pass\") : prefix(\"area\");\n\n    if (groupable) {\n      return [React.createElement(\"div\", {\n        key: \"area\",\n        ref: ref(moveable, \"areaElement\"),\n        className: className\n      }), renderPieces(React)];\n    }\n\n    if (!target || !dragArea) {\n      return [];\n    }\n\n    var h = createWarpMatrix([0, 0], [width, 0], [0, height], [width, height], renderPoses[0], renderPoses[1], renderPoses[2], renderPoses[3]);\n    var transform = h.length ? makeMatrixCSS(h, true) : \"none\";\n    return [React.createElement(\"div\", {\n      key: \"area\",\n      ref: ref(moveable, \"areaElement\"),\n      className: className,\n      style: {\n        top: \"0px\",\n        left: \"0px\",\n        width: \"\".concat(width, \"px\"),\n        height: \"\".concat(height, \"px\"),\n        transformOrigin: \"0 0\",\n        transform: transform\n      }\n    }), renderPieces(React)];\n  },\n  dragStart: function (moveable, _a) {\n    var datas = _a.datas,\n        clientX = _a.clientX,\n        clientY = _a.clientY,\n        inputEvent = _a.inputEvent;\n\n    if (!inputEvent) {\n      return false;\n    }\n\n    datas.isDragArea = false;\n    var areaElement = moveable.areaElement;\n    var state = moveable.state;\n    var moveableClientRect = state.moveableClientRect,\n        renderPoses = state.renderPoses,\n        rootMatrix = state.rootMatrix,\n        is3d = state.is3d;\n    var left = moveableClientRect.left,\n        top = moveableClientRect.top;\n\n    var _b = getRect(renderPoses),\n        relativeLeft = _b.left,\n        relativeTop = _b.top,\n        width = _b.width,\n        height = _b.height;\n\n    var n = is3d ? 4 : 3;\n\n    var _c = calculateInversePosition(rootMatrix, [clientX - left, clientY - top], n),\n        posX = _c[0],\n        posY = _c[1];\n\n    posX -= relativeLeft;\n    posY -= relativeTop;\n    var rects = [{\n      left: relativeLeft,\n      top: relativeTop,\n      width: width,\n      height: posY - 10\n    }, {\n      left: relativeLeft,\n      top: relativeTop,\n      width: posX - 10,\n      height: height\n    }, {\n      left: relativeLeft,\n      top: relativeTop + posY + 10,\n      width: width,\n      height: height - posY - 10\n    }, {\n      left: relativeLeft + posX + 10,\n      top: relativeTop,\n      width: width - posX - 10,\n      height: height\n    }];\n    var children = [].slice.call(areaElement.nextElementSibling.children);\n    rects.forEach(function (rect, i) {\n      children[i].style.cssText = \"left: \".concat(rect.left, \"px;top: \").concat(rect.top, \"px; width: \").concat(rect.width, \"px; height: \").concat(rect.height, \"px;\");\n    });\n    addClass(areaElement, AVOID);\n    state.disableNativeEvent = true;\n    return;\n  },\n  drag: function (moveable, _a) {\n    var datas = _a.datas,\n        inputEvent = _a.inputEvent;\n    this.enableNativeEvent(moveable);\n\n    if (!inputEvent) {\n      return false;\n    }\n\n    if (!datas.isDragArea) {\n      datas.isDragArea = true;\n      restoreStyle(moveable);\n    }\n  },\n  dragEnd: function (moveable, e) {\n    this.enableNativeEvent(moveable);\n    var inputEvent = e.inputEvent,\n        datas = e.datas;\n\n    if (!inputEvent) {\n      return false;\n    }\n\n    if (!datas.isDragArea) {\n      restoreStyle(moveable);\n    }\n  },\n  dragGroupStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragGroup: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragGroupEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  unset: function (moveable) {\n    restoreStyle(moveable);\n    moveable.state.disableNativeEvent = false;\n  },\n  enableNativeEvent: function (moveable) {\n    var state = moveable.state;\n\n    if (state.disableNativeEvent) {\n      requestAnimationFrame(function () {\n        state.disableNativeEvent = false;\n      });\n    }\n  }\n};\n/**\n * Add an event to the moveable area instead of the target for stopPropagation. (default: false, true in group)\n * @name Moveable#dragArea\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  dragArea: false,\n * });\n */\n\n/**\n * Set `pointerEvents: none;` css to pass events in dragArea. (default: false)\n * @name Moveable#passDragArea\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  dragArea: false,\n * });\n */\n\nvar Origin = makeAble(\"origin\", {\n  render: function (moveable, React) {\n    var zoom = moveable.props.zoom;\n    var _a = moveable.state,\n        beforeOrigin = _a.beforeOrigin,\n        rotation = _a.rotation;\n    return [React.createElement(\"div\", {\n      className: prefix(\"control\", \"origin\"),\n      style: getControlTransform(rotation, zoom, beforeOrigin),\n      key: \"beforeOrigin\"\n    })];\n  }\n});\n/**\n * Whether or not the origin controlbox will be visible or not (default: true)\n * @name Moveable#origin\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.origin = true;\n */\n\nfunction getDefaultScrollPosition(e) {\n  var scrollContainer = e.scrollContainer;\n  return [scrollContainer.scrollLeft, scrollContainer.scrollTop];\n}\n/**\n * @namespace Moveable.Scrollable\n * @description Whether or not target can be scrolled to the scroll container (default: false)\n */\n\n\nvar Scrollable = {\n  name: \"scrollable\",\n  canPinch: true,\n  props: {\n    scrollable: Boolean,\n    scrollContainer: Object,\n    scrollThreshold: Number,\n    getScrollPosition: Function\n  },\n  events: {\n    onScroll: \"scroll\",\n    onScrollGroup: \"scrollGroup\"\n  },\n  dragRelation: \"strong\",\n  dragStart: function (moveable, e) {\n    var props = moveable.props;\n    var _a = props.scrollContainer,\n        scrollContainer = _a === void 0 ? moveable.getContainer() : _a;\n    var dragScroll = new DragScroll();\n    var scrollContainerElement = getRefTarget(scrollContainer, true);\n    e.datas.dragScroll = dragScroll;\n    var gestoName = e.isControl ? \"controlGesto\" : \"targetGesto\";\n    var targets = e.targets;\n    dragScroll.on(\"scroll\", function (_a) {\n      var container = _a.container,\n          direction = _a.direction;\n      var params = fillParams(moveable, e, {\n        scrollContainer: container,\n        direction: direction\n      });\n      var eventName = targets ? \"onScrollGroup\" : \"onScroll\";\n\n      if (targets) {\n        params.targets = targets;\n      }\n\n      triggerEvent(moveable, eventName, params);\n    }).on(\"move\", function (_a) {\n      var offsetX = _a.offsetX,\n          offsetY = _a.offsetY;\n      moveable[gestoName].scrollBy(offsetX, offsetY, e.inputEvent, false);\n    });\n    dragScroll.dragStart(e, {\n      container: scrollContainerElement\n    });\n  },\n  checkScroll: function (moveable, e) {\n    var dragScroll = e.datas.dragScroll;\n\n    if (!dragScroll) {\n      return;\n    }\n\n    var _a = moveable.props,\n        _b = _a.scrollContainer,\n        scrollContainer = _b === void 0 ? moveable.getContainer() : _b,\n        _c = _a.scrollThreshold,\n        scrollThreshold = _c === void 0 ? 0 : _c,\n        _d = _a.getScrollPosition,\n        getScrollPosition = _d === void 0 ? getDefaultScrollPosition : _d;\n    dragScroll.drag(e, {\n      container: scrollContainer,\n      threshold: scrollThreshold,\n      getScrollPosition: function (ev) {\n        return getScrollPosition({\n          scrollContainer: ev.container,\n          direction: ev.direction\n        });\n      }\n    });\n    return true;\n  },\n  drag: function (moveable, e) {\n    return this.checkScroll(moveable, e);\n  },\n  dragEnd: function (moveable, e) {\n    e.datas.dragScroll.dragEnd();\n    e.datas.dragScroll = null;\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign$1(__assign$1({}, e), {\n      isControl: true\n    }));\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroup: function (moveable, e) {\n    return this.drag(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    return this.dragEnd(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets,\n      isControl: true\n    }));\n  },\n  dragGroupContro: function (moveable, e) {\n    return this.drag(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroupControEnd: function (moveable, e) {\n    return this.dragEnd(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  }\n};\n/**\n * Whether or not target can be scrolled to the scroll container (default: false)\n * @name Moveable.Scrollable#scrollable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   scrollable: true,\n *   scrollContainer: document.body,\n *   scrollThreshold: 0,\n *   getScrollPosition: ({ scrollContainer }) => ([scrollContainer.scrollLeft, scrollContainer.scrollTop]),\n * });\n *\n * moveable.scrollable = true;\n */\n\n/**\n * The container to which scroll is applied (default: container)\n * @name Moveable.Scrollable#scrollContainer\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   scrollable: true,\n *   scrollContainer: document.body,\n *   scrollThreshold: 0,\n *   getScrollPosition: ({ scrollContainer }) => ([scrollContainer.scrollLeft, scrollContainer.scrollTop]),\n * });\n */\n\n/**\n * Expand the range of the scroll check area. (default: 0)\n * @name Moveable.Scrollable#scrollThreshold\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   scrollable: true,\n *   scrollContainer: document.body,\n *   scrollThreshold: 0,\n *   getScrollPosition: ({ scrollContainer }) => ([scrollContainer.scrollLeft, scrollContainer.scrollTop]),\n * });\n */\n\n/**\n * Sets a function to get the scroll position. (default: Function)\n * @name Moveable.Scrollable#getScrollPosition\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   scrollable: true,\n *   scrollContainer: document.body,\n *   scrollThreshold: 0,\n *   getScrollPosition: ({ scrollContainer }) => ([scrollContainer.scrollLeft, scrollContainer.scrollTop]),\n * });\n *\n */\n\n/**\n * When the drag cursor leaves the scrollContainer, the `scroll` event occur to scroll.\n * @memberof Moveable.Scrollable\n * @event scroll\n * @param {Moveable.Scrollable.OnScroll} - Parameters for the `scroll` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"scroll\", ({ scrollContainer, direction }) => {\n *   scrollContainer.scrollLeft += direction[0] * 10;\n *   scrollContainer.scrollTop += direction[1] * 10;\n * });\n */\n\n/**\n * When the drag cursor leaves the scrollContainer, the `scrollGroup` event occur to scroll in group.\n * @memberof Moveable.Scrollable\n * @event scrollGroup\n * @param {Moveable.Scrollable.OnScrollGroup} - Parameters for the `scrollGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"scroll\", ({ scrollContainer, direction }) => {\n *   scrollContainer.scrollLeft += direction[0] * 10;\n *   scrollContainer.scrollTop += direction[1] * 10;\n * });\n */\n\nvar Default = {\n  name: \"\",\n  props: {\n    target: Object,\n    dragTarget: Object,\n    container: Object,\n    portalContainer: Object,\n    rootContainer: Object,\n    useResizeObserver: Boolean,\n    zoom: Number,\n    transformOrigin: Array,\n    edge: Boolean,\n    ables: Array,\n    className: String,\n    pinchThreshold: Number,\n    pinchOutside: Boolean,\n    triggerAblesSimultaneously: Boolean,\n    checkInput: Boolean,\n    cspNonce: String,\n    translateZ: Number,\n    hideDefaultLines: Boolean,\n    props: Object\n  },\n  events: {}\n};\nvar Padding = makeAble(\"padding\", {\n  render: function (moveable, React) {\n    var props = moveable.props;\n\n    if (props.dragArea) {\n      return [];\n    }\n\n    var padding = props.padding || {};\n    var _a = padding.left,\n        left = _a === void 0 ? 0 : _a,\n        _b = padding.top,\n        top = _b === void 0 ? 0 : _b,\n        _c = padding.right,\n        right = _c === void 0 ? 0 : _c,\n        _d = padding.bottom,\n        bottom = _d === void 0 ? 0 : _d;\n    var _e = moveable.state,\n        renderPoses = _e.renderPoses,\n        pos1 = _e.pos1,\n        pos2 = _e.pos2,\n        pos3 = _e.pos3,\n        pos4 = _e.pos4;\n    var poses = [pos1, pos2, pos3, pos4];\n    var paddingDirections = [];\n\n    if (left > 0) {\n      paddingDirections.push([0, 2]);\n    }\n\n    if (top > 0) {\n      paddingDirections.push([0, 1]);\n    }\n\n    if (right > 0) {\n      paddingDirections.push([1, 3]);\n    }\n\n    if (bottom > 0) {\n      paddingDirections.push([2, 3]);\n    }\n\n    return paddingDirections.map(function (_a, i) {\n      var dir1 = _a[0],\n          dir2 = _a[1];\n      var paddingPos1 = poses[dir1];\n      var paddingPos2 = poses[dir2];\n      var paddingPos3 = renderPoses[dir1];\n      var paddingPos4 = renderPoses[dir2];\n      var h = createWarpMatrix([0, 0], [100, 0], [0, 100], [100, 100], paddingPos1, paddingPos2, paddingPos3, paddingPos4);\n\n      if (!h.length) {\n        return undefined;\n      }\n\n      return React.createElement(\"div\", {\n        key: \"padding\".concat(i),\n        className: prefix(\"padding\"),\n        style: {\n          transform: makeMatrixCSS(h, true)\n        }\n      });\n    });\n  }\n});\n/**\n * Add padding around the target to increase the drag area.\n * @name Moveable#padding\n * @default null\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  target: document.querySelector(\".target\"),\n *  padding: { left: 0, top: 0, right: 0, bottom: 0 },\n * });\n * moveable.padding = { left: 10, top: 10, right: 10, bottom: 10 },\n * moveable.updateRect();\n */\n\nvar RADIUS_DIRECTIONS = [\"nw\", \"ne\", \"se\", \"sw\"];\n\nfunction calculateRatio(values, size) {\n  var sumSize = values[0] + values[1];\n  var sumRatio = sumSize > size ? size / sumSize : 1;\n  values[0] *= sumRatio;\n  values[1] = size - values[1] * sumRatio;\n  return values;\n}\n\nvar HORIZONTAL_RADIUS_ORDER = [1, 2, 5, 6];\nvar VERTICAL_RADIUS_ORDER = [0, 3, 4, 7];\nvar HORIZONTAL_RADIUS_DIRECTIONS = [1, -1, -1, 1];\nvar VERTICAL_RADIUS_DIRECTIONS = [1, 1, -1, -1];\n\nfunction getRadiusStyles(poses, controlPoses, isRelative, width, height, left, top, right, bottom) {\n  if (left === void 0) {\n    left = 0;\n  }\n\n  if (top === void 0) {\n    top = 0;\n  }\n\n  if (right === void 0) {\n    right = width;\n  }\n\n  if (bottom === void 0) {\n    bottom = height;\n  }\n\n  var clipStyles = [];\n  var isVertical = false;\n  var raws = poses.map(function (pos, i) {\n    var _a = controlPoses[i],\n        horizontal = _a.horizontal,\n        vertical = _a.vertical;\n\n    if (vertical && !isVertical) {\n      isVertical = true;\n      clipStyles.push(\"/\");\n    }\n\n    if (isVertical) {\n      var rawPos = Math.max(0, vertical === 1 ? pos[1] - top : bottom - pos[1]);\n      clipStyles.push(convertCSSSize(rawPos, height, isRelative));\n      return rawPos;\n    } else {\n      var rawPos = Math.max(0, horizontal === 1 ? pos[0] - left : right - pos[0]);\n      clipStyles.push(convertCSSSize(rawPos, width, isRelative));\n      return rawPos;\n    }\n  });\n  return {\n    styles: clipStyles,\n    raws: raws\n  };\n}\n\nfunction getRadiusRange(controlPoses) {\n  // [start, length]\n  var horizontalRange = [0, 0];\n  var verticalRange = [0, 0];\n  var length = controlPoses.length;\n\n  for (var i = 0; i < length; ++i) {\n    var clipPose = controlPoses[i];\n\n    if (!clipPose.sub) {\n      continue;\n    }\n\n    if (clipPose.horizontal) {\n      if (horizontalRange[1] === 0) {\n        horizontalRange[0] = i;\n      }\n\n      horizontalRange[1] = i - horizontalRange[0] + 1;\n      verticalRange[0] = i + 1;\n    }\n\n    if (clipPose.vertical) {\n      if (verticalRange[1] === 0) {\n        verticalRange[0] = i;\n      }\n\n      verticalRange[1] = i - verticalRange[0] + 1;\n    }\n  }\n\n  return {\n    horizontalRange: horizontalRange,\n    verticalRange: verticalRange\n  };\n}\n\nfunction getRadiusValues(values, width, height, left, top, minCounts) {\n  var _a, _b, _c, _d;\n\n  if (minCounts === void 0) {\n    minCounts = [0, 0];\n  }\n\n  var splitIndex = values.indexOf(\"/\");\n  var splitLength = (splitIndex > -1 ? values.slice(0, splitIndex) : values).length;\n  var horizontalValues = values.slice(0, splitLength);\n  var verticalValues = values.slice(splitLength + 1);\n  var _e = horizontalValues[0],\n      nwValue = _e === void 0 ? \"0px\" : _e,\n      _f = horizontalValues[1],\n      neValue = _f === void 0 ? nwValue : _f,\n      _g = horizontalValues[2],\n      seValue = _g === void 0 ? nwValue : _g,\n      _h = horizontalValues[3],\n      swValue = _h === void 0 ? neValue : _h;\n  var _j = verticalValues[0],\n      wnValue = _j === void 0 ? nwValue : _j,\n      _k = verticalValues[1],\n      enValue = _k === void 0 ? wnValue : _k,\n      _l = verticalValues[2],\n      esValue = _l === void 0 ? wnValue : _l,\n      _m = verticalValues[3],\n      wsValue = _m === void 0 ? enValue : _m;\n  var horizontalRawPoses = [nwValue, neValue, seValue, swValue].map(function (pos) {\n    return convertUnitSize(pos, width);\n  });\n  var verticalRawPoses = [wnValue, enValue, esValue, wsValue].map(function (pos) {\n    return convertUnitSize(pos, height);\n  });\n  var horizontalPoses = horizontalRawPoses.slice();\n  var verticalPoses = verticalRawPoses.slice();\n  _a = calculateRatio([horizontalPoses[0], horizontalPoses[1]], width), horizontalPoses[0] = _a[0], horizontalPoses[1] = _a[1];\n  _b = calculateRatio([horizontalPoses[3], horizontalPoses[2]], width), horizontalPoses[3] = _b[0], horizontalPoses[2] = _b[1];\n  _c = calculateRatio([verticalPoses[0], verticalPoses[3]], height), verticalPoses[0] = _c[0], verticalPoses[3] = _c[1];\n  _d = calculateRatio([verticalPoses[1], verticalPoses[2]], height), verticalPoses[1] = _d[0], verticalPoses[2] = _d[1];\n  var nextHorizontalPoses = horizontalPoses.slice(0, Math.max(minCounts[0], horizontalValues.length));\n  var nextVerticalPoses = verticalPoses.slice(0, Math.max(minCounts[1], verticalValues.length));\n  return __spreadArray(__spreadArray([], nextHorizontalPoses.map(function (pos, i) {\n    var direction = RADIUS_DIRECTIONS[i];\n    return {\n      horizontal: HORIZONTAL_RADIUS_DIRECTIONS[i],\n      vertical: 0,\n      pos: [left + pos, top + (VERTICAL_RADIUS_DIRECTIONS[i] === -1 ? height : 0)],\n      sub: true,\n      raw: horizontalRawPoses[i],\n      direction: direction\n    };\n  }), true), nextVerticalPoses.map(function (pos, i) {\n    var direction = RADIUS_DIRECTIONS[i];\n    return {\n      horizontal: 0,\n      vertical: VERTICAL_RADIUS_DIRECTIONS[i],\n      pos: [left + (HORIZONTAL_RADIUS_DIRECTIONS[i] === -1 ? width : 0), top + pos],\n      sub: true,\n      raw: verticalRawPoses[i],\n      direction: direction\n    };\n  }), true);\n}\n\nfunction removeRadiusPos(controlPoses, poses, index, startIndex, length) {\n  if (length === void 0) {\n    length = poses.length;\n  }\n\n  var _a = getRadiusRange(controlPoses.slice(startIndex)),\n      horizontalRange = _a.horizontalRange,\n      verticalRange = _a.verticalRange;\n\n  var radiuslIndex = index - startIndex;\n  var deleteCount = 0;\n\n  if (radiuslIndex === 0) {\n    deleteCount = length;\n  } else if (radiuslIndex > 0 && radiuslIndex < horizontalRange[1]) {\n    deleteCount = horizontalRange[1] - radiuslIndex;\n  } else if (radiuslIndex >= verticalRange[0]) {\n    deleteCount = verticalRange[0] + verticalRange[1] - radiuslIndex;\n  } else {\n    return;\n  }\n\n  controlPoses.splice(index, deleteCount);\n  poses.splice(index, deleteCount);\n}\n\nfunction addRadiusPos(controlPoses, poses, startIndex, horizontalIndex, verticalIndex, distX, distY, right, bottom, left, top) {\n  if (left === void 0) {\n    left = 0;\n  }\n\n  if (top === void 0) {\n    top = 0;\n  }\n\n  var _a = getRadiusRange(controlPoses.slice(startIndex)),\n      horizontalRange = _a.horizontalRange,\n      verticalRange = _a.verticalRange;\n\n  if (horizontalIndex > -1) {\n    var radiusX = HORIZONTAL_RADIUS_DIRECTIONS[horizontalIndex] === 1 ? distX - left : right - distX;\n\n    for (var i = horizontalRange[1]; i <= horizontalIndex; ++i) {\n      var y = VERTICAL_RADIUS_DIRECTIONS[i] === 1 ? top : bottom;\n      var x = 0;\n\n      if (horizontalIndex === i) {\n        x = distX;\n      } else if (i === 0) {\n        x = left + radiusX;\n      } else if (HORIZONTAL_RADIUS_DIRECTIONS[i] === -1) {\n        x = right - (poses[startIndex][0] - left);\n      }\n\n      controlPoses.splice(startIndex + i, 0, {\n        horizontal: HORIZONTAL_RADIUS_DIRECTIONS[i],\n        vertical: 0,\n        pos: [x, y]\n      });\n      poses.splice(startIndex + i, 0, [x, y]);\n\n      if (i === 0) {\n        break;\n      }\n    }\n  } else if (verticalIndex > -1) {\n    var radiusY = VERTICAL_RADIUS_DIRECTIONS[verticalIndex] === 1 ? distY - top : bottom - distY;\n\n    if (horizontalRange[1] === 0 && verticalRange[1] === 0) {\n      var pos = [left + radiusY, top];\n      controlPoses.push({\n        horizontal: HORIZONTAL_RADIUS_DIRECTIONS[0],\n        vertical: 0,\n        pos: pos\n      });\n      poses.push(pos);\n    }\n\n    var startVerticalIndex = verticalRange[0];\n\n    for (var i = verticalRange[1]; i <= verticalIndex; ++i) {\n      var x = HORIZONTAL_RADIUS_DIRECTIONS[i] === 1 ? left : right;\n      var y = 0;\n\n      if (verticalIndex === i) {\n        y = distY;\n      } else if (i === 0) {\n        y = top + radiusY;\n      } else if (VERTICAL_RADIUS_DIRECTIONS[i] === 1) {\n        y = poses[startIndex + startVerticalIndex][1];\n      } else if (VERTICAL_RADIUS_DIRECTIONS[i] === -1) {\n        y = bottom - (poses[startIndex + startVerticalIndex][1] - top);\n      }\n\n      controlPoses.push({\n        horizontal: 0,\n        vertical: VERTICAL_RADIUS_DIRECTIONS[i],\n        pos: [x, y]\n      });\n      poses.push([x, y]);\n\n      if (i === 0) {\n        break;\n      }\n    }\n  }\n}\n\nfunction splitRadiusPoses(controlPoses, raws) {\n  if (raws === void 0) {\n    raws = controlPoses.map(function (pos) {\n      return pos.raw;\n    });\n  }\n\n  var horizontals = controlPoses.map(function (pos, i) {\n    return pos.horizontal ? raws[i] : null;\n  }).filter(function (pos) {\n    return pos != null;\n  });\n  var verticals = controlPoses.map(function (pos, i) {\n    return pos.vertical ? raws[i] : null;\n  }).filter(function (pos) {\n    return pos != null;\n  });\n  return {\n    horizontals: horizontals,\n    verticals: verticals\n  };\n}\n\nvar CLIP_DIRECTIONS = [[0, -1, \"n\"], [1, 0, \"e\"]];\nvar CLIP_RECT_DIRECTIONS = [[-1, -1, \"nw\"], [0, -1, \"n\"], [1, -1, \"ne\"], [1, 0, \"e\"], [1, 1, \"se\"], [0, 1, \"s\"], [-1, 1, \"sw\"], [-1, 0, \"w\"]]; // 1 2 5 6 0 3 4 7\n// 0 1 2 3 4 5 6 7\n\nfunction getClipStyles(moveable, clipPath, poses) {\n  var clipRelative = moveable.props.clipRelative;\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height;\n  var _b = clipPath,\n      clipType = _b.type,\n      clipPoses = _b.poses;\n  var isRect = clipType === \"rect\";\n  var isCircle = clipType === \"circle\";\n\n  if (clipType === \"polygon\") {\n    return poses.map(function (pos) {\n      return \"\".concat(convertCSSSize(pos[0], width, clipRelative), \" \").concat(convertCSSSize(pos[1], height, clipRelative));\n    });\n  } else if (isRect || clipType === \"inset\") {\n    var top = poses[1][1];\n    var right = poses[3][0];\n    var left = poses[7][0];\n    var bottom = poses[5][1];\n\n    if (isRect) {\n      return [top, right, bottom, left].map(function (pos) {\n        return \"\".concat(pos, \"px\");\n      });\n    }\n\n    var clipStyles = [top, width - right, height - bottom, left].map(function (pos, i) {\n      return convertCSSSize(pos, i % 2 ? width : height, clipRelative);\n    });\n\n    if (poses.length > 8) {\n      var _c = minus(poses[4], poses[0]),\n          subWidth = _c[0],\n          subHeight = _c[1];\n\n      clipStyles.push.apply(clipStyles, __spreadArray([\"round\"], getRadiusStyles(poses.slice(8), clipPoses.slice(8), clipRelative, subWidth, subHeight, left, top, right, bottom).styles, false));\n    }\n\n    return clipStyles;\n  } else if (isCircle || clipType === \"ellipse\") {\n    var center = poses[0];\n    var ry = convertCSSSize(Math.abs(poses[1][1] - center[1]), isCircle ? Math.sqrt((width * width + height * height) / 2) : height, clipRelative);\n    var clipStyles = isCircle ? [ry] : [convertCSSSize(Math.abs(poses[2][0] - center[0]), width, clipRelative), ry];\n    clipStyles.push(\"at\", convertCSSSize(center[0], width, clipRelative), convertCSSSize(center[1], height, clipRelative));\n    return clipStyles;\n  }\n}\n\nfunction getRectPoses(top, right, bottom, left) {\n  var xs = [left, (left + right) / 2, right];\n  var ys = [top, (top + bottom) / 2, bottom];\n  return CLIP_RECT_DIRECTIONS.map(function (_a) {\n    var dirx = _a[0],\n        diry = _a[1],\n        dir = _a[2];\n    var x = xs[dirx + 1];\n    var y = ys[diry + 1];\n    return {\n      vertical: Math.abs(diry),\n      horizontal: Math.abs(dirx),\n      direction: dir,\n      pos: [x, y]\n    };\n  });\n}\n\nfunction getClipPath(target, width, height, defaultClip, customClip) {\n  var _a, _b, _c, _d, _e, _f, _g;\n\n  var clipText = customClip;\n\n  if (!clipText) {\n    var style = getComputedStyle(target);\n    var clipPath = style.clipPath;\n    clipText = clipPath !== \"none\" ? clipPath : style.clip;\n  }\n\n  if (!clipText || clipText === \"none\" || clipText === \"auto\") {\n    clipText = defaultClip;\n\n    if (!clipText) {\n      return;\n    }\n  }\n\n  var _h = splitBracket(clipText),\n      _j = _h.prefix,\n      clipPrefix = _j === void 0 ? clipText : _j,\n      _k = _h.value,\n      value = _k === void 0 ? \"\" : _k;\n\n  var isCircle = clipPrefix === \"circle\";\n  var splitter = \" \";\n\n  if (clipPrefix === \"polygon\") {\n    var values = splitComma(value || \"0% 0%, 100% 0%, 100% 100%, 0% 100%\");\n    splitter = \",\";\n    var poses = values.map(function (pos) {\n      var _a = pos.split(\" \"),\n          xPos = _a[0],\n          yPos = _a[1];\n\n      return {\n        vertical: 1,\n        horizontal: 1,\n        pos: [convertUnitSize(xPos, width), convertUnitSize(yPos, height)]\n      };\n    });\n    return {\n      type: clipPrefix,\n      clipText: clipText,\n      poses: poses,\n      splitter: splitter\n    };\n  } else if (isCircle || clipPrefix === \"ellipse\") {\n    var xPos = \"\";\n    var yPos = \"\";\n    var radiusX_1 = 0;\n    var radiusY_1 = 0;\n    var values = splitSpace(value);\n\n    if (isCircle) {\n      var radius = \"\";\n      _a = values[0], radius = _a === void 0 ? \"50%\" : _a, _b = values[2], xPos = _b === void 0 ? \"50%\" : _b, _c = values[3], yPos = _c === void 0 ? \"50%\" : _c;\n      radiusX_1 = convertUnitSize(radius, Math.sqrt((width * width + height * height) / 2));\n      radiusY_1 = radiusX_1;\n    } else {\n      var xRadius = \"\";\n      var yRadius = \"\";\n      _d = values[0], xRadius = _d === void 0 ? \"50%\" : _d, _e = values[1], yRadius = _e === void 0 ? \"50%\" : _e, _f = values[3], xPos = _f === void 0 ? \"50%\" : _f, _g = values[4], yPos = _g === void 0 ? \"50%\" : _g;\n      radiusX_1 = convertUnitSize(xRadius, width);\n      radiusY_1 = convertUnitSize(yRadius, height);\n    }\n\n    var centerPos_1 = [convertUnitSize(xPos, width), convertUnitSize(yPos, height)];\n\n    var poses = __spreadArray([{\n      vertical: 1,\n      horizontal: 1,\n      pos: centerPos_1,\n      direction: \"nesw\"\n    }], CLIP_DIRECTIONS.slice(0, isCircle ? 1 : 2).map(function (dir) {\n      return {\n        vertical: Math.abs(dir[1]),\n        horizontal: dir[0],\n        direction: dir[2],\n        sub: true,\n        pos: [centerPos_1[0] + dir[0] * radiusX_1, centerPos_1[1] + dir[1] * radiusY_1]\n      };\n    }), true);\n\n    return {\n      type: clipPrefix,\n      clipText: clipText,\n      radiusX: radiusX_1,\n      radiusY: radiusY_1,\n      left: centerPos_1[0] - radiusX_1,\n      top: centerPos_1[1] - radiusY_1,\n      poses: poses,\n      splitter: splitter\n    };\n  } else if (clipPrefix === \"inset\") {\n    var values = splitSpace(value || \"0 0 0 0\");\n    var roundIndex = values.indexOf(\"round\");\n    var rectLength = (roundIndex > -1 ? values.slice(0, roundIndex) : values).length;\n    var radiusValues = values.slice(rectLength + 1);\n\n    var _l = values.slice(0, rectLength),\n        topValue = _l[0],\n        _m = _l[1],\n        rightValue = _m === void 0 ? topValue : _m,\n        _o = _l[2],\n        bottomValue = _o === void 0 ? topValue : _o,\n        _p = _l[3],\n        leftValue = _p === void 0 ? rightValue : _p;\n\n    var _q = [topValue, bottomValue].map(function (pos) {\n      return convertUnitSize(pos, height);\n    }),\n        top = _q[0],\n        bottom = _q[1];\n\n    var _r = [leftValue, rightValue].map(function (pos) {\n      return convertUnitSize(pos, width);\n    }),\n        left = _r[0],\n        right = _r[1];\n\n    var nextRight = width - right;\n    var nextBottom = height - bottom;\n    var radiusPoses = getRadiusValues(radiusValues, nextRight - left, nextBottom - top, left, top);\n\n    var poses = __spreadArray(__spreadArray([], getRectPoses(top, nextRight, nextBottom, left), true), radiusPoses, true);\n\n    return {\n      type: \"inset\",\n      clipText: clipText,\n      poses: poses,\n      top: top,\n      left: left,\n      right: nextRight,\n      bottom: nextBottom,\n      radius: radiusValues,\n      splitter: splitter\n    };\n  } else if (clipPrefix === \"rect\") {\n    // top right bottom left\n    var values = splitComma(value || \"0px, \".concat(width, \"px, \").concat(height, \"px, 0px\"));\n    splitter = \",\";\n\n    var _s = values.map(function (pos) {\n      var posValue = splitUnit(pos).value;\n      return posValue;\n    }),\n        top = _s[0],\n        right = _s[1],\n        bottom = _s[2],\n        left = _s[3];\n\n    var poses = getRectPoses(top, right, bottom, left);\n    return {\n      type: \"rect\",\n      clipText: clipText,\n      poses: poses,\n      top: top,\n      right: right,\n      bottom: bottom,\n      left: left,\n      values: values,\n      splitter: splitter\n    };\n  }\n\n  return;\n}\n\nfunction addClipPath(moveable, e) {\n  var _a = calculatePointerDist(moveable, e),\n      distX = _a[0],\n      distY = _a[1];\n\n  var _b = e.datas,\n      clipPath = _b.clipPath,\n      index = _b.index;\n  var _c = clipPath,\n      clipType = _c.type,\n      clipPoses = _c.poses,\n      splitter = _c.splitter;\n  var poses = clipPoses.map(function (pos) {\n    return pos.pos;\n  });\n\n  if (clipType === \"polygon\") {\n    poses.splice(index, 0, [distX, distY]);\n  } else if (clipType === \"inset\") {\n    var horizontalIndex = HORIZONTAL_RADIUS_ORDER.indexOf(index);\n    var verticalIndex = VERTICAL_RADIUS_ORDER.indexOf(index);\n    var length = clipPoses.length;\n    addRadiusPos(clipPoses, poses, 8, horizontalIndex, verticalIndex, distX, distY, poses[4][0], poses[4][1], poses[0][0], poses[0][1]);\n\n    if (length === clipPoses.length) {\n      return;\n    }\n  } else {\n    return;\n  }\n\n  var clipStyles = getClipStyles(moveable, clipPath, poses);\n  triggerEvent(moveable, \"onClip\", fillParams(moveable, e, {\n    clipEventType: \"added\",\n    clipType: clipType,\n    poses: poses,\n    clipStyles: clipStyles,\n    clipStyle: \"\".concat(clipType, \"(\").concat(clipStyles.join(splitter), \")\"),\n    distX: 0,\n    distY: 0\n  }));\n}\n\nfunction removeClipPath(moveable, e) {\n  var _a = e.datas,\n      clipPath = _a.clipPath,\n      index = _a.index;\n  var _b = clipPath,\n      clipType = _b.type,\n      clipPoses = _b.poses,\n      splitter = _b.splitter;\n  var poses = clipPoses.map(function (pos) {\n    return pos.pos;\n  });\n  var length = poses.length;\n\n  if (clipType === \"polygon\") {\n    clipPoses.splice(index, 1);\n    poses.splice(index, 1);\n  } else if (clipType === \"inset\") {\n    if (index < 8) {\n      return;\n    }\n\n    removeRadiusPos(clipPoses, poses, index, 8, length);\n\n    if (length === clipPoses.length) {\n      return;\n    }\n  } else {\n    return;\n  }\n\n  var clipStyles = getClipStyles(moveable, clipPath, poses);\n  triggerEvent(moveable, \"onClip\", fillParams(moveable, e, {\n    clipEventType: \"removed\",\n    clipType: clipType,\n    poses: poses,\n    clipStyles: clipStyles,\n    clipStyle: \"\".concat(clipType, \"(\").concat(clipStyles.join(splitter), \")\"),\n    distX: 0,\n    distY: 0\n  }));\n}\n/**\n * @namespace Moveable.Clippable\n * @description Whether to clip the target.\n */\n\n\nvar Clippable = {\n  name: \"clippable\",\n  props: {\n    clippable: Boolean,\n    defaultClipPath: String,\n    customClipPath: String,\n    clipRelative: Boolean,\n    clipArea: Boolean,\n    dragWithClip: Boolean,\n    clipTargetBounds: Boolean,\n    clipVerticalGuidelines: Array,\n    clipHorizontalGuidelines: Array,\n    clipSnapThreshold: Boolean\n  },\n  events: {\n    onClipStart: \"clipStart\",\n    onClip: \"clip\",\n    onClipEnd: \"clipEnd\"\n  },\n  css: [\".control.clip-control {\\n    background: #6d6;\\n    cursor: pointer;\\n}\\n.control.clip-control.clip-radius {\\n    background: #d66;\\n}\\n.line.clip-line {\\n    background: #6e6;\\n    cursor: move;\\n    z-index: 1;\\n}\\n.clip-area {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n.clip-ellipse {\\n    position: absolute;\\n    cursor: move;\\n    border: 1px solid #6d6;\\n    border: var(--zoompx) solid #6d6;\\n    border-radius: 50%;\\n    transform-origin: 0px 0px;\\n}\", \":host {\\n    --bounds-color: #d66;\\n}\", \".guideline {\\n    pointer-events: none;\\n    z-index: 2;\\n}\", \".line.guideline.bounds {\\n    background: #d66;\\n    background: var(--bounds-color);\\n}\"],\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        customClipPath = _a.customClipPath,\n        defaultClipPath = _a.defaultClipPath,\n        clipArea = _a.clipArea,\n        zoom = _a.zoom;\n    var _b = moveable.state,\n        target = _b.target,\n        width = _b.width,\n        height = _b.height,\n        allMatrix = _b.allMatrix,\n        is3d = _b.is3d,\n        left = _b.left,\n        top = _b.top,\n        pos1 = _b.pos1,\n        pos2 = _b.pos2,\n        pos3 = _b.pos3,\n        pos4 = _b.pos4,\n        clipPathState = _b.clipPathState,\n        snapBoundInfos = _b.snapBoundInfos,\n        rotationRad = _b.rotation;\n\n    if (!target) {\n      return [];\n    }\n\n    var clipPath = getClipPath(target, width, height, defaultClipPath || \"inset\", clipPathState || customClipPath);\n\n    if (!clipPath) {\n      return [];\n    }\n\n    var n = is3d ? 4 : 3;\n    var type = clipPath.type;\n    var clipPoses = clipPath.poses;\n    var poses = clipPoses.map(function (pos) {\n      // return [x, y];\n      var calculatedPos = calculatePosition(allMatrix, pos.pos, n);\n      return [calculatedPos[0] - left, calculatedPos[1] - top];\n    });\n    var controls = [];\n    var lines = [];\n    var isRect = type === \"rect\";\n    var isInset = type === \"inset\";\n    var isPolygon = type === \"polygon\";\n\n    if (isRect || isInset || isPolygon) {\n      var linePoses_1 = isInset ? poses.slice(0, 8) : poses;\n      lines = linePoses_1.map(function (to, i) {\n        var from = i === 0 ? linePoses_1[linePoses_1.length - 1] : linePoses_1[i - 1];\n        var rad = getRad(from, to);\n        var dist = getDiagonalSize(from, to);\n        return React.createElement(\"div\", {\n          key: \"clipLine\".concat(i),\n          className: prefix(\"line\", \"clip-line\", \"snap-control\"),\n          \"data-clip-index\": i,\n          style: {\n            width: \"\".concat(dist, \"px\"),\n            transform: \"translate(\".concat(from[0], \"px, \").concat(from[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\")\n          }\n        });\n      });\n    }\n\n    controls = poses.map(function (pos, i) {\n      return React.createElement(\"div\", {\n        key: \"clipControl\".concat(i),\n        className: prefix(\"control\", \"clip-control\", \"snap-control\"),\n        \"data-clip-index\": i,\n        style: {\n          transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rotationRad, \"rad) scale(\").concat(zoom, \")\")\n        }\n      });\n    });\n\n    if (isInset) {\n      controls.push.apply(controls, poses.slice(8).map(function (pos, i) {\n        return React.createElement(\"div\", {\n          key: \"clipRadiusControl\".concat(i),\n          className: prefix(\"control\", \"clip-control\", \"clip-radius\", \"snap-control\"),\n          \"data-clip-index\": 8 + i,\n          style: {\n            transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rotationRad, \"rad) scale(\").concat(zoom, \")\")\n          }\n        });\n      }));\n    }\n\n    if (type === \"circle\" || type === \"ellipse\") {\n      var clipLeft = clipPath.left,\n          clipTop = clipPath.top,\n          radiusX = clipPath.radiusX,\n          radiusY = clipPath.radiusY;\n\n      var _c = minus(calculatePosition(allMatrix, [clipLeft, clipTop], n), calculatePosition(allMatrix, [0, 0], n)),\n          distLeft = _c[0],\n          distTop = _c[1];\n\n      var ellipseClipPath = \"none\";\n\n      if (!clipArea) {\n        var piece = Math.max(10, radiusX / 5, radiusY / 5);\n        var areaPoses = [];\n\n        for (var i = 0; i <= piece; ++i) {\n          var rad = Math.PI * 2 / piece * i;\n          areaPoses.push([radiusX + (radiusX - zoom) * Math.cos(rad), radiusY + (radiusY - zoom) * Math.sin(rad)]);\n        }\n\n        areaPoses.push([radiusX, -2]);\n        areaPoses.push([-2, -2]);\n        areaPoses.push([-2, radiusY * 2 + 2]);\n        areaPoses.push([radiusX * 2 + 2, radiusY * 2 + 2]);\n        areaPoses.push([radiusX * 2 + 2, -2]);\n        areaPoses.push([radiusX, -2]);\n        ellipseClipPath = \"polygon(\".concat(areaPoses.map(function (pos) {\n          return \"\".concat(pos[0], \"px \").concat(pos[1], \"px\");\n        }).join(\", \"), \")\");\n      }\n\n      controls.push(React.createElement(\"div\", {\n        key: \"clipEllipse\",\n        className: prefix(\"clip-ellipse\", \"snap-control\"),\n        style: {\n          width: \"\".concat(radiusX * 2, \"px\"),\n          height: \"\".concat(radiusY * 2, \"px\"),\n          clipPath: ellipseClipPath,\n          transform: \"translate(\".concat(-left + distLeft, \"px, \").concat(-top + distTop, \"px) \").concat(makeMatrixCSS(allMatrix))\n        }\n      }));\n    }\n\n    if (clipArea) {\n      var _d = getRect(__spreadArray([pos1, pos2, pos3, pos4], poses, true)),\n          allWidth = _d.width,\n          allHeight = _d.height,\n          allLeft_1 = _d.left,\n          allTop_1 = _d.top;\n\n      if (isPolygon || isRect || isInset) {\n        var areaPoses = isInset ? poses.slice(0, 8) : poses;\n        controls.push(React.createElement(\"div\", {\n          key: \"clipArea\",\n          className: prefix(\"clip-area\", \"snap-control\"),\n          style: {\n            width: \"\".concat(allWidth, \"px\"),\n            height: \"\".concat(allHeight, \"px\"),\n            transform: \"translate(\".concat(allLeft_1, \"px, \").concat(allTop_1, \"px)\"),\n            clipPath: \"polygon(\".concat(areaPoses.map(function (pos) {\n              return \"\".concat(pos[0] - allLeft_1, \"px \").concat(pos[1] - allTop_1, \"px\");\n            }).join(\", \"), \")\")\n          }\n        }));\n      }\n    }\n\n    if (snapBoundInfos) {\n      [\"vertical\", \"horizontal\"].forEach(function (directionType) {\n        var info = snapBoundInfos[directionType];\n        var isHorizontal = directionType === \"horizontal\";\n\n        if (info.isSnap) {\n          lines.push.apply(lines, info.snap.posInfos.map(function (_a, i) {\n            var pos = _a.pos;\n            var snapPos1 = minus(calculatePosition(allMatrix, isHorizontal ? [0, pos] : [pos, 0], n), [left, top]);\n            var snapPos2 = minus(calculatePosition(allMatrix, isHorizontal ? [width, pos] : [pos, height], n), [left, top]);\n            return renderLine(React, \"\", snapPos1, snapPos2, zoom, \"clip\".concat(directionType, \"snap\").concat(i), \"guideline\");\n          }));\n        }\n\n        if (info.isBound) {\n          lines.push.apply(lines, info.bounds.map(function (_a, i) {\n            var pos = _a.pos;\n            var snapPos1 = minus(calculatePosition(allMatrix, isHorizontal ? [0, pos] : [pos, 0], n), [left, top]);\n            var snapPos2 = minus(calculatePosition(allMatrix, isHorizontal ? [width, pos] : [pos, height], n), [left, top]);\n            return renderLine(React, \"\", snapPos1, snapPos2, zoom, \"clip\".concat(directionType, \"bounds\").concat(i), \"guideline\", \"bounds\", \"bold\");\n          }));\n        }\n      });\n    }\n\n    return __spreadArray(__spreadArray([], controls, true), lines, true);\n  },\n  dragControlCondition: function (moveable, e) {\n    return e.inputEvent && (e.inputEvent.target.getAttribute(\"class\") || \"\").indexOf(\"clip\") > -1;\n  },\n  dragStart: function (moveable, e) {\n    var props = moveable.props;\n    var _a = props.dragWithClip,\n        dragWithClip = _a === void 0 ? true : _a;\n\n    if (dragWithClip) {\n      return false;\n    }\n\n    return this.dragControlStart(moveable, e);\n  },\n  drag: function (moveable, e) {\n    return this.dragControl(moveable, __assign$1(__assign$1({}, e), {\n      isDragTarget: true\n    }));\n  },\n  dragEnd: function (moveable, e) {\n    return this.dragControlEnd(moveable, e);\n  },\n  dragControlStart: function (moveable, e) {\n    var state = moveable.state;\n    var _a = moveable.props,\n        defaultClipPath = _a.defaultClipPath,\n        customClipPath = _a.customClipPath;\n    var target = state.target,\n        width = state.width,\n        height = state.height;\n    var inputTarget = e.inputEvent ? e.inputEvent.target : null;\n    var className = inputTarget && inputTarget.getAttribute(\"class\") || \"\";\n    var datas = e.datas;\n    var clipPath = getClipPath(target, width, height, defaultClipPath || \"inset\", customClipPath);\n\n    if (!clipPath) {\n      return false;\n    }\n\n    var clipText = clipPath.clipText,\n        type = clipPath.type,\n        poses = clipPath.poses;\n    var result = triggerEvent(moveable, \"onClipStart\", fillParams(moveable, e, {\n      clipType: type,\n      clipStyle: clipText,\n      poses: poses.map(function (pos) {\n        return pos.pos;\n      })\n    }));\n\n    if (result === false) {\n      datas.isClipStart = false;\n      return false;\n    }\n\n    datas.isControl = className && className.indexOf(\"clip-control\") > -1;\n    datas.isLine = className.indexOf(\"clip-line\") > -1;\n    datas.isArea = className.indexOf(\"clip-area\") > -1 || className.indexOf(\"clip-ellipse\") > -1;\n    datas.index = inputTarget ? parseInt(inputTarget.getAttribute(\"data-clip-index\"), 10) : -1;\n    datas.clipPath = clipPath;\n    datas.isClipStart = true;\n    state.clipPathState = clipText;\n    setDragStart(moveable, e);\n    return true;\n  },\n  dragControl: function (moveable, e) {\n    var _a;\n\n    var datas = e.datas,\n        originalDatas = e.originalDatas,\n        isDragTarget = e.isDragTarget;\n\n    if (!datas.isClipStart) {\n      return false;\n    }\n\n    var _b = datas,\n        isControl = _b.isControl,\n        isLine = _b.isLine,\n        isArea = _b.isArea,\n        index = _b.index,\n        clipPath = _b.clipPath;\n\n    if (!clipPath) {\n      return false;\n    }\n\n    var distX = 0;\n    var distY = 0;\n    var originalDraggable = originalDatas.draggable;\n    var originalDist = getDragDist(e);\n\n    if (isDragTarget && originalDraggable) {\n      _a = originalDraggable.prevBeforeDist, distX = _a[0], distY = _a[1];\n    } else {\n      distX = originalDist[0], distY = originalDist[1];\n    }\n\n    var firstDist = [distX, distY];\n    var props = moveable.props;\n    var state = moveable.state;\n    var width = state.width,\n        height = state.height;\n    var isDragWithTarget = !isArea && !isControl && !isLine;\n    var clipType = clipPath.type,\n        clipPoses = clipPath.poses,\n        splitter = clipPath.splitter;\n    var poses = clipPoses.map(function (pos) {\n      return pos.pos;\n    });\n\n    if (isDragWithTarget) {\n      distX = -distX;\n      distY = -distY;\n    }\n\n    var isAll = !isControl || clipPoses[index].direction === \"nesw\";\n    var isRect = clipType === \"inset\" || clipType === \"rect\";\n    var dists = clipPoses.map(function () {\n      return [0, 0];\n    });\n\n    if (isControl && !isAll) {\n      var _c = clipPoses[index],\n          horizontal = _c.horizontal,\n          vertical = _c.vertical;\n      var dist = [distX * Math.abs(horizontal), distY * Math.abs(vertical)];\n      dists = moveControlPos(clipPoses, index, dist, isRect);\n    } else if (isAll) {\n      dists = poses.map(function () {\n        return [distX, distY];\n      });\n    }\n\n    var nextPoses = poses.map(function (pos, i) {\n      return plus(pos, dists[i]);\n    });\n\n    var guidePoses = __spreadArray([], nextPoses, true);\n\n    state.snapBoundInfos = null;\n    var isCircle = clipPath.type === \"circle\";\n    var isEllipse = clipPath.type === \"ellipse\";\n\n    if (isCircle || isEllipse) {\n      var guideRect = getRect(nextPoses);\n      var ry = Math.abs(guideRect.bottom - guideRect.top);\n      var rx = Math.abs(isEllipse ? guideRect.right - guideRect.left : ry);\n      var bottom = nextPoses[0][1] + ry;\n      var left = nextPoses[0][0] - rx;\n      var right = nextPoses[0][0] + rx; // right\n\n      if (isCircle) {\n        guidePoses.push([right, guideRect.bottom]);\n        dists.push([1, 0]);\n      } // bottom\n\n\n      guidePoses.push([guideRect.left, bottom]);\n      dists.push([0, 1]); // left\n\n      guidePoses.push([left, guideRect.bottom]);\n      dists.push([1, 0]);\n    }\n\n    var guidelines = getDefaultGuidelines((props.clipHorizontalGuidelines || []).map(function (v) {\n      return convertUnitSize(\"\".concat(v), height);\n    }), (props.clipVerticalGuidelines || []).map(function (v) {\n      return convertUnitSize(\"\".concat(v), width);\n    }), width, height);\n    var guideXPoses = [];\n    var guideYPoses = [];\n\n    if (isCircle || isEllipse) {\n      guideXPoses = [guidePoses[4][0], guidePoses[2][0]];\n      guideYPoses = [guidePoses[1][1], guidePoses[3][1]];\n    } else if (isRect) {\n      var rectPoses = [guidePoses[0], guidePoses[2], guidePoses[4], guidePoses[6]];\n      var rectDists_1 = [dists[0], dists[2], dists[4], dists[6]];\n      guideXPoses = rectPoses.filter(function (_, i) {\n        return rectDists_1[i][0];\n      }).map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = rectPoses.filter(function (_, i) {\n        return rectDists_1[i][1];\n      }).map(function (pos) {\n        return pos[1];\n      });\n    } else {\n      guideXPoses = guidePoses.filter(function (_, i) {\n        return dists[i][0];\n      }).map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = guidePoses.filter(function (_, i) {\n        return dists[i][1];\n      }).map(function (pos) {\n        return pos[1];\n      });\n    }\n\n    var boundDelta = [0, 0];\n\n    var _loop_1 = function (i) {\n      var _d = checkSnapBounds(guidelines, props.clipTargetBounds && {\n        left: 0,\n        top: 0,\n        right: width,\n        bottom: height\n      }, guideXPoses, guideYPoses, 5),\n          horizontalSnapInfo = _d.horizontal,\n          verticalSnapInfo = _d.vertical;\n\n      var snapOffsetY = horizontalSnapInfo.offset;\n      var snapOffsetX = verticalSnapInfo.offset;\n\n      if (horizontalSnapInfo.isBound) {\n        boundDelta[1] += snapOffsetY;\n      }\n\n      if (verticalSnapInfo.isBound) {\n        boundDelta[0] += snapOffsetX;\n      }\n\n      if ((isEllipse || isCircle) && dists[0][0] === 0 && dists[0][1] === 0) {\n        var guideRect = getRect(nextPoses);\n        var cy = guideRect.bottom - guideRect.top;\n        var cx = isEllipse ? guideRect.right - guideRect.left : cy;\n        var distSnapX = verticalSnapInfo.isBound ? Math.abs(snapOffsetX) : verticalSnapInfo.snapIndex === 0 ? -snapOffsetX : snapOffsetX;\n        var distSnapY = horizontalSnapInfo.isBound ? Math.abs(snapOffsetY) : horizontalSnapInfo.snapIndex === 0 ? -snapOffsetY : snapOffsetY;\n        cx -= distSnapX;\n        cy -= distSnapY;\n\n        if (isCircle) {\n          cy = checkSnapBoundPriority(verticalSnapInfo, horizontalSnapInfo) > 0 ? cy : cx;\n          cx = cy;\n        }\n\n        var center = guidePoses[0];\n        guidePoses[1][1] = center[1] - cy;\n        guidePoses[2][0] = center[0] + cx;\n        guidePoses[3][1] = center[1] + cy;\n        guidePoses[4][0] = center[0] - cx;\n      } else {\n        guidePoses.forEach(function (pos, j) {\n          var dist = dists[j];\n\n          if (dist[0]) {\n            pos[0] -= snapOffsetX;\n          }\n\n          if (dist[1]) {\n            pos[1] -= snapOffsetY;\n          }\n        });\n        return \"break\";\n      }\n    };\n\n    for (var i = 0; i < 2; ++i) {\n      var state_1 = _loop_1();\n\n      if (state_1 === \"break\") break;\n    }\n\n    var nextClipStyles = getClipStyles(moveable, clipPath, nextPoses);\n    var clipStyle = \"\".concat(clipType, \"(\").concat(nextClipStyles.join(splitter), \")\");\n    state.clipPathState = clipStyle;\n\n    if (isCircle || isEllipse) {\n      guideXPoses = [guidePoses[4][0], guidePoses[2][0]];\n      guideYPoses = [guidePoses[1][1], guidePoses[3][1]];\n    } else if (isRect) {\n      var rectPoses = [guidePoses[0], guidePoses[2], guidePoses[4], guidePoses[6]];\n      guideXPoses = rectPoses.map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = rectPoses.map(function (pos) {\n        return pos[1];\n      });\n    } else {\n      guideXPoses = guidePoses.map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = guidePoses.map(function (pos) {\n        return pos[1];\n      });\n    }\n\n    state.snapBoundInfos = checkSnapBounds(guidelines, props.clipTargetBounds && {\n      left: 0,\n      top: 0,\n      right: width,\n      bottom: height\n    }, guideXPoses, guideYPoses, 1);\n\n    if (originalDraggable) {\n      var is3d = state.is3d,\n          allMatrix = state.allMatrix;\n      var n = is3d ? 4 : 3;\n      var dragDist = boundDelta;\n\n      if (isDragTarget) {\n        dragDist = [firstDist[0] + boundDelta[0] - originalDist[0], firstDist[1] + boundDelta[1] - originalDist[1]];\n      }\n\n      originalDraggable.deltaOffset = multiply(allMatrix, [dragDist[0], dragDist[1], 0, 0], n);\n    }\n\n    triggerEvent(moveable, \"onClip\", fillParams(moveable, e, {\n      clipEventType: \"changed\",\n      clipType: clipType,\n      poses: nextPoses,\n      clipStyle: clipStyle,\n      clipStyles: nextClipStyles,\n      distX: distX,\n      distY: distY\n    }));\n    return true;\n  },\n  dragControlEnd: function (moveable, e) {\n    this.unset(moveable);\n    var isDrag = e.isDrag,\n        datas = e.datas,\n        isDouble = e.isDouble;\n    var isLine = datas.isLine,\n        isClipStart = datas.isClipStart,\n        isControl = datas.isControl;\n\n    if (!isClipStart) {\n      return false;\n    }\n\n    triggerEvent(moveable, \"onClipEnd\", fillEndParams(moveable, e, {}));\n\n    if (isDouble) {\n      if (isControl) {\n        removeClipPath(moveable, e);\n      } else if (isLine) {\n        // add\n        addClipPath(moveable, e);\n      }\n    }\n\n    return isDouble || isDrag;\n  },\n  unset: function (moveable) {\n    moveable.state.clipPathState = \"\";\n    moveable.state.snapBoundInfos = null;\n  }\n};\n/**\n * Whether to clip the target. (default: false)\n * @name Moveable.Clippable#clippable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n *  If clippath is not set, the default value can be set. (defaultClipPath < style < customClipPath < dragging clipPath)\n * @name Moveable.Clippable#defaultClipPath\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * % Can be used instead of the absolute px (`rect` not possible) (default: false)\n * @name Moveable.Clippable#clipRelative\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * You can force the custom clipPath. (defaultClipPath < style < customClipPath < dragging clipPath)\n * @name Moveable.Clippable#customClipPath\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When dragging the target, the clip also moves. (default: true)\n * @name Moveable.Clippable#dragWithClip\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * You can drag the clip by setting clipArea. (default: false)\n * @name Moveable.Clippable#clipArea\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n* Whether the clip is bound to the target. (default: false)\n* @name Moveable.Clippable#clipTargetBounds\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipTargetBounds: true,\n* });\n* moveable.on(\"clipStart\", e => {\n*     console.log(e);\n* }).on(\"clip\", e => {\n*     if (e.clipType === \"rect\") {\n*         e.target.style.clip = e.clipStyle;\n*     } else {\n*         e.target.style.clipPath = e.clipStyle;\n*     }\n* }).on(\"clipEnd\", e => {\n*     console.log(e);\n* });\n*/\n\n/**\n* Add clip guidelines in the vertical direction. (default: [])\n* @name Moveable.Clippable#clipVerticalGuidelines\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipVerticalGuidelines: [0, 100, 200],\n*     clipHorizontalGuidelines: [0, 100, 200],\n*     clipSnapThreshold: 5,\n* });\n*/\n\n/**\n* Add clip guidelines in the horizontal direction. (default: [])\n* @name Moveable.Clippable#clipHorizontalGuidelines\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipVerticalGuidelines: [0, 100, 200],\n*     clipHorizontalGuidelines: [0, 100, 200],\n*     clipSnapThreshold: 5,\n* });\n*/\n\n/**\n* istance value that can snap to clip guidelines. (default: 5)\n* @name Moveable.Clippable#clipSnapThreshold\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipVerticalGuidelines: [0, 100, 200],\n*     clipHorizontalGuidelines: [0, 100, 200],\n*     clipSnapThreshold: 5,\n* });\n*/\n\n/**\n * When drag start the clip area or controls, the `clipStart` event is called.\n * @memberof Moveable.Clippable\n * @event clipStart\n * @param {Moveable.Clippable.OnClipStart} - Parameters for the `clipStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag the clip area or controls, the `clip` event is called.\n * @memberof Moveable.Clippable\n * @event clip\n * @param {Moveable.Clippable.OnClip} - Parameters for the `clip` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag end the clip area or controls, the `clipEnd` event is called.\n * @memberof Moveable.Clippable\n * @event clipEnd\n * @param {Moveable.Clippable.OnClipEnd} - Parameters for the `clipEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * @namespace OriginDraggable\n * @memberof Moveable\n * @description Whether to drag origin (default: false)\n */\n\nvar OriginDraggable = {\n  name: \"originDraggable\",\n  props: {\n    originDraggable: Boolean,\n    originRelative: Boolean\n  },\n  events: {\n    onDragOriginStart: \"dragOriginStart\",\n    onDragOrigin: \"dragOrigin\",\n    onDragOriginEnd: \"dragOriginEnd\"\n  },\n  css: [\":host[data-able-origindraggable] .control.origin {\\n    pointer-events: auto;\\n}\"],\n  dragControlCondition: function (_, e) {\n    if (e.isRequest) {\n      return e.requestAble === \"originDraggable\";\n    }\n\n    return hasClass(e.inputEvent.target, prefix(\"origin\"));\n  },\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas;\n    setDragStart(moveable, e);\n    var params = fillParams(moveable, e, {\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    });\n    var result = triggerEvent(moveable, \"onDragOriginStart\", params);\n    datas.startOrigin = moveable.state.transformOrigin;\n    datas.startTargetOrigin = moveable.state.targetOrigin;\n    datas.prevOrigin = [0, 0];\n    datas.isDragOrigin = true;\n\n    if (result === false) {\n      datas.isDragOrigin = false;\n      return false;\n    }\n\n    return params;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas,\n        isPinch = e.isPinch,\n        isRequest = e.isRequest;\n\n    if (!datas.isDragOrigin) {\n      return false;\n    }\n\n    var _a = getDragDist(e),\n        distX = _a[0],\n        distY = _a[1];\n\n    var state = moveable.state;\n    var width = state.width,\n        height = state.height,\n        offsetMatrix = state.offsetMatrix,\n        targetMatrix = state.targetMatrix,\n        is3d = state.is3d;\n    var _b = moveable.props.originRelative,\n        originRelative = _b === void 0 ? true : _b;\n    var n = is3d ? 4 : 3;\n    var dist = [distX, distY];\n\n    if (isRequest) {\n      var distOrigin = e.distOrigin;\n\n      if (distOrigin[0] || distOrigin[1]) {\n        dist = distOrigin;\n      }\n    }\n\n    var origin = plus(datas.startOrigin, dist);\n    var targetOrigin = plus(datas.startTargetOrigin, dist);\n    var delta = minus(dist, datas.prevOrigin);\n    var nextMatrix = getNextMatrix(offsetMatrix, targetMatrix, origin, n);\n    var rect = moveable.getRect();\n    var nextRect = getRect(calculatePoses(nextMatrix, width, height, n));\n    var dragDelta = [rect.left - nextRect.left, rect.top - nextRect.top];\n    datas.prevOrigin = dist;\n    var transformOrigin = [convertCSSSize(targetOrigin[0], width, originRelative), convertCSSSize(targetOrigin[1], height, originRelative)].join(\" \");\n    var params = fillParams(moveable, e, {\n      width: width,\n      height: height,\n      origin: origin,\n      dist: dist,\n      delta: delta,\n      transformOrigin: transformOrigin,\n      drag: Draggable.drag(moveable, setCustomDrag(e, moveable.state, dragDelta, !!isPinch, false))\n    });\n    triggerEvent(moveable, \"onDragOrigin\", params);\n    return params;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isDragOrigin) {\n      return false;\n    }\n\n    triggerEvent(moveable, \"onDragOriginEnd\", fillEndParams(moveable, e, {}));\n    return true;\n  },\n  dragGroupControlCondition: function (moveable, e) {\n    return this.dragControlCondition(moveable, e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    return true;\n  },\n  dragGroupControl: function (moveable, e) {\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    moveable.transformOrigin = params.transformOrigin;\n    return true;\n  },\n\n  /**\n  * @method Moveable.OriginDraggable#request\n  * @param {object} e - the OriginDraggable's request parameter\n  * @param {number} [e.x] - x position\n  * @param {number} [e.y] - y position\n  * @param {number} [e.deltaX] - x number to move\n  * @param {number} [e.deltaY] - y number to move\n  * @param {array} [e.deltaOrigin] - left, top number to move transform-origin\n  * @param {array} [e.origin] - transform-origin position\n  * @param {number} [e.isInstant] - Whether to execute the request instantly\n  * @return {Moveable.Requester} Moveable Requester\n  * @example\n   * // Instantly Request (requestStart - request - requestEnd)\n  * // Use Relative Value\n  * moveable.request(\"originDraggable\", { deltaX: 10, deltaY: 10 }, true);\n  * // Use Absolute Value\n  * moveable.request(\"originDraggable\", { x: 200, y: 100 }, true);\n  * // Use Transform Value\n  * moveable.request(\"originDraggable\", { deltaOrigin: [10, 0] }, true);\n  * moveable.request(\"originDraggable\", { origin: [100, 0] }, true);\n  * // requestStart\n  * const requester = moveable.request(\"originDraggable\");\n  *\n  * // request\n  * // Use Relative Value\n  * requester.request({ deltaX: 10, deltaY: 10 });\n  * requester.request({ deltaX: 10, deltaY: 10 });\n  * requester.request({ deltaX: 10, deltaY: 10 });\n  * // Use Absolute Value\n  * moveable.request(\"originDraggable\", { x: 200, y: 100 });\n  * moveable.request(\"originDraggable\", { x: 220, y: 100 });\n  * moveable.request(\"originDraggable\", { x: 240, y: 100 });\n  *\n  * // requestEnd\n  * requester.requestEnd();\n  */\n  request: function (moveable) {\n    var datas = {};\n    var rect = moveable.getRect();\n    var distX = 0;\n    var distY = 0;\n    var transformOrigin = rect.transformOrigin;\n    var distOrigin = [0, 0];\n    return {\n      isControl: true,\n      requestStart: function () {\n        return {\n          datas: datas\n        };\n      },\n      request: function (e) {\n        if (\"deltaOrigin\" in e) {\n          distOrigin[0] += e.deltaOrigin[0];\n          distOrigin[1] += e.deltaOrigin[1];\n        } else if (\"origin\" in e) {\n          distOrigin[0] = e.origin[0] - transformOrigin[0];\n          distOrigin[1] = e.origin[1] - transformOrigin[1];\n        } else {\n          if (\"x\" in e) {\n            distX = e.x - rect.left;\n          } else if (\"deltaX\" in e) {\n            distX += e.deltaX;\n          }\n\n          if (\"y\" in e) {\n            distY = e.y - rect.top;\n          } else if (\"deltaY\" in e) {\n            distY += e.deltaY;\n          }\n        }\n\n        return {\n          datas: datas,\n          distX: distX,\n          distY: distY,\n          distOrigin: distOrigin\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether to drag origin (default: false)\n * @name Moveable.OriginDraggable#originDraggable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     originDraggable: true,\n * });\n * let translate = [0, 0];\n * moveable.on(\"dragOriginStart\", e => {\n *     e.dragStart && e.dragStart.set(translate);\n * }).on(\"dragOrigin\", e => {\n *     translate = e.drag.beforeTranslate;\n *     e.target.style.cssText\n *         = `transform-origin: ${e.transformOrigin};`\n *         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n * }).on(\"dragOriginEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * % Can be used instead of the absolute px (default: true)\n * @name Moveable.OriginDraggable#originRelative\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     originDraggable: true,\n *     originRelative: false,\n * });\n * moveable.originRelative = true;\n */\n\n/**\n* When drag start the origin, the `dragOriginStart` event is called.\n* @memberof Moveable.OriginDraggable\n* @event dragOriginStart\n* @param {Moveable.OriginDraggable.OnDragOriginStart} - Parameters for the `dragOriginStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     originDraggable: true,\n* });\n* let translate = [0, 0];\n* moveable.on(\"dragOriginStart\", e => {\n*     e.dragStart && e.dragStart.set(translate);\n* }).on(\"dragOrigin\", e => {\n*     translate = e.drag.beforeTranslate;\n*     e.target.style.cssText\n*         = `transform-origin: ${e.transformOrigin};`\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n* }).on(\"dragOriginEnd\", e => {\n*     console.log(e);\n* });\n*/\n\n/**\n* When drag the origin, the `dragOrigin` event is called.\n* @memberof Moveable.OriginDraggable\n* @event dragOrigin\n* @param {Moveable.OriginDraggable.OnDragOrigin} - Parameters for the `dragOrigin` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     originDraggable: true,\n* });\n* let translate = [0, 0];\n* moveable.on(\"dragOriginStart\", e => {\n*     e.dragStart && e.dragStart.set(translate);\n* }).on(\"dragOrigin\", e => {\n*     translate = e.drag.beforeTranslate;\n*     e.target.style.cssText\n*         = `transform-origin: ${e.transformOrigin};`\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n* }).on(\"dragOriginEnd\", e => {\n*     console.log(e);\n* });\n*/\n\n/**\n* When drag end the origin, the `dragOriginEnd` event is called.\n* @memberof Moveable.OriginDraggable\n* @event dragOriginEnd\n* @param {Moveable.OriginDraggable.OnDragOriginEnd} - Parameters for the `dragOriginEnd` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     originDraggable: true,\n* });\n* let translate = [0, 0];\n* moveable.on(\"dragOriginStart\", e => {\n*     e.dragStart && e.dragStart.set(translate);\n* }).on(\"dragOrigin\", e => {\n*     translate = e.drag.beforeTranslate;\n*     e.target.style.cssText\n*         = `transform-origin: ${e.transformOrigin};`\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n* }).on(\"dragOriginEnd\", e => {\n*     console.log(e);\n* });\n*/\n\nfunction addBorderRadius(controlPoses, poses, lineIndex, distX, distY, width, height) {\n  var _a = splitRadiusPoses(controlPoses),\n      horizontals = _a.horizontals,\n      verticals = _a.verticals;\n\n  var horizontalsLength = horizontals.length;\n  var verticalsLength = verticals.length; // lineIndex\n  // 0 top\n  // 1 right\n  // 2 left\n  // 3 bottom\n  // 0 top - left\n  // 1 top - right\n  // 2 bottom - right\n  // 3 bottom - left\n  // 0 left - top\n  // 1 right - top\n  // 2 right - bottom\n  // 3 left - bottom\n\n  var horizontalIndex = -1;\n  var verticalIndex = -1;\n\n  if (lineIndex === 0) {\n    if (horizontalsLength === 0) {\n      horizontalIndex = 0;\n    } else if (horizontalsLength === 1) {\n      horizontalIndex = 1;\n    }\n  } else if (lineIndex === 3) {\n    if (horizontalsLength <= 2) {\n      horizontalIndex = 2;\n    } else if (horizontalsLength <= 3) {\n      horizontalIndex = 3;\n    }\n  }\n\n  if (lineIndex === 2) {\n    if (verticalsLength === 0) {\n      verticalIndex = 0;\n    } else if (verticalsLength < 4) {\n      verticalIndex = 3;\n    }\n  } else if (lineIndex === 1) {\n    if (verticalsLength <= 1) {\n      verticalIndex = 1;\n    } else if (verticalsLength <= 2) {\n      verticalIndex = 2;\n    }\n  }\n\n  addRadiusPos(controlPoses, poses, 0, horizontalIndex, verticalIndex, distX, distY, width, height);\n}\n\nfunction getBorderRadius(target, width, height, minCounts, state) {\n  if (minCounts === void 0) {\n    minCounts = [0, 0];\n  }\n\n  var borderRadius;\n  var values = [];\n\n  if (!state) {\n    var style = getComputedStyle(target);\n    borderRadius = style && style.borderRadius || \"\";\n  } else {\n    borderRadius = state;\n  }\n\n  if (!borderRadius || !state && borderRadius === \"0px\") {\n    values = [];\n  } else {\n    values = splitSpace(borderRadius);\n  }\n\n  return getRadiusValues(values, width, height, 0, 0, minCounts);\n}\n\nfunction triggerRoundEvent(moveable, e, dist, delta, controlPoses, nextPoses) {\n  var state = moveable.state;\n  var width = state.width,\n      height = state.height;\n\n  var _a = getRadiusStyles(nextPoses, controlPoses, moveable.props.roundRelative, width, height),\n      raws = _a.raws,\n      styles = _a.styles;\n\n  var _b = splitRadiusPoses(controlPoses, raws),\n      horizontals = _b.horizontals,\n      verticals = _b.verticals;\n\n  var borderRadius = styles.join(\" \");\n  state.borderRadiusState = borderRadius;\n  triggerEvent(moveable, \"onRound\", fillParams(moveable, e, {\n    horizontals: horizontals,\n    verticals: verticals,\n    borderRadius: borderRadius,\n    width: width,\n    height: height,\n    delta: delta,\n    dist: dist\n  }));\n}\n/**\n * @namespace Moveable.Roundable\n * @description Whether to show and drag or double click border-radius\n */\n\n\nvar Roundable = {\n  name: \"roundable\",\n  props: {\n    roundable: Boolean,\n    roundRelative: Boolean,\n    minRoundControls: Array,\n    maxRoundControls: Array,\n    roundClickable: Boolean\n  },\n  events: {\n    onRoundStart: \"roundStart\",\n    onRound: \"round\",\n    onRoundEnd: \"roundEnd\"\n  },\n  css: [\".control.border-radius {\\n    background: #d66;\\n    cursor: pointer;\\n}\", \":host[data-able-roundable] .line.direction {\\n    cursor: pointer;\\n}\"],\n  render: function (moveable, React) {\n    var _a = moveable.state,\n        target = _a.target,\n        width = _a.width,\n        height = _a.height,\n        allMatrix = _a.allMatrix,\n        is3d = _a.is3d,\n        left = _a.left,\n        top = _a.top,\n        borderRadiusState = _a.borderRadiusState;\n    var _b = moveable.props,\n        _c = _b.minRoundControls,\n        minRoundControls = _c === void 0 ? [0, 0] : _c,\n        _d = _b.maxRoundControls,\n        maxRoundControls = _d === void 0 ? [4, 4] : _d,\n        zoom = _b.zoom;\n\n    if (!target) {\n      return null;\n    }\n\n    var n = is3d ? 4 : 3;\n    var radiusValues = getBorderRadius(target, width, height, minRoundControls, borderRadiusState);\n\n    if (!radiusValues) {\n      return null;\n    }\n\n    var verticalCount = 0;\n    var horizontalCount = 0;\n    return radiusValues.map(function (v, i) {\n      horizontalCount += Math.abs(v.horizontal);\n      verticalCount += Math.abs(v.vertical);\n      var pos = minus(calculatePosition(allMatrix, v.pos, n), [left, top]);\n      var isDisplay = v.vertical ? verticalCount <= maxRoundControls[1] : horizontalCount <= maxRoundControls[0];\n      return React.createElement(\"div\", {\n        key: \"borderRadiusControl\".concat(i),\n        className: prefix(\"control\", \"border-radius\"),\n        \"data-radius-index\": i,\n        style: {\n          display: isDisplay ? \"block\" : \"none\",\n          transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) scale(\").concat(zoom, \")\")\n        }\n      });\n    });\n  },\n  dragControlCondition: function (moveable, e) {\n    if (!e.inputEvent || e.isRequest) {\n      return false;\n    }\n\n    var className = e.inputEvent.target.getAttribute(\"class\") || \"\";\n    return className.indexOf(\"border-radius\") > -1 || className.indexOf(\"moveable-line\") > -1 && className.indexOf(\"moveable-direction\") > -1;\n  },\n  dragControlStart: function (moveable, e) {\n    var inputEvent = e.inputEvent,\n        datas = e.datas;\n    var inputTarget = inputEvent.target;\n    var className = inputTarget.getAttribute(\"class\") || \"\";\n    var isControl = className.indexOf(\"border-radius\") > -1;\n    var isLine = className.indexOf(\"moveable-line\") > -1 && className.indexOf(\"moveable-direction\") > -1;\n    var controlIndex = isControl ? parseInt(inputTarget.getAttribute(\"data-radius-index\"), 10) : -1;\n    var lineIndex = isLine ? parseInt(inputTarget.getAttribute(\"data-line-index\"), 10) : -1;\n\n    if (!isControl && !isLine) {\n      return false;\n    }\n\n    var result = triggerEvent(moveable, \"onRoundStart\", fillParams(moveable, e, {}));\n\n    if (result === false) {\n      return false;\n    }\n\n    datas.lineIndex = lineIndex;\n    datas.controlIndex = controlIndex;\n    datas.isControl = isControl;\n    datas.isLine = isLine;\n    setDragStart(moveable, e);\n    var _a = moveable.props,\n        roundRelative = _a.roundRelative,\n        _b = _a.minRoundControls,\n        minRoundControls = _b === void 0 ? [0, 0] : _b;\n    var state = moveable.state;\n    var target = state.target,\n        width = state.width,\n        height = state.height;\n    datas.isRound = true;\n    datas.prevDist = [0, 0];\n    var controlPoses = getBorderRadius(target, width, height, minRoundControls) || [];\n    datas.controlPoses = controlPoses;\n    state.borderRadiusState = getRadiusStyles(controlPoses.map(function (pos) {\n      return pos.pos;\n    }), controlPoses, roundRelative, width, height).styles.join(\" \");\n    return true;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isRound || !datas.isControl || !datas.controlPoses.length) {\n      return false;\n    }\n\n    var index = datas.controlIndex;\n    var controlPoses = datas.controlPoses;\n\n    var _a = getDragDist(e),\n        distX = _a[0],\n        distY = _a[1];\n\n    var dist = [distX, distY];\n    var delta = minus(dist, datas.prevDist);\n    var _b = moveable.props.maxRoundControls,\n        maxRoundControls = _b === void 0 ? [4, 4] : _b;\n    var _c = moveable.state,\n        width = _c.width,\n        height = _c.height;\n    var selectedControlPose = controlPoses[index];\n    var selectedVertical = selectedControlPose.vertical;\n    var selectedHorizontal = selectedControlPose.horizontal; // 0: [0, 1, 2, 3] maxCount === 1\n    // 0: [0, 2] maxCount === 2\n    // 1: [1, 3] maxCount === 2\n    // 0: [0] maxCount === 3\n    // 1: [1, 3] maxCount === 3\n\n    var dists = controlPoses.map(function (pose) {\n      var horizontal = pose.horizontal,\n          vertical = pose.vertical;\n      var poseDist = [horizontal * selectedHorizontal * dist[0], vertical * selectedVertical * dist[1]];\n\n      if (horizontal) {\n        if (maxRoundControls[0] === 1) {\n          return poseDist;\n        } else if (maxRoundControls[0] < 4 && horizontal !== selectedHorizontal) {\n          return poseDist;\n        }\n      } else if (maxRoundControls[1] === 0) {\n        poseDist[1] = vertical * selectedHorizontal * dist[0] / width * height;\n        return poseDist;\n      } else if (selectedVertical) {\n        if (maxRoundControls[1] === 1) {\n          return poseDist;\n        } else if (maxRoundControls[1] < 4 && vertical !== selectedVertical) {\n          return poseDist;\n        }\n      }\n\n      return [0, 0];\n    });\n    dists[index] = dist;\n    var nextPoses = controlPoses.map(function (pos, i) {\n      return plus(pos.pos, dists[i]);\n    });\n    datas.prevDist = [distX, distY];\n    triggerRoundEvent(moveable, e, dist, delta, controlPoses, nextPoses);\n    return true;\n  },\n  dragControlEnd: function (moveable, e) {\n    var state = moveable.state;\n    state.borderRadiusState = \"\";\n    var datas = e.datas,\n        isDouble = e.isDouble;\n\n    if (!datas.isRound) {\n      return false;\n    }\n\n    var width = state.width,\n        height = state.height;\n    var isControl = datas.isControl,\n        controlIndex = datas.controlIndex,\n        isLine = datas.isLine,\n        lineIndex = datas.lineIndex;\n    var controlPoses = datas.controlPoses;\n    var poses = controlPoses.map(function (pos) {\n      return pos.pos;\n    });\n    var length = poses.length;\n    var _a = moveable.props.roundClickable,\n        roundClickable = _a === void 0 ? true : _a;\n\n    if (isDouble && roundClickable) {\n      if (isControl) {\n        removeRadiusPos(controlPoses, poses, controlIndex, 0);\n      } else if (isLine) {\n        var _b = calculatePointerDist(moveable, e),\n            distX = _b[0],\n            distY = _b[1];\n\n        addBorderRadius(controlPoses, poses, lineIndex, distX, distY, width, height);\n      }\n\n      if (length !== controlPoses.length) {\n        triggerRoundEvent(moveable, e, [0, 0], [0, 0], controlPoses, poses);\n      }\n    }\n\n    triggerEvent(moveable, \"onRoundEnd\", fillEndParams(moveable, e, {}));\n    state.borderRadiusState = \"\";\n    return true;\n  },\n  unset: function (moveable) {\n    moveable.state.borderRadiusState = \"\";\n  }\n};\n/**\n * Whether to show and drag or double click border-radius, (default: false)\n * @name Moveable.Roundable#roundable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * % Can be used instead of the absolute px\n * @name Moveable.Roundable#roundRelative\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * Minimum number of round controls. It moves in proportion by control. [horizontal, vertical] (default: [0, 0])\n * @name Moveable.Roundable#minRoundControls\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n *     minRoundControls: [0, 0],\n * });\n * moveable.maxRoundControls = [1, 0];\n */\n\n/**\n * Maximum number of round controls. It moves in proportion by control. [horizontal, vertical] (default: [4, 4])\n * @name Moveable.Roundable#maxRoundControls\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n *     maxRoundControls: [4, 4],\n * });\n * moveable.maxRoundControls = [1, 0];\n */\n\n/**\n * @property - Whether you can add/delete round controls by double-clicking a line or control. (default: true)\n * @name Moveable.Roundable#roundClickable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n *     roundClickable: true,\n * });\n * moveable.roundClickable = false;\n */\n\n/**\n * When drag start the clip area or controls, the `roundStart` event is called.\n * @memberof Moveable.Roundable\n * @event roundStart\n * @param {Moveable.Roundable.OnRoundStart} - Parameters for the `roundStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag or double click the border area or controls, the `round` event is called.\n * @memberof Moveable.Roundable\n * @event round\n * @param {Moveable.Roundable.OnRound} - Parameters for the `round` event\n * @example\n  * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag end the border area or controls, the `roundEnd` event is called.\n * @memberof Moveable.Roundable\n * @event roundEnd\n * @param {Moveable.Roundable.onRoundEnd} - Parameters for the `roundEnd` event\n * @example\n  * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\nfunction isIdentityMatrix(matrix, is3d) {\n  var value = is3d ? \"matrix3d(\".concat(createIdentityMatrix(4)) : \"matrix(\".concat(createIdentityMatrix(3), \")\");\n  return matrix === value || matrix === \"matrix(1,0,0,1,0,0)\";\n}\n\nvar BeforeRenderable = {\n  isPinch: true,\n  name: \"beforeRenderable\",\n  props: {},\n  events: {\n    onBeforeRenderStart: \"beforeRenderStart\",\n    onBeforeRender: \"beforeRender\",\n    onBeforeRenderEnd: \"beforeRenderEnd\",\n    onBeforeRenderGroupStart: \"beforeRenderGroupStart\",\n    onBeforeRenderGroup: \"beforeRenderGroup\",\n    onBeforeRenderGroupEnd: \"beforeRenderGroupEnd\"\n  },\n  dragRelation: \"weak\",\n  setTransform: function (moveable, e) {\n    var _a = moveable.state,\n        is3d = _a.is3d,\n        target = _a.target,\n        targetMatrix = _a.targetMatrix;\n    var transform = target === null || target === void 0 ? void 0 : target.style.transform;\n    var cssMatrix = is3d ? \"matrix3d(\".concat(targetMatrix.join(\",\"), \")\") : \"matrix(\".concat(convertMatrixtoCSS(targetMatrix, true), \")\");\n    var startTransform = !transform || transform === \"none\" ? cssMatrix : transform;\n    e.datas.startTransforms = isIdentityMatrix(startTransform, is3d) ? [] : splitSpace(startTransform);\n  },\n  resetTransform: function (e) {\n    e.datas.nextTransforms = e.datas.startTransforms;\n    e.datas.nextTransformAppendedIndexes = [];\n  },\n  fillDragStartParams: function (moveable, e) {\n    return fillParams(moveable, e, {\n      setTransform: function (transform) {\n        e.datas.startTransforms = isArray(transform) ? transform : splitSpace(transform);\n      },\n      isPinch: !!e.isPinch\n    });\n  },\n  fillDragParams: function (moveable, e) {\n    return fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    });\n  },\n  dragStart: function (moveable, e) {\n    this.setTransform(moveable, e);\n    triggerEvent(moveable, \"onBeforeRenderStart\", this.fillDragStartParams(moveable, e));\n  },\n  drag: function (moveable, e) {\n    this.resetTransform(e);\n    triggerEvent(moveable, \"onBeforeRender\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    }));\n  },\n  dragEnd: function (moveable, e) {\n    triggerEvent(moveable, \"onBeforeRenderEnd\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag\n    }));\n  },\n  dragGroupStart: function (moveable, e) {\n    var _this = this;\n\n    this.dragStart(moveable, e);\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n\n      _this.setTransform(childMoveable, childEvent);\n\n      return _this.fillDragStartParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onBeforeRenderGroupStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets,\n      setTransform: function () {},\n      events: params\n    }));\n  },\n  dragGroup: function (moveable, e) {\n    var _this = this;\n\n    this.drag(moveable, e);\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n\n      _this.resetTransform(childEvent);\n\n      return _this.fillDragParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onBeforeRenderGroup\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets,\n      events: params\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    this.dragEnd(moveable, e);\n    triggerEvent(moveable, \"onBeforeRenderGroupEnd\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag,\n      targets: moveable.props.targets\n    }));\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragGroupStart(moveable, e);\n  },\n  dragGroupControl: function (moveable, e) {\n    return this.dragGroup(moveable, e);\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    return this.dragGroupEnd(moveable, e);\n  }\n};\nvar Renderable = {\n  name: \"renderable\",\n  props: {},\n  events: {\n    onRenderStart: \"renderStart\",\n    onRender: \"render\",\n    onRenderEnd: \"renderEnd\",\n    onRenderGroupStart: \"renderGroupStart\",\n    onRenderGroup: \"renderGroup\",\n    onRenderGroupEnd: \"renderGroupEnd\"\n  },\n  dragRelation: \"weak\",\n  dragStart: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    }));\n  },\n  drag: function (moveable, e) {\n    triggerEvent(moveable, \"onRender\", this.fillDragParams(moveable, e));\n  },\n  dragAfter: function (moveable, e) {\n    if (e.resultCount) {\n      return this.drag(moveable, e);\n    }\n  },\n  dragEnd: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderEnd\", this.fillDragEndParams(moveable, e));\n  },\n  dragGroupStart: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderGroupStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroup: function (moveable, e) {\n    var _this = this;\n\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n      return _this.fillDragParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onRenderGroup\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets,\n      transform: getNextTransformText(e),\n      events: params\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    var _this = this;\n\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n      return _this.fillDragEndParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onRenderGroupEnd\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag,\n      targets: moveable.props.targets,\n      events: params\n    }));\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlAfter: function (moveable, e) {\n    return this.dragAfter(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragGroupStart(moveable, e);\n  },\n  dragGroupControl: function (moveable, e) {\n    return this.dragGroup(moveable, e);\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    return this.dragGroupEnd(moveable, e);\n  },\n  fillDragParams: function (moveable, e) {\n    return fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      transform: getNextTransformText(e)\n    });\n  },\n  fillDragEndParams: function (moveable, e) {\n    return fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag\n    });\n  }\n};\n\nfunction triggerAble(moveable, ableType, eventOperation, eventAffix, eventType, e, requestInstant) {\n  var isStart = eventType === \"Start\";\n  var target = moveable.state.target;\n  var isRequest = e.isRequest;\n\n  if (!target || isStart && eventAffix.indexOf(\"Control\") > -1 && !isRequest && moveable.areaElement === e.inputEvent.target) {\n    return false;\n  } // \"drag\" \"Control\" \"After\"\n\n\n  var eventName = \"\".concat(eventOperation).concat(eventAffix).concat(eventType);\n  var conditionName = \"\".concat(eventOperation).concat(eventAffix, \"Condition\");\n  var isEnd = eventType === \"End\";\n  var isAfter = eventType === \"After\";\n  var isFirstStart = isStart && (!moveable.targetGesto || !moveable.controlGesto || !moveable.targetGesto.isFlag() || !moveable.controlGesto.isFlag());\n\n  if (isFirstStart) {\n    moveable.updateRect(eventType, true, false);\n  }\n\n  if (eventType === \"\" && !isRequest) {\n    convertDragDist(moveable.state, e);\n  } // const isGroup = eventAffix.indexOf(\"Group\") > -1;\n\n\n  var ables = __spreadArray([], moveable[ableType], true);\n\n  if (isRequest) {\n    var requestAble_1 = e.requestAble;\n\n    if (!ables.some(function (able) {\n      return able.name === requestAble_1;\n    })) {\n      ables.push.apply(ables, moveable.props.ables.filter(function (able) {\n        return able.name === requestAble_1;\n      }));\n    }\n  }\n\n  if (!ables.length) {\n    return false;\n  }\n\n  var eventAbles = __spreadArray(__spreadArray([BeforeRenderable], ables, true), [Renderable], false).filter(function (able) {\n    return able[eventName];\n  });\n\n  var datas = e.datas;\n\n  if (isFirstStart) {\n    eventAbles.forEach(function (able) {\n      able.unset && able.unset(moveable);\n    });\n  }\n\n  var inputEvent = e.inputEvent;\n  var inputTarget;\n\n  if (isEnd && inputEvent) {\n    inputTarget = document.elementFromPoint(e.clientX, e.clientY) || inputEvent.target;\n  }\n\n  var resultCount = 0;\n  var results = eventAbles.filter(function (able) {\n    var ableName = able.name;\n    var nextDatas = datas[ableName] || (datas[ableName] = {});\n\n    if (isStart) {\n      nextDatas.isEventStart = !able[conditionName] || able[conditionName](moveable, e);\n    }\n\n    if (nextDatas.isEventStart) {\n      var result = able[eventName](moveable, __assign$1(__assign$1({}, e), {\n        resultCount: resultCount,\n        datas: nextDatas,\n        originalDatas: datas,\n        inputTarget: inputTarget\n      }));\n\n      moveable._emitter.off();\n\n      if (isStart && result === false) {\n        nextDatas.isEventStart = false;\n      }\n\n      resultCount += result ? 1 : 0;\n      return result;\n    }\n\n    return false;\n  });\n  var isUpdate = results.length;\n  var isForceEnd = false; // end ables\n\n  if (isStart && eventAbles.length && !isUpdate) {\n    isForceEnd = eventAbles.filter(function (able) {\n      var ableName = able.name;\n      var nextDatas = datas[ableName];\n\n      if (nextDatas.isEventStart) {\n        if (able.dragRelation === \"strong\") {\n          // cancel drag\n          nextDatas.isEventStart = false;\n          return false;\n        } // start drag\n\n\n        return true;\n      } // cancel event\n\n\n      return false;\n    }).length === 0;\n  }\n\n  if (isEnd || isForceEnd) {\n    moveable.state.gesto = null;\n\n    if (moveable.moveables) {\n      moveable.moveables.forEach(function (childMoveable) {\n        childMoveable.state.gesto = null;\n      });\n    }\n  }\n\n  if (isFirstStart && isForceEnd) {\n    eventAbles.forEach(function (able) {\n      able.unset && able.unset(moveable);\n    });\n  }\n\n  if (isStart && !isRequest && isUpdate) {\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n  }\n\n  if (moveable.isUnmounted || isForceEnd) {\n    return false;\n  }\n\n  if (!isStart && isUpdate && !requestInstant || isEnd) {\n    moveable.updateRect(isEnd ? eventType : \"\", true, false);\n    moveable.forceUpdate();\n  }\n\n  if (!isStart && !isEnd && !isAfter && isUpdate && !requestInstant) {\n    triggerAble(moveable, ableType, eventOperation, eventAffix, eventType + \"After\", e);\n  }\n\n  return true;\n}\n\nfunction getTargetAbleGesto(moveable, moveableTarget, eventAffix) {\n  var controlBox = moveable.controlBox.getElement();\n  var targets = [];\n  targets.push(controlBox);\n\n  if (!moveable.props.dragArea || moveable.props.dragTarget) {\n    targets.push(moveableTarget);\n  }\n\n  var startFunc = function (e) {\n    var eventTarget = e.inputEvent.target;\n    var areaElement = moveable.areaElement;\n    return eventTarget === areaElement || !moveable.isMoveableElement(eventTarget) && !moveable.controlBox.getElement().contains(eventTarget) || hasClass(eventTarget, \"moveable-area\") || hasClass(eventTarget, \"moveable-padding\");\n  };\n\n  return getAbleGesto(moveable, targets, \"targetAbles\", eventAffix, {\n    dragStart: startFunc,\n    pinchStart: startFunc\n  });\n}\n\nfunction getAbleGesto(moveable, target, ableType, eventAffix, conditionFunctions) {\n  if (conditionFunctions === void 0) {\n    conditionFunctions = {};\n  }\n\n  var _a = moveable.props,\n      pinchOutside = _a.pinchOutside,\n      pinchThreshold = _a.pinchThreshold;\n  var options = {\n    preventDefault: false,\n    container: window,\n    pinchThreshold: pinchThreshold,\n    pinchOutside: pinchOutside\n  };\n  var gesto = new Gesto(target, options);\n  [\"drag\", \"pinch\"].forEach(function (eventOperation) {\n    [\"Start\", \"\", \"End\"].forEach(function (eventType) {\n      gesto.on(\"\".concat(eventOperation).concat(eventType), function (e) {\n        var eventName = e.eventType;\n\n        if (conditionFunctions[eventName] && !conditionFunctions[eventName](e)) {\n          e.stop();\n          return;\n        }\n\n        var result = triggerAble(moveable, ableType, eventOperation, eventAffix, eventType, e);\n\n        if (!result) {\n          e.stop();\n        }\n      });\n    });\n  });\n  return gesto;\n}\n\nvar EventManager =\n/*#__PURE__*/\nfunction () {\n  function EventManager(target, moveable, eventName) {\n    var _this = this;\n\n    this.target = target;\n    this.moveable = moveable;\n    this.eventName = eventName;\n    this.ables = [];\n\n    this._onEvent = function (e) {\n      var eventName = _this.eventName;\n      var moveable = _this.moveable;\n\n      if (moveable.state.disableNativeEvent) {\n        return;\n      }\n\n      _this.ables.forEach(function (able) {\n        able[eventName](moveable, {\n          inputEvent: e\n        });\n      });\n    };\n\n    target.addEventListener(eventName.toLowerCase(), this._onEvent);\n  }\n\n  var __proto = EventManager.prototype;\n\n  __proto.setAbles = function (ables) {\n    this.ables = ables;\n  };\n\n  __proto.destroy = function () {\n    this.target.removeEventListener(this.eventName.toLowerCase(), this._onEvent);\n    this.target = null;\n    this.moveable = null;\n  };\n\n  return EventManager;\n}();\n\nvar MoveableManager =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MoveableManager, _super);\n\n  function MoveableManager() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = __assign$1({\n      container: null,\n      gesto: null,\n      renderPoses: [[0, 0], [0, 0], [0, 0], [0, 0]],\n      disableNativeEvent: false\n    }, getTargetInfo(null));\n    _this.enabledAbles = [];\n    _this.targetAbles = [];\n    _this.controlAbles = [];\n    _this.rotation = 0;\n    _this.scale = [1, 1];\n    _this.isUnmounted = false;\n    _this.events = {\n      \"mouseEnter\": null,\n      \"mouseLeave\": null\n    };\n    _this._emitter = new EventEmitter();\n    _this._prevTarget = null;\n    _this._prevDragArea = false;\n    _this._observer = null;\n    _this._observerId = 0;\n\n    _this.onPreventClick = function (e) {\n      e.stopPropagation();\n      removeEvent(window, \"click\", _this.onPreventClick, true);\n    };\n\n    _this.checkUpdateRect = function () {\n      if (_this.isDragging()) {\n        return;\n      }\n\n      var parentMoveable = _this.props.parentMoveable;\n\n      if (parentMoveable) {\n        parentMoveable.checkUpdateRect();\n        return;\n      }\n\n      cancelAnimationFrame(_this._observerId);\n      _this._observerId = requestAnimationFrame(function () {\n        if (_this.isDragging()) {\n          return;\n        }\n\n        _this.updateRect();\n      });\n    };\n\n    return _this;\n  }\n\n  var __proto = MoveableManager.prototype;\n\n  __proto.render = function () {\n    var props = this.props;\n    var state = this.state;\n    var parentPosition = props.parentPosition,\n        className = props.className,\n        propsTarget = props.target,\n        zoom = props.zoom,\n        cspNonce = props.cspNonce,\n        translateZ = props.translateZ,\n        ControlBoxElement = props.cssStyled,\n        portalContainer = props.portalContainer;\n    this.checkUpdate();\n    this.updateRenderPoses();\n\n    var _a = parentPosition || {\n      left: 0,\n      top: 0\n    },\n        parentLeft = _a.left,\n        parentTop = _a.top;\n\n    var left = state.left,\n        top = state.top,\n        stateTarget = state.target,\n        direction = state.direction,\n        hasFixed = state.hasFixed;\n    var groupTargets = props.targets;\n    var isDisplay = (groupTargets && groupTargets.length || propsTarget) && stateTarget;\n    var isDragging = this.isDragging();\n    var ableAttributes = {};\n    this.getEnabledAbles().forEach(function (able) {\n      ableAttributes[\"data-able-\".concat(able.name.toLowerCase())] = true;\n    });\n    return createElement(ControlBoxElement, __assign$1({\n      cspNonce: cspNonce,\n      ref: ref(this, \"controlBox\"),\n      className: \"\".concat(prefix(\"control-box\", direction === -1 ? \"reverse\" : \"\", isDragging ? \"dragging\" : \"\"), \" \").concat(className)\n    }, ableAttributes, {\n      onClick: this.onPreventClick,\n      portalContainer: portalContainer,\n      style: {\n        \"position\": hasFixed ? \"fixed\" : \"absolute\",\n        \"display\": isDisplay ? \"block\" : \"none\",\n        \"transform\": \"translate3d(\".concat(left - parentLeft, \"px, \").concat(top - parentTop, \"px, \").concat(translateZ, \")\"),\n        \"--zoom\": zoom,\n        \"--zoompx\": \"\".concat(zoom, \"px\")\n      }\n    }), this.renderAbles(), this._renderLines());\n  };\n\n  __proto.componentDidMount = function () {\n    this.isUnmounted = false;\n    this.controlBox.getElement();\n    var props = this.props;\n    var parentMoveable = props.parentMoveable,\n        container = props.container,\n        wrapperMoveable = props.wrapperMoveable;\n\n    this._updateTargets();\n\n    this._updateNativeEvents();\n\n    this._updateEvents();\n\n    if (!container && !parentMoveable && !wrapperMoveable) {\n      this.updateRect(\"\", false, true);\n    }\n\n    this.updateCheckInput();\n\n    this._updateObserver(this.props);\n  };\n\n  __proto.componentDidUpdate = function (prevProps) {\n    this._updateNativeEvents();\n\n    this._updateEvents();\n\n    this._updateTargets();\n\n    this.updateCheckInput();\n\n    this._updateObserver(prevProps);\n  };\n\n  __proto.componentWillUnmount = function () {\n    this.isUnmounted = true;\n\n    this._emitter.off();\n\n    unset(this, \"targetGesto\");\n    unset(this, \"controlGesto\");\n    var events = this.events;\n\n    for (var name in events) {\n      var manager = events[name];\n      manager && manager.destroy();\n    }\n  };\n\n  __proto.getContainer = function () {\n    var _a = this.props,\n        parentMoveable = _a.parentMoveable,\n        wrapperMoveable = _a.wrapperMoveable,\n        container = _a.container;\n    return container || wrapperMoveable && wrapperMoveable.getContainer() || parentMoveable && parentMoveable.getContainer() || this.controlBox.getElement().parentElement;\n  };\n  /**\n   * Check if the target is an element included in the moveable.\n   * @method Moveable#isMoveableElement\n   * @param - the target\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * window.addEventListener(\"click\", e => {\n   *     if (!moveable.isMoveableElement(e.target)) {\n   *         moveable.target = e.target;\n   *     }\n   * });\n   */\n\n\n  __proto.isMoveableElement = function (target) {\n    return target && (target.getAttribute(\"class\") || \"\").indexOf(PREFIX) > -1;\n  };\n  /**\n   * You can drag start the Moveable through the external `MouseEvent`or `TouchEvent`. (Angular: ngDragStart)\n   * @method Moveable#dragStart\n   * @param - external `MouseEvent`or `TouchEvent`\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * document.body.addEventListener(\"mousedown\", e => {\n   *     if (!moveable.isMoveableElement(e.target)) {\n   *          moveable.dragStart(e);\n   *     }\n   * });\n   */\n\n\n  __proto.dragStart = function (e) {\n    var targetGesto = this.targetGesto;\n\n    if (targetGesto && !targetGesto.isFlag()) {\n      targetGesto.triggerDragStart(e);\n    }\n\n    return this;\n  };\n  /**\n   * Hit test an element or rect on a moveable target.\n   * @method Moveable#hitTest\n   * @param - element or rect to test\n   * @return - Get hit test rate (rate > 0 is hitted)\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * document.body.addEventListener(\"mousedown\", e => {\n   *     if (moveable.hitTest(e.target) > 0) {\n   *          console.log(\"hiited\");\n   *     }\n   * });\n   */\n\n\n  __proto.hitTest = function (el) {\n    var _a = this.state,\n        target = _a.target,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        pos3 = _a.pos3,\n        pos4 = _a.pos4,\n        targetClientRect = _a.targetClientRect;\n\n    if (!target) {\n      return 0;\n    }\n\n    var rect;\n\n    if (el instanceof Element) {\n      var clientRect = el.getBoundingClientRect();\n      rect = {\n        left: clientRect.left,\n        top: clientRect.top,\n        width: clientRect.width,\n        height: clientRect.height\n      };\n    } else {\n      rect = __assign$1({\n        width: 0,\n        height: 0\n      }, el);\n    }\n\n    var rectLeft = rect.left,\n        rectTop = rect.top,\n        rectWidth = rect.width,\n        rectHeight = rect.height;\n    var points = fitPoints([pos1, pos2, pos4, pos3], targetClientRect);\n    var size = getOverlapSize(points, [[rectLeft, rectTop], [rectLeft + rectWidth, rectTop], [rectLeft + rectWidth, rectTop + rectHeight], [rectLeft, rectTop + rectHeight]]);\n    var totalSize = getAreaSize(points);\n\n    if (!size || !totalSize) {\n      return 0;\n    }\n\n    return Math.min(100, size / totalSize * 100);\n  };\n  /**\n   * Whether the coordinates are inside Moveable\n   * @method Moveable#isInside\n   * @param - x coordinate\n   * @param - y coordinate\n   * @return - True if the coordinate is in moveable or false\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * document.body.addEventListener(\"mousedown\", e => {\n   *     if (moveable.isInside(e.clientX, e.clientY)) {\n   *          console.log(\"inside\");\n   *     }\n   * });\n   */\n\n\n  __proto.isInside = function (clientX, clientY) {\n    var _a = this.state,\n        target = _a.target,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        pos3 = _a.pos3,\n        pos4 = _a.pos4,\n        targetClientRect = _a.targetClientRect;\n\n    if (!target) {\n      return false;\n    }\n\n    return isInside([clientX, clientY], fitPoints([pos1, pos2, pos4, pos3], targetClientRect));\n  };\n  /**\n   * If the width, height, left, and top of all elements change, update the shape of the moveable.\n   * @method Moveable#updateRect\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * window.addEventListener(\"resize\", e => {\n   *     moveable.updateRect();\n   * });\n   */\n\n\n  __proto.updateRect = function (type, isTarget, isSetState) {\n    if (isSetState === void 0) {\n      isSetState = true;\n    }\n\n    var props = this.props;\n    var parentMoveable = props.parentMoveable;\n    var state = this.state;\n    var target = state.target || this.props.target;\n    var container = this.getContainer();\n    var rootContainer = parentMoveable ? parentMoveable.props.rootContainer : props.rootContainer;\n    this.updateState(getTargetInfo(this.controlBox && this.controlBox.getElement(), target, container, container, rootContainer || container), parentMoveable ? false : isSetState);\n  };\n  /**\n   * Check if the moveable state is being dragged.\n   * @method Moveable#isDragging\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * // false\n   * console.log(moveable.isDragging());\n   *\n   * moveable.on(\"drag\", () => {\n   *   // true\n   *   console.log(moveable.isDragging());\n   * });\n   */\n\n\n  __proto.isDragging = function () {\n    return (this.targetGesto ? this.targetGesto.isFlag() : false) || (this.controlGesto ? this.controlGesto.isFlag() : false);\n  };\n  /**\n   * If the width, height, left, and top of the only target change, update the shape of the moveable.\n   * @method Moveable#updateTarget\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * moveable.updateTarget();\n   */\n\n\n  __proto.updateTarget = function (type) {\n    this.updateRect(type, true);\n  };\n  /**\n   * You can get the vertex information, position and offset size information of the target based on the container.\n   * @method Moveable#getRect\n   * @return - The Rect Info\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * const rectInfo = moveable.getRect();\n   */\n\n\n  __proto.getRect = function () {\n    var state = this.state;\n    var poses = getAbsolutePosesByState(this.state);\n    var pos1 = poses[0],\n        pos2 = poses[1],\n        pos3 = poses[2],\n        pos4 = poses[3];\n    var rect = getRect(poses);\n    var offsetWidth = state.width,\n        offsetHeight = state.height;\n    var width = rect.width,\n        height = rect.height,\n        left = rect.left,\n        top = rect.top;\n    var statePos = [state.left, state.top];\n    var origin = plus(statePos, state.origin);\n    var beforeOrigin = plus(statePos, state.beforeOrigin);\n    var transformOrigin = state.transformOrigin;\n    return {\n      width: width,\n      height: height,\n      left: left,\n      top: top,\n      pos1: pos1,\n      pos2: pos2,\n      pos3: pos3,\n      pos4: pos4,\n      offsetWidth: offsetWidth,\n      offsetHeight: offsetHeight,\n      beforeOrigin: beforeOrigin,\n      origin: origin,\n      transformOrigin: transformOrigin,\n      rotation: this.getRotation()\n    };\n  };\n  /**\n   * Get a manager that manages the moveable's state and props.\n   * @method Moveable#getManager\n   * @return - The Rect Info\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * const manager = moveable.getManager(); // real moveable class instance\n   */\n\n\n  __proto.getManager = function () {\n    return this;\n  };\n\n  __proto.getRotation = function () {\n    var _a = this.state,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        direction = _a.direction;\n    return getAbsoluteRotation(pos1, pos2, direction);\n  };\n  /**\n   * Request able through a method rather than an event.\n   * At the moment of execution, requestStart is executed,\n   * and then request and requestEnd can be executed through Requester.\n   * @method Moveable#request\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Draggable.html#request|Draggable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Resizable.html#request|Resizable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Scalable.html#request|Scalable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Rotatable.html#request|Rotatable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.OriginDraggable.html#request|OriginDraggable Requester}\n   * @param - ableName\n   * @param - request to be able params.\n   * @param - If isInstant is true, request and requestEnd are executed immediately.\n   * @return - Able Requester. If there is no request in able, nothing will work.\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * // Instantly Request (requestStart - request - requestEnd)\n   * moveable.request(\"draggable\", { deltaX: 10, deltaY: 10 }, true);\n   *\n   * // Start move\n   * const requester = moveable.request(\"draggable\");\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.requestEnd();\n   */\n\n\n  __proto.request = function (ableName, param, isInstant) {\n    if (param === void 0) {\n      param = {};\n    }\n\n    var _a = this.props,\n        ables = _a.ables,\n        groupable = _a.groupable;\n    var requsetAble = ables.filter(function (able) {\n      return able.name === ableName;\n    })[0];\n\n    if (this.isDragging() || !requsetAble || !requsetAble.request) {\n      return {\n        request: function () {\n          return this;\n        },\n        requestEnd: function () {\n          return this;\n        }\n      };\n    }\n\n    var self = this;\n    var ableRequester = requsetAble.request(this);\n    var requestInstant = isInstant || param.isInstant;\n    var ableType = ableRequester.isControl ? \"controlAbles\" : \"targetAbles\";\n    var eventAffix = \"\".concat(groupable ? \"Group\" : \"\").concat(ableRequester.isControl ? \"Control\" : \"\");\n    var requester = {\n      request: function (ableParam) {\n        triggerAble(self, ableType, \"drag\", eventAffix, \"\", __assign$1(__assign$1({}, ableRequester.request(ableParam)), {\n          requestAble: ableName,\n          isRequest: true\n        }), requestInstant);\n        return this;\n      },\n      requestEnd: function () {\n        triggerAble(self, ableType, \"drag\", eventAffix, \"End\", __assign$1(__assign$1({}, ableRequester.requestEnd()), {\n          requestAble: ableName,\n          isRequest: true\n        }), requestInstant);\n        return this;\n      }\n    };\n    triggerAble(self, ableType, \"drag\", eventAffix, \"Start\", __assign$1(__assign$1({}, ableRequester.requestStart(param)), {\n      requestAble: ableName,\n      isRequest: true\n    }), requestInstant);\n    return requestInstant ? requester.request(param).requestEnd() : requester;\n  };\n  /**\n   * Remove the Moveable object and the events.\n   * @method Moveable#destroy\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * moveable.destroy();\n   */\n\n\n  __proto.destroy = function () {\n    this.componentWillUnmount();\n  };\n\n  __proto.updateRenderPoses = function () {\n    var state = this.state;\n    var props = this.props;\n    var originalBeforeOrigin = state.originalBeforeOrigin,\n        transformOrigin = state.transformOrigin,\n        allMatrix = state.allMatrix,\n        is3d = state.is3d,\n        pos1 = state.pos1,\n        pos2 = state.pos2,\n        pos3 = state.pos3,\n        pos4 = state.pos4,\n        stateLeft = state.left,\n        stateTop = state.top;\n\n    var _a = props.padding || {},\n        _b = _a.left,\n        left = _b === void 0 ? 0 : _b,\n        _c = _a.top,\n        top = _c === void 0 ? 0 : _c,\n        _d = _a.bottom,\n        bottom = _d === void 0 ? 0 : _d,\n        _e = _a.right,\n        right = _e === void 0 ? 0 : _e;\n\n    var n = is3d ? 4 : 3;\n    var absoluteOrigin = props.groupable ? originalBeforeOrigin : plus(originalBeforeOrigin, [stateLeft, stateTop]);\n    state.renderPoses = [plus(pos1, calculatePadding(allMatrix, [-left, -top], transformOrigin, absoluteOrigin, n)), plus(pos2, calculatePadding(allMatrix, [right, -top], transformOrigin, absoluteOrigin, n)), plus(pos3, calculatePadding(allMatrix, [-left, bottom], transformOrigin, absoluteOrigin, n)), plus(pos4, calculatePadding(allMatrix, [right, bottom], transformOrigin, absoluteOrigin, n))];\n  };\n\n  __proto.checkUpdate = function () {\n    var _a = this.props,\n        target = _a.target,\n        container = _a.container,\n        parentMoveable = _a.parentMoveable;\n    var _b = this.state,\n        stateTarget = _b.target,\n        stateContainer = _b.container;\n\n    if (!stateTarget && !target) {\n      return;\n    }\n\n    this.updateAbles();\n    var isChanged = !equals(stateTarget, target) || !equals(stateContainer, container);\n\n    if (!isChanged) {\n      return;\n    }\n\n    var moveableContainer = container || this.controlBox;\n\n    if (moveableContainer) {\n      this.unsetAbles();\n    }\n\n    this.updateState({\n      target: target,\n      container: container\n    });\n\n    if (!parentMoveable && moveableContainer) {\n      this.updateRect(\"End\", false, false);\n    }\n  };\n\n  __proto.triggerEvent = function (name, e) {\n    this._emitter.trigger(name, e);\n\n    var callback = this.props[name];\n    return callback && callback(e);\n  };\n\n  __proto.useCSS = function (tag, css) {\n    var customStyleMap = this.props.customStyledMap;\n    var key = tag + css;\n\n    if (!customStyleMap[key]) {\n      customStyleMap[key] = styled(tag, css);\n    }\n\n    return customStyleMap[key];\n  };\n\n  __proto.unsetAbles = function () {\n    var _this = this;\n\n    this.targetAbles.forEach(function (able) {\n      if (able.unset) {\n        able.unset(_this);\n      }\n    });\n  };\n\n  __proto.updateAbles = function (ables, eventAffix) {\n    if (ables === void 0) {\n      ables = this.props.ables;\n    }\n\n    if (eventAffix === void 0) {\n      eventAffix = \"\";\n    }\n\n    var props = this.props;\n    var triggerAblesSimultaneously = props.triggerAblesSimultaneously;\n    var enabledAbles = ables.filter(function (able) {\n      return able && (able.always && props[able.name] !== false || props[able.name]);\n    });\n    var dragStart = \"drag\".concat(eventAffix, \"Start\");\n    var pinchStart = \"pinch\".concat(eventAffix, \"Start\");\n    var dragControlStart = \"drag\".concat(eventAffix, \"ControlStart\");\n    var targetAbles = filterAbles(enabledAbles, [dragStart, pinchStart], triggerAblesSimultaneously);\n    var controlAbles = filterAbles(enabledAbles, [dragControlStart], triggerAblesSimultaneously);\n    this.enabledAbles = enabledAbles;\n    this.targetAbles = targetAbles;\n    this.controlAbles = controlAbles;\n  };\n\n  __proto.updateState = function (nextState, isSetState) {\n    if (isSetState) {\n      if (this.isUnmounted) {\n        return;\n      }\n\n      this.setState(nextState);\n    } else {\n      var state = this.state;\n\n      for (var name in nextState) {\n        state[name] = nextState[name];\n      }\n    }\n  };\n\n  __proto.getEnabledAbles = function () {\n    var props = this.props;\n    var ables = props.ables;\n    return ables.filter(function (able) {\n      return able && props[able.name];\n    });\n  };\n\n  __proto.renderAbles = function () {\n    var _this = this;\n\n    var props = this.props;\n    var triggerAblesSimultaneously = props.triggerAblesSimultaneously;\n    var Renderer = {\n      createElement: createElement\n    };\n    return groupByMap(flat(filterAbles(this.getEnabledAbles(), [\"render\"], triggerAblesSimultaneously).map(function (_a) {\n      var render = _a.render;\n      return render(_this, Renderer) || [];\n    })).filter(function (el) {\n      return el;\n    }), function (_a) {\n      var key = _a.key;\n      return key;\n    }).map(function (group) {\n      return group[0];\n    });\n  };\n\n  __proto.updateCheckInput = function () {\n    this.targetGesto && (this.targetGesto.options.checkInput = this.props.checkInput);\n  };\n\n  __proto._updateObserver = function (prevProps) {\n    var _a;\n\n    var props = this.props;\n    var target = props.target;\n\n    if (!window.ResizeObserver || !target || !props.useResizeObserver) {\n      (_a = this._observer) === null || _a === void 0 ? void 0 : _a.disconnect();\n      return;\n    }\n\n    if (prevProps.target === target && this._observer) {\n      return;\n    }\n\n    var observer = new ResizeObserver(this.checkUpdateRect);\n    observer.observe(target, {\n      box: \"border-box\"\n    });\n    this._observer = observer;\n    return;\n  };\n\n  __proto._updateEvents = function () {\n    var controlBoxElement = this.controlBox.getElement();\n    var hasTargetAble = this.targetAbles.length;\n    var hasControlAble = this.controlAbles.length;\n    var props = this.props;\n    var target = props.dragTarget || props.target;\n\n    var isUnset = !hasTargetAble && this.targetGesto || this._isTargetChanged(true);\n\n    if (isUnset) {\n      unset(this, \"targetGesto\");\n      this.updateState({\n        gesto: null\n      });\n    }\n\n    if (!hasControlAble) {\n      unset(this, \"controlGesto\");\n    }\n\n    if (target && hasTargetAble && !this.targetGesto) {\n      this.targetGesto = getTargetAbleGesto(this, target, \"\");\n    }\n\n    if (!this.controlGesto && hasControlAble) {\n      this.controlGesto = getAbleGesto(this, controlBoxElement, \"controlAbles\", \"Control\");\n    }\n  };\n\n  __proto._updateTargets = function () {\n    var props = this.props;\n    this._prevTarget = props.dragTarget || props.target;\n    this._prevDragArea = props.dragArea;\n  };\n\n  __proto._renderLines = function () {\n    var props = this.props;\n    var edge = props.edge,\n        zoom = props.zoom,\n        hideDefaultLines = props.hideDefaultLines;\n\n    if (hideDefaultLines) {\n      return [];\n    }\n\n    var renderPoses = this.state.renderPoses;\n    var Renderer = {\n      createElement: createElement\n    };\n    return [renderLine(Renderer, edge ? \"n\" : \"\", renderPoses[0], renderPoses[1], zoom, 0), renderLine(Renderer, edge ? \"e\" : \"\", renderPoses[1], renderPoses[3], zoom, 1), renderLine(Renderer, edge ? \"w\" : \"\", renderPoses[0], renderPoses[2], zoom, 2), renderLine(Renderer, edge ? \"s\" : \"\", renderPoses[2], renderPoses[3], zoom, 3)];\n  };\n\n  __proto._isTargetChanged = function (useDragArea) {\n    var props = this.props;\n    var target = props.dragTarget || props.target;\n    var prevTarget = this._prevTarget;\n    var prevDragArea = this._prevDragArea;\n    var dragArea = props.dragArea; // check target without dragArea\n\n    var isTargetChanged = !dragArea && prevTarget !== target;\n    var isDragAreaChanged = (useDragArea || dragArea) && prevDragArea !== dragArea;\n    return isTargetChanged || isDragAreaChanged;\n  };\n\n  __proto._updateNativeEvents = function () {\n    var _this = this;\n\n    var props = this.props;\n    var target = props.dragArea ? this.areaElement : this.state.target;\n    var events = this.events;\n    var eventKeys = getKeys(events);\n\n    if (this._isTargetChanged()) {\n      for (var eventName in events) {\n        var manager = events[eventName];\n        manager && manager.destroy();\n        events[eventName] = null;\n      }\n    }\n\n    if (!target) {\n      return;\n    }\n\n    var enabledAbles = this.enabledAbles;\n    eventKeys.forEach(function (eventName) {\n      var ables = filterAbles(enabledAbles, [eventName]);\n      var hasAbles = ables.length > 0;\n      var manager = events[eventName];\n\n      if (!hasAbles) {\n        if (manager) {\n          manager.destroy();\n          events[eventName] = null;\n        }\n\n        return;\n      }\n\n      if (!manager) {\n        manager = new EventManager(target, _this, eventName);\n        events[eventName] = manager;\n      }\n\n      manager.setAbles(ables);\n    });\n  };\n\n  MoveableManager.defaultProps = {\n    target: null,\n    dragTarget: null,\n    container: null,\n    rootContainer: null,\n    origin: true,\n    edge: false,\n    parentMoveable: null,\n    wrapperMoveable: null,\n    parentPosition: null,\n    portalContainer: null,\n    useResizeObserver: false,\n    ables: [],\n    pinchThreshold: 20,\n    dragArea: false,\n    passDragArea: false,\n    transformOrigin: \"\",\n    className: \"\",\n    zoom: 1,\n    triggerAblesSimultaneously: false,\n    padding: {},\n    pinchOutside: true,\n    checkInput: false,\n    groupable: false,\n    hideDefaultLines: false,\n    cspNonce: \"\",\n    translateZ: 0,\n    cssStyled: null,\n    customStyledMap: {},\n    props: {}\n  };\n  return MoveableManager;\n}(PureComponent);\n/**\n * The target to indicate Moveable Control Box.\n * @name Moveable#target\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.target = document.querySelector(\".target\");\n */\n\n/**\n * Zooms in the elements of a moveable.\n * @name Moveable#zoom\n * @default 1\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.zoom = 2;\n */\n\n/**\n * Whether the target size is detected and updated whenever it changes.\n * @name Moveable#zoom\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.useResizeObserver = true;\n */\n\n/**\n * Resize, Scale Events at edges\n * @name Moveable#edge\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.edge = true;\n */\n\n/**\n * You can specify the className of the moveable controlbox.\n * @name Moveable#className\n * @default \"\"\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   className: \"\",\n * });\n *\n * moveable.className = \"moveable1\";\n */\n\n/**\n * The target(s) to drag Moveable target(s)\n * @name Moveable#dragTarget\n * @default target\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.target = document.querySelector(\".target\");\n * moveable.dragTarget = document.querySelector(\".dragTarget\");\n */\n\n/**\n * `renderStart` event occurs at the first start of all events.\n * @memberof Moveable\n * @event renderStart\n * @param {Moveable.OnRenderStart} - Parameters for the `renderStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"renderStart\", ({ target }) => {\n *     console.log(\"onRenderStart\", target);\n * });\n */\n\n/**\n * `render` event occurs before the target is drawn on the screen.\n * @memberof Moveable\n * @event render\n * @param {Moveable.OnRender} - Parameters for the `render` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"render\", ({ target }) => {\n *     console.log(\"onRender\", target);\n * });\n */\n\n/**\n * `renderEnd` event occurs at the end of all events.\n * @memberof Moveable\n * @event renderEnd\n * @param {Moveable.OnRenderEnd} - Parameters for the `renderEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"renderEnd\", ({ target }) => {\n *     console.log(\"onRenderEnd\", target);\n * });\n */\n\n/**\n * `renderGroupStart` event occurs at the first start of all events in group.\n * @memberof Moveable\n * @event renderGroupStart\n * @param {Moveable.OnRenderGroupStart} - Parameters for the `renderGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"renderGroupStart\", ({ targets }) => {\n *     console.log(\"onRenderGroupStart\", targets);\n * });\n */\n\n/**\n * `renderGroup` event occurs before the target is drawn on the screen in group.\n * @memberof Moveable\n * @event renderGroup\n * @param {Moveable.OnRenderGroup} - Parameters for the `renderGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"renderGroup\", ({ targets }) => {\n *     console.log(\"onRenderGroup\", targets);\n * });\n */\n\n/**\n * `renderGroupEnd` event occurs at the end of all events in group.\n * @memberof Moveable\n * @event renderGroupEnd\n * @param {Moveable.OnRenderGroupEnd} - Parameters for the `renderGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"renderGroupEnd\", ({ targets }) => {\n *     console.log(\"onRenderGroupEnd\", targets);\n * });\n */\n\n\nvar Groupable = {\n  name: \"groupable\",\n  props: {\n    defaultGroupRotate: Number,\n    defaultGroupOrigin: String,\n    groupable: Boolean\n  },\n  events: {},\n  render: function (moveable, React) {\n    var targets = moveable.props.targets || [];\n    moveable.moveables = [];\n    var _a = moveable.state,\n        left = _a.left,\n        top = _a.top;\n    var position = {\n      left: left,\n      top: top\n    };\n    var props = moveable.props;\n    return targets.map(function (target, i) {\n      return React.createElement(MoveableManager, {\n        key: \"moveable\" + i,\n        ref: refs(moveable, \"moveables\", i),\n        target: target,\n        origin: false,\n        cssStyled: props.cssStyled,\n        customStyledMap: props.customStyledMap,\n        useResizeObserver: props.useResizeObserver,\n        parentMoveable: moveable,\n        parentPosition: position\n      });\n    });\n  }\n};\nvar Clickable = makeAble(\"clickable\", {\n  props: {\n    clickable: Boolean\n  },\n  events: {\n    onClick: \"click\",\n    onClickGroup: \"clickGroup\"\n  },\n  always: true,\n  dragRelation: \"weak\",\n  dragStart: function (moveable, e) {\n    if (!e.isRequest) {\n      addEvent(window, \"click\", moveable.onPreventClick, true);\n    }\n  },\n  dragControlStart: function (moveable, e) {\n    this.dragStart(moveable, e);\n  },\n  dragGroupStart: function (moveable, e) {\n    this.dragStart(moveable, e);\n    e.datas.inputTarget = e.inputEvent && e.inputEvent.target;\n  },\n  dragEnd: function (moveable, e) {\n    this.endEvent(moveable);\n    var target = moveable.state.target;\n    var inputEvent = e.inputEvent;\n    var inputTarget = e.inputTarget;\n    var isMoveableElement = moveable.isMoveableElement(inputTarget);\n    var containsElement = !isMoveableElement && moveable.controlBox.getElement().contains(inputTarget);\n\n    if (!e.isDrag || containsElement) {\n      this.unset(moveable);\n    }\n\n    if (!inputEvent || !inputTarget || e.isDrag || moveable.isMoveableElement(inputTarget) || containsElement // External event duplicate target or dragAreaElement\n    ) {\n        return;\n      }\n\n    var containsTarget = target.contains(inputTarget);\n    triggerEvent(moveable, \"onClick\", fillParams(moveable, e, {\n      isDouble: e.isDouble,\n      inputTarget: inputTarget,\n      isTarget: target === inputTarget,\n      containsTarget: containsTarget\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    this.endEvent(moveable);\n    var inputEvent = e.inputEvent;\n    var inputTarget = e.inputTarget;\n\n    if (!inputEvent || !inputTarget || e.isDrag || moveable.isMoveableElement(inputTarget) // External event duplicate target or dragAreaElement\n    || e.datas.inputTarget === inputTarget) {\n      return;\n    }\n\n    var targets = moveable.props.targets;\n    var targetIndex = targets.indexOf(inputTarget);\n    var isTarget = targetIndex > -1;\n    var containsTarget = false;\n\n    if (targetIndex === -1) {\n      targetIndex = findIndex(targets, function (parentTarget) {\n        return parentTarget.contains(inputTarget);\n      });\n      containsTarget = targetIndex > -1;\n    }\n\n    triggerEvent(moveable, \"onClickGroup\", fillParams(moveable, e, {\n      isDouble: e.isDouble,\n      targets: targets,\n      inputTarget: inputTarget,\n      targetIndex: targetIndex,\n      isTarget: isTarget,\n      containsTarget: containsTarget\n    }));\n  },\n  dragControlEnd: function (moveable, e) {\n    this.dragEnd(moveable, e);\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    this.dragEnd(moveable, e);\n  },\n  endEvent: function (moveable) {\n    var _this = this;\n\n    requestAnimationFrame(function () {\n      _this.unset(moveable);\n    });\n  },\n  unset: function (moveable) {\n    removeEvent(window, \"click\", moveable.onPreventClick, true);\n  }\n});\n/**\n * When you click on the element, the `click` event is called.\n * @memberof Moveable\n * @event click\n * @param {Moveable.OnClick} - Parameters for the `click` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"click\", ({ hasTarget, containsTarget, targetIndex }) => {\n *     // If you click on an element other than the target and not included in the target, index is -1.\n *     console.log(\"onClickGroup\", target, hasTarget, containsTarget, targetIndex);\n * });\n */\n\n/**\n * When you click on the element inside the group, the `clickGroup` event is called.\n * @memberof Moveable\n * @event clickGroup\n * @param {Moveable.OnClickGroup} - Parameters for the `clickGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"clickGroup\", ({ inputTarget, isTarget, containsTarget, targetIndex }) => {\n *     // If you click on an element other than the target and not included in the target, index is -1.\n *     console.log(\"onClickGroup\", inputTarget, isTarget, containsTarget, targetIndex);\n * });\n */\n\nfunction getDraggableEvent(e) {\n  var datas = e.originalDatas.draggable;\n\n  if (!datas) {\n    e.originalDatas.draggable = {};\n    datas = e.originalDatas.draggable;\n  }\n\n  return __assign$1(__assign$1({}, e), {\n    datas: datas\n  });\n}\n\nvar edgeDraggable = makeAble(\"edgeDraggable\", {\n  dragControlCondition: function (moveable, e) {\n    if (!moveable.props.edgeDraggable || !e.inputEvent) {\n      return false;\n    }\n\n    var target = e.inputEvent.target;\n    return hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"line\"));\n  },\n  dragControlStart: function (moveable, e) {\n    return Draggable.dragStart(moveable, getDraggableEvent(e));\n  },\n  dragControl: function (moveable, e) {\n    return Draggable.drag(moveable, getDraggableEvent(e));\n  },\n  dragControlEnd: function (moveable, e) {\n    return Draggable.dragEnd(moveable, getDraggableEvent(e));\n  },\n  dragGroupControlCondition: function (moveable, e) {\n    if (!moveable.props.edgeDraggable || !e.inputEvent) {\n      return false;\n    }\n\n    var target = e.inputEvent.target;\n    return hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"line\"));\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return Draggable.dragGroupStart(moveable, getDraggableEvent(e));\n  },\n  dragGroupControl: function (moveable, e) {\n    return Draggable.dragGroup(moveable, getDraggableEvent(e));\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    return Draggable.dragGroupEnd(moveable, getDraggableEvent(e));\n  },\n  unset: function (moveable) {\n    return Draggable.unset(moveable);\n  }\n});\n/**\n * Whether to move by dragging the edge line (default: false)\n * @name Moveable.Draggable#edgeDraggable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  draggable: true,\n *  edgeDraggable: false,\n * });\n *\n * moveable.edgeDraggable = true;\n */\n\nvar IndividualGroupable = {\n  name: \"individualGroupable\",\n  props: {\n    individualGroupable: Boolean\n  },\n  events: {}\n};\nvar MOVEABLE_ABLES =\n/*#__PURE__*/\n[BeforeRenderable, Default, Snappable, Pinchable, Draggable, edgeDraggable, Rotatable, Resizable, Scalable, Warpable, Scrollable, Padding, Origin, OriginDraggable, Clippable, Roundable, Groupable, IndividualGroupable, Clickable, DragArea, Renderable];\nvar MOVEABLE_EVENTS_PROPS_MAP =\n/*#__PURE__*/\nMOVEABLE_ABLES.reduce(function (current, able) {\n  return __assign$1(__assign$1({}, current), \"events\" in able ? able.events : {});\n}, {});\nvar MOVEABLE_PROPS_MAP =\n/*#__PURE__*/\nMOVEABLE_ABLES.reduce(function (current, able) {\n  return __assign$1(__assign$1({}, current), able.props);\n}, {});\nvar MOVEABLE_EVENTS_MAP =\n/*#__PURE__*/\ninvertObject(MOVEABLE_EVENTS_PROPS_MAP);\nvar MOVEABLE_EVENTS = Object.keys(MOVEABLE_EVENTS_MAP);\nvar MOVEABLE_PROPS = Object.keys(MOVEABLE_PROPS_MAP);\n\nfunction getMaxPos(poses, index) {\n  return Math.max.apply(Math, poses.map(function (_a) {\n    var pos1 = _a[0],\n        pos2 = _a[1],\n        pos3 = _a[2],\n        pos4 = _a[3];\n    return Math.max(pos1[index], pos2[index], pos3[index], pos4[index]);\n  }));\n}\n\nfunction getMinPos(poses, index) {\n  return Math.min.apply(Math, poses.map(function (_a) {\n    var pos1 = _a[0],\n        pos2 = _a[1],\n        pos3 = _a[2],\n        pos4 = _a[3];\n    return Math.min(pos1[index], pos2[index], pos3[index], pos4[index]);\n  }));\n}\n\nfunction getGroupRect(moveables, rotation) {\n  if (!moveables.length) {\n    return [0, 0, 0, 0];\n  }\n\n  var moveablePoses = moveables.map(function (_a) {\n    var state = _a.state;\n    return getAbsolutePosesByState(state);\n  });\n  var minX = MAX_NUM;\n  var minY = MAX_NUM;\n  var groupWidth = 0;\n  var groupHeight = 0;\n  var fixedRotation = throttle(rotation, TINY_NUM);\n\n  if (fixedRotation % 90) {\n    var rad_1 = fixedRotation / 180 * Math.PI;\n    var a1_1 = Math.tan(rad_1);\n    var a2_1 = -1 / a1_1;\n    var b1MinMax_1 = [MIN_NUM, MAX_NUM];\n    var b2MinMax_1 = [MIN_NUM, MAX_NUM];\n    moveablePoses.forEach(function (poses) {\n      poses.forEach(function (pos) {\n        // ax + b = y\n        // b = y - ax\n        var b1 = pos[1] - a1_1 * pos[0];\n        var b2 = pos[1] - a2_1 * pos[0];\n        b1MinMax_1[0] = Math.max(b1MinMax_1[0], b1);\n        b1MinMax_1[1] = Math.min(b1MinMax_1[1], b1);\n        b2MinMax_1[0] = Math.max(b2MinMax_1[0], b2);\n        b2MinMax_1[1] = Math.min(b2MinMax_1[1], b2);\n      });\n    });\n    b1MinMax_1.forEach(function (b1) {\n      // a1x + b1 = a2x + b2\n      b2MinMax_1.forEach(function (b2) {\n        // (a1 - a2)x = b2 - b1\n        var x = (b2 - b1) / (a1_1 - a2_1);\n        var y = a1_1 * x + b1;\n        minX = Math.min(minX, x);\n        minY = Math.min(minY, y);\n      });\n    });\n    var rotatePoses = moveablePoses.map(function (_a) {\n      var pos1 = _a[0],\n          pos2 = _a[1],\n          pos3 = _a[2],\n          pos4 = _a[3];\n      return [rotate(pos1, -rad_1), rotate(pos2, -rad_1), rotate(pos3, -rad_1), rotate(pos4, -rad_1)];\n    });\n    groupWidth = getMaxPos(rotatePoses, 0) - getMinPos(rotatePoses, 0);\n    groupHeight = getMaxPos(rotatePoses, 1) - getMinPos(rotatePoses, 1);\n  } else {\n    minX = getMinPos(moveablePoses, 0);\n    minY = getMinPos(moveablePoses, 1);\n    groupWidth = getMaxPos(moveablePoses, 0) - minX;\n    groupHeight = getMaxPos(moveablePoses, 1) - minY;\n\n    if (fixedRotation % 180) {\n      var changedWidth = groupWidth;\n      groupWidth = groupHeight;\n      groupHeight = changedWidth;\n    }\n  }\n\n  return [minX, minY, groupWidth, groupHeight];\n}\n/**\n * @namespace Moveable.Group\n * @description You can make targets moveable.\n */\n\n\nvar MoveableGroup =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MoveableGroup, _super);\n\n  function MoveableGroup() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.differ = new ChildrenDiffer();\n    _this.moveables = [];\n    _this.transformOrigin = \"50% 50%\";\n    return _this;\n  }\n\n  var __proto = MoveableGroup.prototype;\n\n  __proto.checkUpdate = function () {\n    this.updateAbles();\n  };\n\n  __proto.updateRect = function (type, isTarget, isSetState) {\n    if (isSetState === void 0) {\n      isSetState = true;\n    }\n\n    if (!this.controlBox) {\n      return;\n    }\n\n    this.moveables.forEach(function (moveable) {\n      moveable.updateRect(type, false, false);\n    });\n    var state = this.state;\n    var props = this.props;\n    var target = state.target || props.target;\n\n    if (!isTarget || type !== \"\" && props.updateGroup) {\n      // reset rotataion\n      this.rotation = props.defaultGroupRotate;\n      this.transformOrigin = props.defaultGroupOrigin || \"50% 50%\";\n      this.scale = [1, 1];\n    }\n\n    var rotation = this.rotation;\n    var scale = this.scale;\n\n    var _a = getGroupRect(this.moveables, rotation),\n        left = _a[0],\n        top = _a[1],\n        width = _a[2],\n        height = _a[3]; // tslint:disable-next-line: max-line-length\n\n\n    var transform = \"rotate(\".concat(rotation, \"deg) scale(\").concat(scale[0] >= 0 ? 1 : -1, \", \").concat(scale[1] >= 0 ? 1 : -1, \")\");\n    target.style.cssText += \"left:0px;top:0px; transform-origin: \".concat(this.transformOrigin, \"; width:\").concat(width, \"px; height:\").concat(height, \"px;\") + \"transform:\".concat(transform);\n    state.width = width;\n    state.height = height;\n    var container = this.getContainer();\n    var info = getTargetInfo(this.controlBox.getElement(), target, this.controlBox.getElement(), this.getContainer(), this.props.rootContainer || container);\n    var pos = [info.left, info.top];\n\n    var _b = getAbsolutePosesByState(info),\n        pos1 = _b[0],\n        pos2 = _b[1],\n        pos3 = _b[2],\n        pos4 = _b[3]; // info.left + info.pos(1 ~ 4)\n\n\n    var minPos = getMinMaxs([pos1, pos2, pos3, pos4]);\n    var delta = [minPos.minX, minPos.minY];\n    info.pos1 = minus(pos1, delta);\n    info.pos2 = minus(pos2, delta);\n    info.pos3 = minus(pos3, delta);\n    info.pos4 = minus(pos4, delta);\n    info.left = left - info.left + delta[0];\n    info.top = top - info.top + delta[1];\n    info.origin = minus(plus(pos, info.origin), delta);\n    info.beforeOrigin = minus(plus(pos, info.beforeOrigin), delta);\n    info.originalBeforeOrigin = plus(pos, info.originalBeforeOrigin); // info.transformOrigin = minus(plus(pos, info.transformOrigin!), delta);\n\n    var clientRect = info.targetClientRect;\n    var direction = scale[0] * scale[1] > 0 ? 1 : -1;\n    clientRect.top += info.top - state.top;\n    clientRect.left += info.left - state.left;\n    target.style.transform = \"translate(\".concat(-delta[0], \"px, \").concat(-delta[1], \"px) \").concat(transform);\n    this.updateState(__assign$1(__assign$1({}, info), {\n      direction: direction,\n      beforeDirection: direction\n    }), isSetState);\n  };\n\n  __proto.getRect = function () {\n    return __assign$1(__assign$1({}, _super.prototype.getRect.call(this)), {\n      children: this.moveables.map(function (child) {\n        return child.getRect();\n      })\n    });\n  };\n\n  __proto.triggerEvent = function (name, e, isManager) {\n    if (isManager || name.indexOf(\"Group\") > -1) {\n      return _super.prototype.triggerEvent.call(this, name, e);\n    } else {\n      this._emitter.trigger(name, e);\n    }\n  };\n\n  __proto.updateAbles = function () {\n    _super.prototype.updateAbles.call(this, __spreadArray(__spreadArray([], this.props.ables, true), [Groupable], false), \"Group\");\n  };\n\n  __proto._updateTargets = function () {\n    _super.prototype._updateTargets.call(this);\n\n    this._prevTarget = this.props.dragTarget || this.areaElement;\n  };\n\n  __proto._updateEvents = function () {\n    var state = this.state;\n    var props = this.props;\n    var prevTarget = this._prevTarget;\n    var nextTarget = props.dragTarget || this.areaElement;\n\n    if (prevTarget !== nextTarget) {\n      unset(this, \"targetGesto\");\n      unset(this, \"controlGesto\");\n      state.target = null;\n    }\n\n    if (!state.target) {\n      state.target = this.areaElement;\n      this.controlBox.getElement().style.display = \"block\";\n      this.targetGesto = getTargetAbleGesto(this, nextTarget, \"Group\");\n      this.controlGesto = getAbleGesto(this, this.controlBox.getElement(), \"controlAbles\", \"GroupControl\");\n    }\n\n    var isContainerChanged = !equals(state.container, props.container);\n\n    if (isContainerChanged) {\n      state.container = props.container;\n    }\n\n    var _a = this.differ.update(props.targets),\n        added = _a.added,\n        changed = _a.changed,\n        removed = _a.removed;\n\n    if (isContainerChanged || added.length || changed.length || removed.length) {\n      this.updateRect();\n    }\n  };\n\n  __proto._updateObserver = function () {};\n\n  MoveableGroup.defaultProps = __assign$1(__assign$1({}, MoveableManager.defaultProps), {\n    transformOrigin: [\"50%\", \"50%\"],\n    groupable: true,\n    dragArea: true,\n    keepRatio: true,\n    targets: [],\n    defaultGroupRotate: 0,\n    defaultGroupOrigin: \"50% 50%\"\n  });\n  return MoveableGroup;\n}(MoveableManager);\n/**\n * @namespace Moveable.IndividualGroup\n * @description Create targets individually, not as a group.Create targets individually, not as a group.\n */\n\n\nvar MoveableIndividualGroup =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MoveableIndividualGroup, _super);\n\n  function MoveableIndividualGroup() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.moveables = [];\n    return _this;\n  }\n\n  var __proto = MoveableIndividualGroup.prototype;\n\n  __proto.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        cspNonce = _a.cspNonce,\n        ControlBoxElement = _a.cssStyled,\n        targets = _a.targets;\n    return createElement(ControlBoxElement, {\n      cspNonce: cspNonce,\n      ref: ref(this, \"controlBox\"),\n      className: prefix(\"control-box\")\n    }, targets.map(function (target, i) {\n      return createElement(MoveableManager, __assign$1({\n        key: \"moveable\" + i,\n        ref: refs(_this, \"moveables\", i)\n      }, _this.props, {\n        target: target,\n        wrapperMoveable: _this\n      }));\n    }));\n  };\n\n  __proto.componentDidUpdate = function () {};\n\n  __proto.updateRect = function (type, isTarget, isSetState) {\n    if (isSetState === void 0) {\n      isSetState = true;\n    }\n\n    this.moveables.forEach(function (moveable) {\n      moveable.updateRect(type, isTarget, isSetState);\n    });\n  };\n\n  __proto.getRect = function () {\n    return __assign$1(__assign$1({}, _super.prototype.getRect.call(this)), {\n      children: this.moveables.map(function (child) {\n        return child.getRect();\n      })\n    });\n  };\n\n  __proto.request = function () {\n    return {\n      request: function () {\n        return this;\n      },\n      requestEnd: function () {\n        return this;\n      }\n    };\n  };\n\n  __proto.dragStart = function () {\n    return this;\n  };\n\n  __proto.hitTest = function () {\n    return 0;\n  };\n\n  __proto.isInside = function () {\n    return false;\n  };\n\n  __proto.isDragging = function () {\n    return false;\n  };\n\n  __proto.updateRenderPoses = function () {};\n\n  __proto.checkUpdate = function () {};\n\n  __proto.triggerEvent = function () {};\n\n  __proto.updateAbles = function () {};\n\n  __proto._updateEvents = function () {};\n\n  __proto._updateObserver = function () {};\n\n  return MoveableIndividualGroup;\n}(MoveableManager);\n\nvar InitialMoveable =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(InitialMoveable, _super);\n\n  function InitialMoveable() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.refTargets = [];\n    _this.selectorMap = {};\n    return _this;\n  }\n\n  var __proto = InitialMoveable.prototype;\n\n  InitialMoveable.makeStyled = function () {\n    var cssMap = {};\n    var ables = this.getTotalAbles();\n    ables.forEach(function (_a) {\n      var css = _a.css;\n\n      if (!css) {\n        return;\n      }\n\n      css.forEach(function (text) {\n        cssMap[text] = true;\n      });\n    });\n    var style = getKeys(cssMap).join(\"\\n\");\n    this.defaultStyled = styled(\"div\", prefixCSS(PREFIX, MOVEABLE_CSS + style));\n  };\n\n  InitialMoveable.getTotalAbles = function () {\n    return __spreadArray([Default, Groupable, IndividualGroupable, DragArea], this.defaultAbles, true);\n  };\n\n  __proto.render = function () {\n    var moveableContructor = this.constructor;\n\n    if (!moveableContructor.defaultStyled) {\n      moveableContructor.makeStyled();\n    }\n\n    var _a = this.props,\n        userAbles = _a.ables,\n        userProps = _a.props,\n        props = __rest(_a, [\"ables\", \"props\"]);\n\n    var refTargets = this._updateRefs(true);\n\n    var elementTargets = getElementTargets(refTargets, this.selectorMap);\n    var isGroup = elementTargets.length > 1;\n    var totalAbles = moveableContructor.getTotalAbles();\n\n    var ables = __spreadArray(__spreadArray([], totalAbles, true), userAbles || [], true);\n\n    var nextProps = __assign$1(__assign$1(__assign$1({}, props), userProps || {}), {\n      ables: ables,\n      cssStyled: moveableContructor.defaultStyled,\n      customStyledMap: moveableContructor.customStyledMap\n    });\n\n    if (isGroup) {\n      if (props.individualGroupable) {\n        return createElement(MoveableIndividualGroup, __assign$1({\n          key: \"individual-group\",\n          ref: ref(this, \"moveable\")\n        }, nextProps, {\n          target: null,\n          targets: elementTargets\n        }));\n      }\n\n      return createElement(MoveableGroup, __assign$1({\n        key: \"group\",\n        ref: ref(this, \"moveable\")\n      }, nextProps, {\n        target: null,\n        targets: elementTargets\n      }));\n    } else {\n      return createElement(MoveableManager, __assign$1({\n        key: \"single\",\n        ref: ref(this, \"moveable\")\n      }, nextProps, {\n        target: elementTargets[0]\n      }));\n    }\n  };\n\n  __proto.componentDidMount = function () {\n    this._updateRefs();\n  };\n\n  __proto.componentDidUpdate = function () {\n    this._updateRefs();\n  };\n\n  __proto.componentWillUnmount = function () {\n    this.selectorMap = {};\n    this.refTargets = [];\n  };\n\n  __proto.getManager = function () {\n    return this.moveable;\n  };\n\n  __proto._updateRefs = function (isRender) {\n    var prevRefTargets = this.refTargets;\n    var nextRefTargets = getRefTargets(this.props.target || this.props.targets);\n    var isBrowser = typeof document !== \"undefined\";\n    var isUpdate = prevRefTargets.length !== nextRefTargets.length || prevRefTargets.some(function (target, i) {\n      var nextTarget = nextRefTargets[i];\n\n      if (!target && !nextTarget) {\n        return false;\n      } else if (target !== nextTarget) {\n        return true;\n      }\n\n      return false;\n    });\n    var selectorMap = this.selectorMap;\n    var nextSelectorMap = {};\n    this.refTargets.forEach(function (target) {\n      if (isString(target)) {\n        var selectorTarget = selectorMap[target];\n\n        if (selectorTarget) {\n          nextSelectorMap[target] = selectorMap[target];\n        } else if (isBrowser) {\n          isUpdate = true;\n          nextSelectorMap[target] = [].slice.call(document.querySelectorAll(target));\n        }\n      }\n    });\n    this.refTargets = nextRefTargets;\n    this.selectorMap = nextSelectorMap;\n\n    if (!isRender && isUpdate) {\n      this.forceUpdate();\n    }\n\n    return nextRefTargets;\n  };\n\n  InitialMoveable.defaultAbles = [];\n  InitialMoveable.customStyledMap = {};\n  InitialMoveable.defaultStyled = null;\n\n  __decorate([withMethods(MOVEABLE_METHODS)], InitialMoveable.prototype, \"moveable\", void 0);\n\n  return InitialMoveable;\n}(PureComponent);\n\nvar Moveable =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Moveable, _super);\n\n  function Moveable() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Moveable.defaultAbles = MOVEABLE_ABLES;\n  return Moveable;\n}(InitialMoveable);\n\nfunction makeMoveable(ables) {\n  var _a;\n\n  return _a =\n  /*#__PURE__*/\n  function (_super) {\n    __extends(Moveable, _super);\n\n    function Moveable() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    return Moveable;\n  }(InitialMoveable), _a.defaultAbles = ables, _a;\n}\n\nexport default Moveable;\nexport { Clippable, Draggable, edgeDraggable as EdgeDraggable, InitialMoveable, MOVEABLE_ABLES, MOVEABLE_EVENTS, MOVEABLE_EVENTS_MAP, MOVEABLE_EVENTS_PROPS_MAP, MOVEABLE_METHODS, MOVEABLE_PROPS, MOVEABLE_PROPS_MAP, Pinchable, Resizable, Rotatable, Roundable, Scalable, Snappable, Warpable, getElementInfo, makeAble, makeMoveable };\n","/*\nCopyright (c) 2019 Daybrush\nname: moveable\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/moveable/blob/master/packages/moveable\nversion: 0.29.8\n*/\nimport { ref, Properties } from 'framework-utils';\nimport { createPortal, createElement, Component, render } from 'react-simple-compat';\nimport Moveable$1, { MOVEABLE_PROPS, MOVEABLE_METHODS, MOVEABLE_EVENTS, MOVEABLE_PROPS_MAP, getElementInfo as getElementInfo$1, makeAble as makeAble$1 } from 'react-compat-moveable';\nimport { isObject, findIndex, camelize, isArray } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\n\nvar InnerMoveable =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(InnerMoveable, _super);\n\n  function InnerMoveable(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {};\n    _this.state = _this.props;\n    return _this;\n  }\n\n  var __proto = InnerMoveable.prototype;\n\n  __proto.render = function () {\n    return createPortal(createElement(Moveable$1, __assign({\n      ref: ref(this, \"moveable\")\n    }, this.state)), this.state.parentElement);\n  };\n\n  return InnerMoveable;\n}(Component);\n\nvar PROPERTIES = MOVEABLE_PROPS;\nvar METHODS = MOVEABLE_METHODS;\nvar EVENTS = MOVEABLE_EVENTS;\nvar PROPS_MAP = MOVEABLE_PROPS_MAP;\n\n/*\nCopyright (c) 2019 Daybrush\nname: @scena/event-emitter\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/gesture.git\nversion: 1.0.3\n*/\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nvar __assign$1 = function () {\n  __assign$1 = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign$1.apply(this, arguments);\n};\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\n/**\n * Implement EventEmitter on object or component.\n */\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    this._events = {};\n  }\n  /**\n   * Add a listener to the registered event.\n   * @param - Name of the event to be added\n   * @param - listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add listener in \"a\" event\n   * emitter.on(\"a\", () => {\n   * });\n   * // Add listeners\n   * emitter.on({\n   *  a: () => {},\n   *  b: () => {},\n   * });\n   */\n\n\n  var __proto = EventEmitter.prototype;\n\n  __proto.on = function (eventName, listener) {\n    if (isObject(eventName)) {\n      for (var name in eventName) {\n        this.on(name, eventName[name]);\n      }\n    } else {\n      this._addEvent(eventName, listener, {});\n    }\n\n    return this;\n  };\n  /**\n   * Remove listeners registered in the event target.\n   * @param - Name of the event to be removed\n   * @param - listener function of the event to be removed\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Remove all listeners.\n   * emitter.off();\n   *\n   * // Remove all listeners in \"A\" event.\n   * emitter.off(\"a\");\n   *\n   *\n   * // Remove \"listener\" listener in \"a\" event.\n   * emitter.off(\"a\", listener);\n   */\n\n\n  __proto.off = function (eventName, listener) {\n    if (!eventName) {\n      this._events = {};\n    } else if (isObject(eventName)) {\n      for (var name in eventName) {\n        this.off(name);\n      }\n    } else if (!listener) {\n      this._events[eventName] = [];\n    } else {\n      var events = this._events[eventName];\n\n      if (events) {\n        var index = findIndex(events, function (e) {\n          return e.listener === listener;\n        });\n\n        if (index > -1) {\n          events.splice(index, 1);\n        }\n      }\n    }\n\n    return this;\n  };\n  /**\n   * Add a disposable listener and Use promise to the registered event.\n   * @param - Name of the event to be added\n   * @param - disposable listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add a disposable listener in \"a\" event\n   * emitter.once(\"a\", () => {\n   * });\n   *\n   * // Use Promise\n   * emitter.once(\"a\").then(e => {\n   * });\n   */\n\n\n  __proto.once = function (eventName, listener) {\n    var _this = this;\n\n    if (listener) {\n      this._addEvent(eventName, listener, {\n        once: true\n      });\n    }\n\n    return new Promise(function (resolve) {\n      _this._addEvent(eventName, resolve, {\n        once: true\n      });\n    });\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n\n  __proto.emit = function (eventName, param) {\n    var _this = this;\n\n    if (param === void 0) {\n      param = {};\n    }\n\n    var events = this._events[eventName];\n\n    if (!eventName || !events) {\n      return true;\n    }\n\n    var isStop = false;\n    param.eventType = eventName;\n\n    param.stop = function () {\n      isStop = true;\n    };\n\n    param.currentTarget = this;\n\n    __spreadArrays(events).forEach(function (info) {\n      info.listener(param);\n\n      if (info.once) {\n        _this.off(eventName, info.listener);\n      }\n    });\n\n    return !isStop;\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n  /**\n  * Fires an event to call listeners.\n  * @param - Event name\n  * @param - Event parameter\n  * @return If false, stop the event.\n  * @example\n  *\n  * import EventEmitter from \"@scena/event-emitter\";\n  *\n  *\n  * const emitter = new EventEmitter();\n  *\n  * emitter.on(\"a\", e => {\n  * });\n  *\n  * // emit\n  * emitter.trigger(\"a\", {\n  *   a: 1,\n  * });\n  */\n\n\n  __proto.trigger = function (eventName, param) {\n    if (param === void 0) {\n      param = {};\n    }\n\n    return this.emit(eventName, param);\n  };\n\n  __proto._addEvent = function (eventName, listener, options) {\n    var events = this._events;\n    events[eventName] = events[eventName] || [];\n    var listeners = events[eventName];\n    listeners.push(__assign$1({\n      listener: listener\n    }, options));\n  };\n\n  return EventEmitter;\n}();\n\n/**\n * Moveable is Draggable! Resizable! Scalable! Rotatable!\n * @sort 1\n * @alias Moveable\n * @extends EventEmitter\n */\n\nvar MoveableManager =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MoveableManager, _super);\n  /**\n   *\n   */\n\n\n  function MoveableManager(parentElement, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this.tempElement = document.createElement(\"div\");\n\n    var nextOptions = __assign({}, options);\n\n    var events = {};\n    EVENTS.forEach(function (name) {\n      events[camelize(\"on \" + name)] = function (e) {\n        return _this.trigger(name, e);\n      };\n    });\n    render(createElement(InnerMoveable, __assign({\n      ref: ref(_this, \"innerMoveable\"),\n      parentElement: parentElement\n    }, nextOptions, events)), _this.tempElement);\n    var target = nextOptions.target;\n\n    if (isArray(target) && target.length > 1) {\n      _this.updateRect();\n    }\n\n    return _this;\n  }\n\n  var __proto = MoveableManager.prototype;\n\n  __proto.setState = function (state, callback) {\n    this.innerMoveable.setState(state, callback);\n  };\n\n  __proto.forceUpdate = function (callback) {\n    this.innerMoveable.forceUpdate(callback);\n  };\n\n  __proto.dragStart = function (e) {\n    var innerMoveable = this.innerMoveable;\n\n    if (innerMoveable.$_timer) {\n      this.forceUpdate();\n    }\n\n    this.getMoveable().dragStart(e);\n  };\n\n  __proto.destroy = function () {\n    render(null, this.tempElement);\n    this.off();\n    this.tempElement = null;\n    this.innerMoveable = null;\n  };\n\n  __proto.getMoveable = function () {\n    return this.innerMoveable.moveable;\n  };\n\n  MoveableManager = __decorate([Properties(METHODS, function (prototype, property) {\n    if (prototype[property]) {\n      return;\n    }\n\n    prototype[property] = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      var self = this.getMoveable();\n\n      if (!self || !self[property]) {\n        return;\n      }\n\n      return self[property].apply(self, args);\n    };\n  }), Properties(PROPERTIES, function (prototype, property) {\n    Object.defineProperty(prototype, property, {\n      get: function () {\n        return this.getMoveable().props[property];\n      },\n      set: function (value) {\n        var _a;\n\n        this.setState((_a = {}, _a[property] = value, _a));\n      },\n      enumerable: true,\n      configurable: true\n    });\n  })], MoveableManager);\n  return MoveableManager;\n}(EventEmitter);\n\nvar Moveable =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Moveable, _super);\n\n  function Moveable() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return Moveable;\n}(MoveableManager);\n\nfunction getElementInfo(target, container, rootContainer) {\n  return getElementInfo$1(target, container, rootContainer);\n}\nfunction makeAble(name, able) {\n  return makeAble$1(name, able);\n}\n\nexport default Moveable;\nexport { EVENTS, METHODS, PROPERTIES, PROPS_MAP, getElementInfo, makeAble };\n//# sourceMappingURL=moveable.esm.js.map\n","<script>\n  import VanillaMoveable, {\n    PROPERTIES,\n    EVENTS,\n  } from \"moveable\";\n  import { camelize, isUndefined } from \"@daybrush/utils\";\n\n  import {\n    onMount,\n    onDestroy,\n    createEventDispatcher,\n    beforeUpdate,\n    tick\n  } from \"svelte\";\n\n  const dispatch = createEventDispatcher();\n  let options = {};\n  let container;\n  let moveable;\n\n  beforeUpdate(() => {\n    const props = $$props;\n\n    options = {};\n    PROPERTIES.forEach(name => {\n      if (name in props) {\n        options[name] = props[name];\n      }\n    });\n    container = options.container || $$props.container || document.body;\n\n    if (moveable) {\n      tick().then(() => {\n        moveable.setState({\n          ...options,\n          container,\n          parentElement: container\n        });\n      });\n    }\n  });\n  onMount(() => {\n    moveable = new VanillaMoveable(container || document.body, options);\n\n    EVENTS.forEach(name => {\n      const onName = camelize(`on ${name}`);\n      moveable.on(name, e => {\n        const result = $$props[onName] && $$props[onName](e);\n        const result2 = dispatch(name, e);\n\n        return !isUndefined(result)\n          ? result\n          : !isUndefined(result2)\n          ? result2\n          : undefined;\n      });\n    });\n  });\n  onDestroy(() => {\n    moveable && moveable.destroy();\n  });\n\n  export function getInstance() {\n    return moveable;\n  }\n</script>\n","import Moveable from \"./Moveable.svelte\";\nimport { METHODS } from \"moveable\";\n\nexport default /*#__PURE__*/ (() => {\n    const prototype = Moveable.prototype;\n\n    if (!prototype) {\n        return Moveable;\n    }\n    METHODS.forEach(name => {\n        prototype[name] = function (...args) {\n            const self = this.getInstance();\n            const result = self[name](...args);\n\n            if (result === self) {\n                return this;\n            } else {\n                return result;\n            }\n        };\n    });\n    return Moveable;\n})();\n\nexport * from \"moveable\";\n","<script lang=\"ts\">\n  import Moveable from \"svelte-moveable\";\n\n\n  const tankIcon = 'images/Tank_Icon_Flat_1.png';\n  const healerIcon = 'images/Healer_Icon_Flat_1.png';\n  const meleeIcon = 'images/Melee_DPS_Icon_Flat_1.png';\n  const magicRangedIcon = 'images/Magic_ranged_DPS_Icon_Flat_1.png';\n  const physRangedIcon = 'images/Physical_Ranged_DPS_Flat_Icon_1.png';\n\n  let target;\n  let tankOneFrame = {\n    translate: [0,0],\n    rotate: 0,\n    transformOrigin: \"50% 50%\",\n  }\n  let tankTwoFrame = {\n    translate: [0,0],\n    rotate: 0,\n    transformOrigin: \"50% 50%\",\n  }\n  let healerOneFrame = {\n    translate: [0,0],\n    rotate: 0,\n    transformOrigin: \"50% 50%\",\n  }\n  let healerTwoFrame = {\n    translate: [0,0],\n    rotate: 0,\n    transformOrigin: \"50% 50%\",\n  }\n  let meleeOneFrame = {\n    translate: [0,0],\n    rotate: 0,\n    transformOrigin: \"50% 50%\",\n  }\n  let meleeTwoFrame = {\n    translate: [0,0],\n    rotate: 0,\n    transformOrigin: \"50% 50%\",\n  }\n  let magicRangedFrame = {\n    translate: [0,0],\n    rotate: 0,\n    transformOrigin: \"50% 50%\",\n  }\n  let physRangedFrame = {\n    translate: [0,0],\n    rotate: 0,\n    transformOrigin: \"50% 50%\",\n  }\n  const selectedFrame = (target: HTMLElement) => {\n    switch (target.id) {\n      case 'tankOne':\n        return tankOneFrame\n      case 'tankTwo':\n        return tankTwoFrame\n      case 'healerOne':\n        return healerOneFrame\n      case 'healerTwo':\n        return healerTwoFrame\n      case 'meleeOne':\n        return meleeOneFrame\n      case 'meleeTwo':\n        return meleeTwoFrame\n      case 'magicRanged':\n        return magicRangedFrame\n      case 'physRanged':\n        return physRangedFrame\n    }\n  };\n  const setTarget = (e: Event) => {\n    const toMove = e.currentTarget as HTMLElement;\n    target = toMove;\n    Array.from(document.querySelectorAll('.target')).forEach((el) => el.classList.remove('target'));\n    toMove.classList.add('target');\n  };\n  const clearTarget = () => {\n    target = null;\n    Array.from(document.querySelectorAll('.target')).forEach((el) => el.classList.remove('target'));\n  };\n</script>\n\n<div>\n  <div id=\"tankOne\" class=\"character-with-debuffs text-center\" on:click={setTarget}>\n    <img src={tankIcon} alt=\"tank icon\" class='icon-sizing' />\n  </div>\n\n  <div class=\"mt-2\" />\n\n  <div  id=\"tankTwo\" class=\"character-with-debuffs text-center\" on:click={setTarget}>\n    <img src={tankIcon} alt=\"tank icon\" class='icon-sizing' />\n  </div>\n\n  <div class=\"mt-2\" />\n\n  <div  id=\"healerOne\" class=\"character-with-debuffs text-center\" on:click={setTarget}>\n    <img src={healerIcon} alt=\"healer icon\" class='icon-sizing' />\n  </div>\n\n  <div class=\"mt-2\" />\n\n  <div  id=\"healerTwo\" class=\"character-with-debuffs text-center\" on:click={setTarget}>\n    <img src={healerIcon} alt=\"healer icon\" class='icon-sizing' />\n  </div>\n\n  <div class=\"mt-2\" />\n\n  <div  id=\"meleeOne\" class=\"character-with-debuffs text-center\" on:click={setTarget}>\n    <img src={meleeIcon} alt=\"melee icon\" class='icon-sizing' />\n  </div>\n\n  <div class=\"mt-2\" />\n\n  <div id=\"meleeTwo\" class=\"character-with-debuffs text-center\" on:click={setTarget}>\n    <img src={meleeIcon} alt=\"melee icon\" class='icon-sizing' />\n  </div>\n\n  <div class=\"mt-2\" />\n\n  <div id=\"magicRanged\" class=\"character-with-debuffs text-center\" on:click={setTarget}>\n    <img src={magicRangedIcon} alt=\"magic ranged icon\" class='icon-sizing' />\n  </div>\n\n  <div class=\"mt-2\" />\n\n  <div id=\"physRanged\" class=\"character-with-debuffs text-center\" on:click={setTarget}>\n    <img src={physRangedIcon} alt=\"phys ranged icon\" class='icon-sizing' />\n  </div>\n</div>\n\n<Moveable\n  target={target}\n  originDraggable={false}\n  originRelative={true}\n  draggable={true}\n  throttleDrag={0}\n  startDragRotate={0}\n  throttleDragRotate={0}\n  zoom={1}\n  origin={true}\n  padding={{\"left\":0,\"top\":0,\"right\":0,\"bottom\":0}}\n  rotatable={true}\n  throttleRotate={0}\n  rotationPosition={\"top\"}\n  on:dragOriginStart={({ detail: e }) => {\n    e.dragStart && e.dragStart.set(selectedFrame(target).translate);\n  }}\n  on:dragOrigin={({ detail: e }) => {\n      selectedFrame(target).translate = e.drag.beforeTranslate;\n      selectedFrame(target).transformOrigin = e.transformOrigin;\n  }}\n  on:dragStart={({ detail: e }) => {\n      e.set(selectedFrame(target).translate);\n  }}\n  on:drag={({ detail: e }) => {\n      selectedFrame(target).translate = e.beforeTranslate;\n  }}\n  on:rotateStart={({ detail: e }) => {\n      e.set(selectedFrame(target).rotate);\n  }}\n  on:rotate={({ detail: e }) => {\n      selectedFrame(target).rotate = e.beforeRotate;\n  }}\n  on:render={({ detail: e }) => {\n      const { translate, rotate, transformOrigin } = selectedFrame(target);\n      e.target.style.transformOrigin = transformOrigin;\n      e.target.style.transform = `translate(${translate[0]}px, ${translate[1]}px)`\n          +  ` rotate(${rotate}deg)`;\n  }}\n/>\n","<script lang=\"ts\">\n  let step = 1;\n  const estinien = 'images/estinien.png';\n\n  const getMultipleRandom = (arr: Array<HTMLElement>, num: number) => {\n  const shuffled = [...arr].sort(() => 0.5 - Math.random());\n\n  return shuffled.slice(0, num);\n}\n\n  const stepOne = () => {\n    let party = [\n      document.getElementById('tankOne'),\n      document.getElementById('tankTwo'),\n      document.getElementById('healerOne'),\n      document.getElementById('healerTwo'),\n      document.getElementById('meleeOne'),\n      document.getElementById('meleeTwo'),\n      document.getElementById('magicRanged'),\n      document.getElementById('physRanged')\n    ];\n\n    const createDebuff = (img: string) => {\n      const elem = document.createElement(\"img\");\n      elem.src = img;\n      elem.setAttribute('class', 'debuff-sizing');\n      elem.setAttribute('alt', 'first in line debuff');\n      return elem;\n    }\n\n    const firstMarkers = getMultipleRandom(party, 3);\n    party = party.filter( ( el ) => !firstMarkers.includes( el ) );\n    const secondMarkers = getMultipleRandom(party, 2);\n    party = party.filter( ( el ) => !secondMarkers.includes( el ) );\n\n    firstMarkers.forEach(char => {\n      char.append(createDebuff('images/First_In_Line.png'));\n    })\n    if ((Math.floor(Math.random() * 2)) === 0) {\n      firstMarkers[0].append(createDebuff('images/High_Jump_target.png'));\n      firstMarkers[1].append(createDebuff('images/Elusive_Jump_target.png'));\n      firstMarkers[2].append(createDebuff('images/Spineshatter_Dive_target.png'));\n    } else {\n      firstMarkers.forEach(char => {\n        char.append(createDebuff('images/High_Jump_target.png'));\n      });\n    }\n    secondMarkers.forEach(char => {\n      char.append(createDebuff('images/Second_In_Line.png'));\n    })\n    if ((Math.floor(Math.random() * 2)) === 0) {\n      secondMarkers[0].append(createDebuff('images/Elusive_Jump_target.png'));\n      secondMarkers[1].append(createDebuff('images/Spineshatter_Dive_target.png'));\n    } else {\n      secondMarkers.forEach(char => {\n        char.append(createDebuff('images/High_Jump_target.png'));\n      });\n    }\n    party.forEach(char => {\n      char.append(createDebuff('images/Third_In_Line.png'));\n    })\n    if ((Math.floor(Math.random() * 2)) === 0) {\n      party[0].append(createDebuff('images/High_Jump_target.png'));\n      party[1].append(createDebuff('images/Elusive_Jump_target.png'));\n      party[2].append(createDebuff('images/Spineshatter_Dive_target.png'));\n    } else {\n      party.forEach(char => {\n        char.append(createDebuff('images/High_Jump_target.png'));\n      });\n    }\n  };\n\n\n  window.onload = () => {\n    stepOne();\n    document.getElementById('nextStepButton').addEventListener('click', () => {\n      step = step + 1;\n      switch (step) {\n        case 2:\n          // stepTwo();\n      }\n    })\n  }\n</script>\n\n<div class=\"position-absolute top-50 end-50\">\n  <img src={estinien} alt=\"estinien icon\" class='boss-sizing face-north' />\n</div>\n\n<!-- <div class=\"position-absolute top-0 end-0 mt-5\">\n  <ul class=\"list-unstyled mt-5\">\n    <li>0:00    Final Chorus (Raidwide)</li>\n    <li>0:00     Targetable</li>\n    <li>0:13    Dive from Grace (Markers go out)</li>\n    <li>&#9755 0:18    Dive from Grace (Debuffs go out)</li>\n    <li>0:27    Lash And Gnash & Gnash And Lash Cast (In/Out or Out/In)</li>\n    <li>0:28    First in Line: High Jump & Eye of the Tyrant (Shared AoE)</li>\n    <li>0:32    Lash/Gnash Part 1 (In/Out)</li>\n    <li>0:34    First in Line: Tower Soaks</li>\n    <li>0:35    Lash/Gnash Part 2 (In/Out)</li>\n    <li>0:36    First in Line: Clone Baits</li>\n    <li>0:38    Second in Line: High Jump</li>\n    <li>0:40    First in Line: Clone Geirskoguls</li>\n    <li>0:44     Second in Line: Tower Soaks</li>\n    <li>0:46    Second in Line: Clone Baits</li>\n    <li>0:48    Third in Line: High Jump & Eye of the Tyrant (Shared AoE)</li>\n    <li>0:50    Second in Line: Clone Geirskoguls</li>\n    <li>0:52    Lash/Gnash Part 1</li>\n    <li>0:56    Third in Line: Tower Soaks</li>\n    <li>0:57    Lash/Gnash Part 2</li>\n    <li>0:58    Third in Line: Clone Baits</li>\n    <li>1:01    Cleaving Autos Resume</li>\n    <li>1:03    Third in Line: Geirskoguls</li>\n    <li>1:07    Drachenlance (Baited Cleave)</li>\n    <li>1:10    Darkdragon Dive: Towers Appear (Enumerations)</li>\n    <li>1:14    Darkdragon Dive: Tower Soaks</li>\n    <li>1:17    Darkdragon Dive: Baits</li>\n    <li>1:21    Darkdragon Dive: Tethers & Geirskoguls</li>\n    <li>1:23    Soul Tether (Tankbuster Tethers)</li>\n    <li>1:28    Cleaving Autos Resume</li>\n    <li>1:45    Drachenlance (Baited Cleave)</li>\n    <li>1:58    Revenge of the Horde</li>\n  </ul>\n</div> -->\n","<script lang=\"ts\">\n\timport {\n    Button,\n\t\tCard,\n\t\tCardBody,\n    CardHeader,\n\t\tContainer,\n    Dropdown,\n    DropdownItem,\n    DropdownMenu,\n    DropdownToggle\n\t} from 'sveltestrap';\n\timport \"bootswatch/dist/vapor/bootstrap.min.css\";\n\n  import RoleIcons from './components/RoleIcons.svelte';\n  import Wyrmholes from './components/Wyrmholes.svelte';\n</script>\n\n<main class=\"h-100 row align-items-center\">\n\t<Container class=\"col h-100 p-5\">\n\t\t<Card color=\"dark\" class=\"h-100\">\n      <CardHeader>\n        <h1 class=\"text-center\">Wyrmholes</h1>\n        <Dropdown class=\"position-absolute top-0 m-3\">\n          <DropdownToggle caret>Choose Mechanic</DropdownToggle>\n          <DropdownMenu end>\n            <DropdownItem>Wyrmholes</DropdownItem>\n            <DropdownItem disabled>That's all I got to be tbh</DropdownItem>\n          </DropdownMenu>\n        </Dropdown>\n        <Button color=\"primary\" id=\"nextStepButton\" class=\"position-absolute top-0 end-0 m-3\">Next Step</Button>\n      </CardHeader>\n\t\t\t<CardBody>\n        <RoleIcons />\n        <Wyrmholes />\n\t\t\t</CardBody>\n\t\t</Card>\n\t</Container>\n</main>\n","import App from './App.svelte';\nconst app = new App({\n    target: document.body,\n    props: {}\n});\nexport default app;\n"],"names":["noop","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","current_component","src_url_equal","element_src","url","document","createElement","href","component_subscribe","component","store","callback","$$","on_destroy","push","callbacks","unsub","subscribe","unsubscribe","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","slice","get_slot_changes","dirty","lets","undefined","merged","len","Math","max","length","i","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","p","get_all_dirty_from_scope","exclude_internal_props","props","result","compute_rest_props","keys","rest","Set","has","action_destroyer","action_result","destroy","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_attributes","attributes","descriptors","getOwnPropertyDescriptors","__proto__","key","style","cssText","set","set_data","wholeText","set_current_component","get_current_component","Error","onDestroy","createEventDispatcher","type","detail","cancelable","bubbles","e","createEvent","initCustomEvent","custom_event","call","defaultPrevented","getContext","context","get","bubble","this","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","add_render_callback","seen_callbacks","flushidx","saved_component","update","pop","add","clear","fragment","before_update","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","d","get_spread_update","levels","updates","to_null_out","accounted_for","n","create_component","mount_component","customElement","on_mount","m","new_on_destroy","map","filter","destroy_component","detaching","init","instance","create_fragment","not_equal","append_styles","parent_component","bound","on_disconnect","Map","skip_bound","root","ready","ret","fill","make_dirty","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","$destroy","$on","index","indexOf","splice","$set","$$props","obj","$$set","toClassName","isArray","Boolean","join","classnames","args","subscriber_queue","button_aria_label_value","button","current","a_aria_label_value","class","className","active","close","color","disabled","inner","outline","size","white","$$invalidate","ariaLabel","classes","defaultAriaLabel","$$value","getWindow","window","toString","ownerDocument","defaultView","isElement","Element","isHTMLElement","HTMLElement","isShadowRoot","ShadowRoot","min","round","getBoundingClientRect","includeScale","rect","scaleX","scaleY","offsetHeight","offsetWidth","width","height","top","right","bottom","left","x","y","getWindowScroll","win","scrollLeft","pageXOffset","scrollTop","pageYOffset","getNodeName","nodeName","toLowerCase","getDocumentElement","documentElement","getWindowScrollBarX","getComputedStyle","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","test","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","isOffsetParentAnElement","offsetParentIsScaled","isElementScaled","scroll","offsets","getHTMLElementScroll","clientLeft","clientTop","getLayoutRect","clientRect","abs","offsetLeft","offsetTop","getParentNode","assignedSlot","host","getScrollParent","body","listScrollParents","list","_element$ownerDocumen","scrollParent","isBody","concat","visualViewport","updatedList","isTableElement","getTrueOffsetParent","position","getOffsetParent","isFirefox","navigator","userAgent","currentNode","css","transform","perspective","contain","willChange","getContainingBlock","auto","basePlacements","start","end","viewport","popper","variationPlacements","reduce","acc","placement","placements","modifierPhases","order","modifiers","visited","sort","modifier","requires","requiresIfExists","dep","depModifier","getBasePlacement","split","contains","parent","child","rootNode","getRootNode","next","isSameNode","rectToClientRect","getClientRectFromMixedType","clippingParent","html","clientWidth","clientHeight","getViewportRect","getInnerBoundingClientRect","winScroll","scrollWidth","scrollHeight","direction","getDocumentRect","getClippingRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","getClippingParents","firstClippingParent","clippingRect","accRect","getVariation","getMainAxisFromPlacement","computeOffsets","_ref","reference","basePlacement","variation","commonX","commonY","mainAxis","mergePaddingObject","paddingObject","expandToHashMap","hashMap","detectOverflow","state","_options","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","padding","altContext","popperRect","rects","elements","clippingClientRect","contextElement","referenceClientRect","popperOffsets","strategy","popperClientRect","elementClientRect","overflowOffsets","offsetData","modifiersData","offset","multiply","axis","DEFAULT_OPTIONS","areValidElements","_len","arguments","_key","some","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","pending","orderedModifiers","styles","effectCleanupFns","isDestroyed","setOptions","setOptionsAction","cleanupModifierEffects","scrollParents","phase","orderModifiers","existing","enabled","_ref3","_ref3$options","effect","cleanupFn","noopFn","forceUpdate","_state$elements","reset","_state$orderedModifie","_state$orderedModifie2","onFirstUpdate","passive","eventListeners","_options$scroll","_options$resize","resize","unsetSides","mapToStyles","_ref2","_Object$assign2","gpuAcceleration","adaptive","roundOffsets","_offsets$x","_offsets$y","hasX","hasOwnProperty","hasY","sideX","sideY","heightProp","widthProp","_Object$assign","commonStyles","_ref4","dpr","devicePixelRatio","roundOffsetsByDPR","applyStyles$1","initialStyles","margin","arrow","property","offset$1","_options$offset","invertDistance","skidding","distance","distanceAndSkiddingToXY","_data$state$placement","hash","getOppositePlacement","replace","matched","getOppositeVariationPlacement","computeAutoPlacement","flipVariations","_options$allowedAutoP","allowedAutoPlacements","allPlacements","allowedPlacements","overflows","flip$1","_skip","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","referenceRect","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","_loop","_i","fittingPlacement","find","within","mathMax","mathMin","preventOverflow$1","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowElement","arrowRect","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","arrowOffsetParent","clientOffset","offsetModifierValue","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","v","withinMaxClamp","arrow$1","_state$modifiersData$","toPaddingObject","minProp","maxProp","endDiff","startDiff","clientSize","centerToReference","center","axisProp","centerOffset","_options$element","querySelector","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","createPopper","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","applyStyles","flip","preventOverflow","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","createContext","stop","subscribers","new_value","run_queue","subscriber","invalidate","writable","div_levels","div","li_levels","li","setContext","navbarContext","dropup","group","inNavbar","isOpen","nav","setActiveFromChild","toggle","popperRef","popperContent","initOptions","contentNode","referenceNode","popperInstance","initPopper","deinitPopper","contentOptions","newContentOptions","createPopperActions","dropdownDirection","handleDocumentClick","which","handleToggle","subItemIsActive","dropdown","show","inverse","h3_levels","h3","tag","sm","md","lg","xl","xxl","fluid","container","button_levels","h6_levels","h6","divider","header","preventDefault","$context","div_data_bs_popper_value","dark","popperPlacement","prefix","popperOptions","span","button_aria_expanded_value","span_aria_expanded_value","div_aria_expanded_value","a_aria_expanded_value","caret","btnClasses","prefixNames","classNames","ref","refs","Properties","properties","action","prototype","PolyMap","values","__proto","prevIndex","HashMap","object","SUPPORT_MAP","Link","connect","prevLink","nextLink","prev","disconnect","getIndex","link","Result","prevList","added","removed","changed","maintained","changedBeforeAdded","fixed","defineProperty","cacheOrdered","caculateOrdered","enumerable","configurable","cachePureChanged","ordered","fromLinks","toLinks","_a","to","_","fromLink","toLink","fromIndex","orderChanged","pureChanged","_b","fromBefore","toBefore","diff","findKeyCallback","mapClass","prevKeys","prevKeyMap","keyMap","removedMap","addedCount","removedCount","prevListIndex","listIndex","reverse","ListDiffer","newData","UNDEFINED","IS_WINDOW","OPEN_CLOSED_CHARACTERS","open","TINY_NUM","DEFAULT_UNIT_PRESETS","cm","pos","mm","in","pt","pc","vw","innerWidth","vh","innerHeight","vmax","vmin","isUndefined","isObject","isString","isFunction","findOpen","openCharacter","texts","openCloseCharacters","findIgnore","closeCharacter","out_i_1","_loop_1","character","trim","nextIndex","state_1","findClose","ignore","otherText","RegExp","exec","splitText","splitOptions","separator","isSeparateFirst","isSeparateOnlyOpenClose","_c","isSeparateOpenClose","_d","openClosedText","regex","tempValues","resetTemp","out_i_2","_loop_2","isEqualSeparator","state_2","splitSpace","splitComma","splitBracket","matches","suffix","splitUnit","unit","NaN","parseFloat","camelize","str","all","letter","toUpperCase","decamelize","letter2","now","Date","getTime","findIndex","arr","defaultIndex","defalutValue","requestAnimationFrame","firstTime","raf","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","bind","currTime","setTimeout","cancelAnimationFrame","caf","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","handle","clearTimeout","getKeys","convertUnitSize","sizeFunction","checkBoundSize","targetSize","compareSize","isMax","throttle","calculateBoundSize","minSize","maxSize","keepRatio","between","minWidth","minHeight","maxWidth","maxHeight","average","nums","total","getRad","pos1","pos2","distX","distY","rad","atan2","PI","getShapeDirection","points","getCenterPoint","pos1Rad","pos2Rad","getDist","sqrt","pow","num","throttleArray","hasClass","classList","match","addEvent","el","listener","removeEvent","extendStatics","setPrototypeOf","__extends","__","constructor","__assign","t","s","apply","__rest","getOwnPropertySymbols","propertyIsEnumerable","isDiff","diffObject","keys1","keys2","executeHooks","hooks","hook","fillKeys","createProvider","TextProvider","ElementProvider","render","ComponentProvider","FunctionProvider","flat","arr2","getAttributes","otherProps","fillProps","defaultProps","Provider","_providers","_should","nextProps","nextState","_update","nextElement","isForceUpdate","base","original","_setState","prevProps","_render","_mounted","nextstate","_updated","_destroy","splitProps","events","_super","_this","isMount","_unmount","_isSVG","nativeEvent","isSVG","_hasSVG","portalContainer","createElementNS","renderProviders","prevAttributes","prevEvents","nextAttributes","nextEvents","attrs1","attrs2","diffAttributes","events1","events2","provier","diffEvents","style1","style2","beforeName","setProperty","removeProperty","diffStyle","provider","containerNode","findContainerNode","Node","findDOMNode","comp","providers","$_provider","template","ContainerProvider","shouldComponentUpdate","prevState","componentDidMount","componentDidUpdate","$_timer","componentWillUnmount","Component","$_state","setState","$_setState","PureComponent","_Portal","_portalProvider","renderProvider","diffProviders","containerProvider","childrenKeys","childrenProvider","childProvider","il","j","jl","__spreadArrays","updatedHooks","updated","childProviders","getNextSibiling","__REACT_COMPAT__","isProvider","updateProvider","innerHTML","execRegExp","pattern","convertVersion","findPreset","presets","userPreset","version","preset","brand","versionAlias","versionTest","findVersion","findPresetBrand","brands","brandInfo","findBrand","id","BROWSER_PRESETS","CHROMIUM_PRESETS","WEBKIT_PRESETS","WEBVIEW_PRESETS","OS_PRESETS","getLegacyAgent","nextAgent","agent","getUserAgentString","isMobile","browser","majorVersion","webview","chromium","chromiumVersion","webkit","webkitVersion","os","browserPreset","browserVersion","osPreset","osVersion","chromiumPreset","webkitPreset","parseInt","isHints","matrix","inverseMatrix","startIndex","fromX","swap","iv","divide","ignoreDimension","newMatrix","invert","createIdentityMatrix","identityIndex","targetStartIndex","convertPositionMatrix","convertDimension","multiplies","matrixes","matrix2","plus","nextPos","minus","convertMatrixtoCSS","is2d","calculate","rotateX3d","cos","sin","rotateY3d","rotateZ3d","createRotateMatrix","scale3d","sx","sy","rotate","translate3d","tx","ty","matrix3d","matrix1","createScaleMatrix","scale","createOriginMatrix","origin","createWarpMatrix","pos0","pos3","nextPos0","nextPos1","nextPos2","nextPos3","x0","y0","x1","y1","x2","y2","x3","y3","u0","v0","u1","v1","u2","v2","u3","v3","h","transpose","parseMat","toMat","parse","matrixInfos","info","matrixFunction","functionValue","functionName","posX","posY","_e","_f","_g","_h","unitValue","childrenCount","__DIFF_KEY__","ChildrenDiffer","getAreaSize","sum","point","nextPoint","fitPoints","getMinMaxs","minX","minY","maxX","maxY","ratioX","ratioY","xs","ys","isInside","excludeLine","xLine","yLine","xLinearConstants","getLinearConstants","yLinearConstants","lines","convertLines","intersectionXPoints","intersectionYPoints","line","linearConstants","xPoints","getPointsOnLines","getIntersectionPointsByConstants","yPoints","point1","point2","a_1","linearConstants1","linearConstants2","a1","b1","c1","a2","b2","c2","isZeroA","isZeroB","Infinity","minMaxs","minMax","getOverlapSize","points1","points2","targetPoints1","targetPoints2","lines1","lines2","linearConstantss1","line1","linearConstantss2","line2","overlapInfos","linePointInfos","index1","index2","isNext_1","overlapPoints","pointMap","getOverlapPoints","EventEmitter","_events","on","eventName","_addEvent","off","once","emit","param","isStop","eventType","currentTarget","trigger","EventEmitter$3","getDefaultScrollPosition","DragScroll","_startRect","_startPos","_prevTime","_timer","_prevScrollPos","_isWait","dragStart","clientX","clientY","_getScrollPosition","drag","threshold","_continueDrag","inputEvent","isDrag","checkScroll","prevScrollPos","throttleTime","nextScrollPos","offsetX","offsetY","nextDirection","dragEnd","getScrollPosition","useScroll","nowTime","distTime","DragScroll$1","getRotatiion","touches","getEventClients","clients","getClient","getClients","getPosition","prevClients","startClients","getAverageClient","originalClientX","originalClientY","prevX","prevY","deltaX","deltaY","sumClient","client","ClientStore","movement","getAngle","getRotation","isAdd","getPositions","startClient","getMovement","currentClient","prevClient","getDistance","getScale","move","INPUT_TAGNAMES","Gesto$1","Gesto","targets","flag","pinchFlag","datas","isPinch","isMouse","isTouch","clientStores","prevTime","doubleFlag","_dragFlag","onDragStart","isTrusted","pinchOutside","preventRightClick","checkInput","isDragStart","activeElement","tagName","hasInput","hasContentEditable","isContentEditable","activeTagName","blur","initDrag","isDouble","getCurrentStore","preventDrag","timer","isMultiTouch","changedTouches","onPinchStart","onDrag","isScroll","moveClients","onPinch","onDragEnd","onPinchEnd","keepDragging","_addStore","_getPosition","currentTime","isClick","onBlur","checkWindowBlur","pinchThreshold","passive_1","cur","isDragging","isFlag","isPinchFlag","isDoubleFlag","isPinching","scrollBy","isCallDrag","nextClients","triggerDragStart","setEventDatas","currentDatas","getCurrentEvent","getEventDatas","unset","angle","rotation","storePosition","stringHash","charCodeAt","injectStyle","shadowRoot","nonce","selector","trimmedSelector","subSelector","trimmedSubSelector","replaceStyle","head","styled","injectElement","injectClassName","injectCount","inject","styleElement","parentElement","nodeType","getShadowRoot","firstMount","StyledElement","injectResult","cspNonce","cssId","injector","Tag","portalAttributes","getElement","cssStyled","Styled","TypeError","String","__assign$1","__spreadArray","pack","ar","makeAble","able","navi","res","IS_WEBKIT","userAgentData","uaList","hasUserAgentData","osData","mobile","firstBrand","platform","chromiumBrand","webkitBrand","platfomResult","platformVersion","browserBrand","uaFullVersion","getClientHintsAgent","IS_WEBKIT605","PREFIX","MOVEABLE_CSS","degree","getSVGCursor","degree45","defaultCursor","getCursorCSS","NEARBY_POS","MIN_SCALE","MAX_NUM","MIN_NUM","DIRECTIONS","DIRECTION_INDEXES","w","nw","ne","sw","se","DIRECTION_ROTATIONS","MOVEABLE_METHODS","setCustomDrag","delta","isConvert","gesto","originalDatas","draggableDatas","draggable","convertDragDist","parentEvent","CustomGesto","startX","startY","parentGesto","fillChildEvents","moveable","groupable","groupableDatas","childDatas","moveables","triggerChildGesto","isStart","isEnd","childs","ev","childMoveable","childEvent","childGestos","parentFlag","triggerChildAbles","eachEvent","renderDirectionControls","defaultDirections","React","additionalClassName","renderPoses","rotationRad","renderDirections","directions","zoom","directionMap","sign","degRotation","dir","indexes","directionRotation","getControlTransform","renderLine","getLineStyle","renderAllDirections","renderDiagonalDirections","setRotateStartInfo","is3d","nextOrigin","calculatePosition","rootMatrix","startAbsoluteOrigin","prevDeg","defaultDeg","prevSnapDeg","loop","getAbsoluteDist","deg","normalizedPrevDeg","floor","dist","getAbsoluteDistByClient","getRotateInfo","moveableRect","startValue","isSnap","throttleRotate","nextDist","hasGuidelines","pos4","prevPoses","nextPoses","bounds","getBounds","relativeLeft","relativeRight","relativeTop","relativeBottom","boundRect","isBoundRotate$1","boundPos","relativeRad1","vec","getDistSize","boundRotate","relativeRad2","nextRad","checkRotateBounds","innerBounds","dots","getPosByDirection","isBoundRotate","dotInfos","dot","lineRad","dx","dy","solveReverseLine","lineDist","getDistPointLine","dotDist","dotRad","distRad","acos","checkRotateInnerBounds","checkSnapRotate","snapRotation","snapDeg","dragControlCondition","isRequest","requestAble","rotationTarget","getRefTargets","Rotatable","canPinch","rotatable","rotationPosition","Number","onRotateStart","onBeforeRotate","onRotate","onRotateEnd","onRotateGroupStart","onBeforeRotateGroup","onRotateGroup","onRotateGroupEnd","positions","dir1","dir2","radPoses","getRotationRad","isReverse","getRotationPositions","jsxs","dragControlStart","parentRotate","beforeOrigin","beforeDirection","targetTransform","moveableClientRect","getRect","fixedPosition","getDirectionOffset","getOriginDirection","externalRotate","beforeInfo","afterInfo","absoluteInfo","setDefaultTransformIndex","params","fillParams","rotatation","fillTransformStartEvent","Draggable","triggerEvent","isRotate","snapRenderInfo","request","dragControl","groupDelta","resolveTransformEvent","beforeDelta","beforeDist","beforeRotation","absoluteDelta","absoluteDist","absoluteRotation","targetDirection","calculateMoveablePosition","beforeTransform","getTransformDirection","parentMoveable","startRotation","absoluteStartRotation","parentDist","setRotation","nextRotation","nextTransform","convertTransformFormat","inverseDist","rotateDist","fixedDirection","getTranslateDist","getRotateDist","inverseDelta","prevInverseDist","requestValue","beforeRotate","absoluteRotate","fillTransformEvent","dragControlAfter","dragControlEnd","fillEndParams","dragGroupControlCondition","dragGroupControlStart","parentLeft","parentTop","parentBeforeOrigin","childClient","groupClient","dragGroupControl","catchEvent","nextParams","setGroupRotation","dragGroupControlEnd","distRotate","isControl","requestStart","deltaRotate","requestEnd","VERTICAL_NAMES","HORIZONTAL_NAMES","VERTICAL_NAMES_MAP","HORIZONTAL_NAMES_MAP","ableName","snappable","verticalGuidelines","horizontalGuidelines","snapGridWidth","snapGridHeight","guidelines","enableSnap","getSnapDirections","snapDirections","splitSnapDirectionPoses","snapPoses","nextSnapPoses","nextSnapDirections","mapSnapDirectionPoses","horizontalNames","verticalNames","horizontal","vertical","getDefaultGuidelines","snapOffset","snapOffsetLeft","snapOffsetTop","snapOffsetBottom","snapWidth","snapHeight","getSnapElementRects","containerClientRect","targetClientRect","containerRect","clientPos","calculateContainerPos","containerLeft","containerTop","getAbsolutePosesByState","calculateInversePosition","distLeft","distTop","elementLeft","elementTop","elementRight","elementBottom","middle","getElementGuidelines","elementGuidelines","elementRects","prevValues","snapRect","refresh","nextElementGuidelines","getRefTarget","diff$1","nextValues","elementSnapDirections","nextGuidelines","topValue","leftValue","rightValue","bottomValue","centerValue","middleValue","rectTop","rectLeft","sizes","elementRect","getTotalGuidelines","containerHeight","containerWidth","containerClientHeight","containerClientWidth","snapGap","snapThreshold","totalGuidelines","targetRect","gapGuidelines","mainNames","sideNames","targetStart","targetEnd","targetCenter","targetStart2","targetEnd2","nextElementRects","groups","snapRect1","snapRect2","rect1","rect2","rect1Start","rect1End","rect2Start","rect2End","gap","isCenter","hide","gapRects","getGapGuidelines","getGridGuidelines","checkMoveableSnapPoses","posesX","posesY","customSnapThreshold","selectValue","checkSnapPoses","checkSnap","checkSnaps","poses","getNearestSnapGuidelineInfo","snapInfo","guideline","posInfo","posInfos","guidelineInfo","guidelineInfos","targetType","targetPoses","posType","snapPosInfos","targetPos","snapPosInfo","checkSnapBoundPriority","aDist","bDist","isBound","getNearOffsetInfo","aSign","bSign","aOffset","bOffset","isStartLine","cx","cy","hitTestLine","test1","test2","isSameStartLine","error","centerSign","checkInnerBoundDot","checkLineBoundCollision","boundLine","isRender","dot1","dot2","boundDot1","boundDot2","dy1","getTinyDist","dx1","dy2","getInnerBoundInfo","multiple","isAllBound","isVerticalBound","isHorizontalBound","leftLine","topLine","rightLine","bottomLine","isHorizontalStart","isVerticalStart","topBoundInfo","bottomBoundInfo","leftBoundInfo","rightBoundInfo","isAllVerticalBound","isAllHorizontalBound","verticalOffset","horizontalOffset","checkInnerBound","sizeOffset","getDragDist","getInnerBoundDragInfo","getCheckInnerBoundLines","innerBoundInfo","widthOffsetInfo","heightOffsetInfo","isBefore","beforeMatrix","startDragBeforeDist","startDragDist","absoluteOrigin","getInverseDragDist","lineDirections","getCheckSnapLineDirections","relativePoses","boundDots","checkBoundPoses","verticalPoses","horizontalPoses","nextBounds","checkBounds","externalBounds","snapOffsetRight","isCSS","startBoundPos","endBoundPos","minPos","maxPos","boundInfos","renderInnerGuideline","isHorizontal","scaleType","renderGuideline","sizeValue","posValue","renderSnapPoses","renderPos","renderGuidelines","isDisplayInnerSnapDigit","renderDigitLine","lineType","snapDigit","isDisplaySnapDigit","snapDistFormat","sizeName","absGap","snapSize","toFixed","renderDashedGuidelines","rendered","otherIndex","func","groupKeys","names","groupKey","keyIndex","elementRect1","elementRect2","groupByElementGuidelines","sidePos","prevRect","nextRect","size1","size2","renderPos1","renderPos2","solveNextOffset","TINY_NUM$1","solveEquation","isOutside","getDist$1","dist1","dist2","getSnapBound","boundInfo","checkSnapBoundsDrag","throttleDragRotate","getAbsolutePoses","absolutePoses","boundPoses","checkMoveableSnapBounds","verticalSnapBoundInfo","horizontalSnapBoundInfo","verticalInnerBoundInfo","horizontalInnerBoundInfo","isVerticalSnap","isHorizontalSnap","adjustPoses","adjustPos","prevDistY","checkThrottleDragRotate","horizontalBoundInfos","verticalBoundInfos","horizontalSnapInfo","verticalSnapInfo","horizontalDist","verticalDist","snapIndex","snap","checkSnapBounds","guideines","getSnapBoundInfo","startDirection","endDirection","otherStartPos","otherEndPos","snapBoundInfo","startPos","endPos","endX","endY","isBottom","isRight","verticalInfo","horizontalInfo","checkBoundKeepRatio","horizontalBoundInfo","verticalBoundInfo","verticalGuideline","horizontalGuideline","horizontalPos","verticalPos","checkSnapKeepRatio","getSnapBoundOffset","checkSnapBoundsKeepRatio","otherHorizontalOffset","isOtherHorizontalBound","isOtherHorizontalSnap","otherVerticalOffset","isOtherVerticalBound","isOtherVerticalSnap","snapLine","rad180","isHorizontalLine","isVerticalLine","checkSnapRightLine","snapStart","snapContainer","snapContainerTarget","snapContainerRect","getClientRect","offset1","getDragDistByState","offset2","getNextFixedPoses","fixedPos","calculatePoses","getSizeOffsetInfo","getCheckSnapDirections","checkSizeDist","getNextPoses","widthOffset","heightOffset","isWidthBound","isHeightBound","nextWidthOffset","nextHeightOffset","widthDist","heightDist","left_1","top_1","right_1","bottom_1","otherDirection","isCheckVertical","isCheckHorizontal","otherPos","nextOtherPos","isHeightOutside","isNaN","isWidthOutside","checkMaxBounds","snapPos","recheckSizeByTwoDirection","checkSnapScale","startOffsetWidth","startOffsetHeight","sizeDist","transformOrigin","offsetMatrix","targetMatrix","getNextMatrix","scaleMatrix","getSnapGuidelines","addBoundGuidelines","verticalSnapPoses","horizontalSnapPoses","boundMap","checkInnerBoundPoses","verticalInnerBoundPoses","horizontalInnerBoundPoses","innerPos","Snappable","dragRelation","Function","onSnap","targetTop","targetLeft","minLeft","minTop","externalPoses","snapInfos","hasExternalPoses","externalRect","snapDirection","getPosesByDirection","alignPoses","getSnapInfosByDirection","verticalPosInfos","horizontalPosInfos","allGuidelines","gaps","targetSideStart","targetSideEnd","sideStartPos","sideEndPos","sideCenterPos","renderGapGuidelines","pinchStart","directionCondition","dragGroupStart","dragGroup","dragGroupEnd","throttleDrag","startDragRotate","edgeDraggable","onDragGroupStart","onDragGroup","onDragGroupEnd","dragInfo","targetGesto","setDragStart","startCheckSnapDrag","prevDist","prevBeforeDist","deltaOffset","translate","startRect","dragRotateRad","ry","beforeTranslate","getBeforeDragDist","bx","by","getTransfromMatrix","fromTranslation","getTransformDist","passDelta","passDist","fillOriginalTransform","dragAfter","calculatePointerDist","allMatrix","inverseBeforeMatrix","beforeRenderable","transformIndex","nextTransforms","nextTransformAppendedIndexes","transforms","beforeFunctionTexts","beforeFunctionTexts2","targetFunctionText","afterFunctionTexts","afterFunctionTexts2","beforeFunctions","beforeFunctions2","targetFunctions","afterFunctions","afterFunctions2","beforeFunctionMatrix","beforeFunctionMatrix2","afterFunctionMatrix","afterFunctionMatrix2","allFunctionMatrix","targetFunctionMatrix","targetFunction","convertTransformInfo","matFunctionName","beforeTransform2","targetTansform","afterTransform","afterTransform2","targetAllTransform","isAppendTransform","isAfter","nextTargetMatrix","res1","getPosIndexesByDirection","getAbsoluteMatrix","setTransform","startTransforms","setTransformIndex","getNextTransformText","nextMatrix","getNextTransformMatrix","groupLeft","groupTop","getResizeDist","prevOrigin","prevWidth","prevHeight","prevSize","calculateTransformOrigin","getAbsolutePosition","getTransformMatrix","getBeforeTransformOrigin","getTransformOrigin","getSVGViewBox","ownerSVGElement","measureSVGSize","getElementTransform","computedStyle","computedTransform","baseVal","matrixs","chr","getOffsetInfo","lastParent","isParent","isStatic","getOffsetPosInfo","targetOrigin","hasOffset","getBBox","bbox","viewBox","getSVGGraphicsOffset","getBodyOffset","bodyStyle","bodyPosition","marginLeft","marginTop","convert3DMatrixes","getPositionFixedInfo","fixedContainer","hasTransform","getMatrixStackInfo","checkContainer","targetTransformOrigin","hasFixed","offsetContainer","convertCSStoMatrix","fixedInfo","offsetPos","getSVGMatrix","isOffsetEnd","offsetInfo","parentClientLeft","parentClientTop","fixedClientLeft","fixedClientTop","calculateElementInfo","rootContainer","isAbsolute3d","allResult","getSize","prevTargetMatrix","rootMatrixes","isRoot3d","isNext3d","isSVGGraphicElement","originalRootContainer","endContainer","rootMatrixBeforeOffset","targetInfo","rectWidth","rectHeight","mat","calculateRect","prevLeft","prevTop","posOrigin","rectOrigin","count","getSVGOffset","isMatrix3d","makeMatrixCSS","calculateMatrixStack","viewBoxWidth","viewBoxHeight","preserveAspectRatio","align","meetOrSlice","svgOrigin","xAlign","yAlign","scaleDimension","x4","y4","originX","originY","getDiagonalSize","boxSizing","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","paddingLeft","paddingRight","paddingTop","paddingBottom","cssWidth","cssHeight","horizontalPadding","verticalPadding","svg","getTargetInfo","moveableElement","parentContainer","beforePosition","originMatrix","getOrigin","originalBeforeOrigin","isExtends","scrollPos","getDirection","direciton","self","isBeforeEvent","isStartEvent","lastEvent","_emitter","isManager","pseudoElt","filterAbles","ables","methods","triggerAblesSimultaneously","enabledAbles","ableGroups","method","ableGroup","equals","calculatePadding","convertCSSSize","isRelative","parentDirection","invertObject","nextObj","isSelector","querySelectorAll","calculateMatrixDist","getOffsetSizeDist","sizeDirection","ratio","distWidth","distHeight","parentDistance","parentScale","startFixedDirection","dist_1","directionRatio","standardRad","signSize","startWidthSize","startHeightSize","distSize","ratioRad","Pinchable","onPinchGroupStart","onPinchGroup","onPinchGroupEnd","pinchable","controlEventName","pinchAbles","controlAbles","ableEvent","pinch","pinchScale","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","Resizable","resizable","throttleResize","resizeFormat","onResizeStart","onBeforeResize","onResize","onResizeEnd","onResizeGroupStart","onBeforeResizeGroup","onResizeGroup","onResizeGroupEnd","edge","getCSSSize","startWidth","startHeight","isParentElement","containerStyle","setRatio","isFinite","setFixedDirection","startPositions","isWidth","setMin","setMax","setOrigin","isResize","parentKeepRatio","dragClient","getNextBoundingSize","boundingWidth","boundingHeight","nextFixedDirection","setSize","snapDist","checkSnapResize","isNoSnap","computeSize","nextSize","nextWidth","nextHeight","errorWidth","errorHeight","isErrorWidth","isErrorHeight","originalEvents","setDist","originalX","originalY","deltaWidth","deltaHeight","Scalable","scalable","throttleScale","onScaleStart","onBeforeScale","onScale","onScaleEnd","onScaleGroupStart","onBeforeScaleGroup","onScaleGroup","onScaleGroupEnd","scaleWidth","scaleHeight","scaleXRatio","scaleYRatio","isScale","getNextScale","stateDirection","setScale","nextScale","scaleDist","getScaleDist","moveableScale","getMiddleLinePos","getTriangleRad","rad1","Warpable","warpable","onWarpStart","onWarp","onWarpEnd","linePosFrom1","linePosFrom2","linePosFrom3","linePosFrom4","linePosTo1","linePosTo2","linePosTo3","linePosTo4","warpTargetMatrix","targetInverseMatrix","prevMatrix","posIndexes","isWarp","selectedPoses","nearByPoses","poses1","poses2","rad2","pi","totalMatrix","AREA_PIECES","AREA_PIECE","AVOID","restoreStyle","areaElement","remove","reg","removeClass","renderPieces","DragArea","dragArea","passDragArea","onClick","onClickGroup","isDragArea","nextElementSibling","addClass","disableNativeEvent","enableNativeEvent","Origin","scrollContainer","Scrollable","scrollable","scrollThreshold","onScroll","onScrollGroup","getContainer","dragScroll","scrollContainerElement","gestoName","dragGroupContro","dragGroupControEnd","Default","dragTarget","useResizeObserver","translateZ","hideDefaultLines","Padding","paddingDirections","RADIUS_DIRECTIONS","calculateRatio","sumSize","sumRatio","HORIZONTAL_RADIUS_ORDER","VERTICAL_RADIUS_ORDER","HORIZONTAL_RADIUS_DIRECTIONS","VERTICAL_RADIUS_DIRECTIONS","getRadiusStyles","controlPoses","clipStyles","raws","rawPos","getRadiusRange","horizontalRange","verticalRange","clipPose","sub","getRadiusValues","minCounts","splitIndex","splitLength","horizontalValues","verticalValues","nwValue","neValue","seValue","swValue","_j","wnValue","_k","enValue","_l","esValue","_m","wsValue","horizontalRawPoses","verticalRawPoses","nextHorizontalPoses","nextVerticalPoses","raw","removeRadiusPos","radiuslIndex","deleteCount","addRadiusPos","horizontalIndex","verticalIndex","radiusX","radiusY","startVerticalIndex","splitRadiusPoses","horizontals","verticals","CLIP_DIRECTIONS","CLIP_RECT_DIRECTIONS","getClipStyles","clipPath","clipRelative","clipType","clipPoses","isRect","isCircle","subWidth","subHeight","getRectPoses","dirx","diry","getClipPath","defaultClip","customClip","clipText","clip","clipPrefix","splitter","xPos","yPos","radiusX_1","radiusY_1","radius","xRadius","yRadius","centerPos_1","roundIndex","rectLength","radiusValues","_o","_p","_q","_r","nextRight","nextBottom","radiusPoses","_s","Clippable","clippable","defaultClipPath","customClipPath","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold","onClipStart","onClip","onClipEnd","clipPathState","snapBoundInfos","calculatedPos","controls","isInset","isPolygon","linePoses_1","clipLeft","clipTop","ellipseClipPath","piece","areaPoses","allWidth","allHeight","allLeft_1","allTop_1","directionType","snapPos1","snapPos2","isDragTarget","inputTarget","clipStyle","isClipStart","isLine","isArea","originalDraggable","originalDist","firstDist","isDragWithTarget","isAll","dists","verticalDirection_1","horizontalDirection_1","controlPose","controlDir","dirDir","dirHorizontal","dirVertical","moveControlPos","guidePoses","isEllipse","guideRect","rx","guideXPoses","guideYPoses","rectPoses","rectDists_1","boundDelta","snapOffsetY","snapOffsetX","nextClipStyles","dragDist","clipEventType","removeClipPath","addClipPath","OriginDraggable","originDraggable","originRelative","onDragOriginStart","onDragOrigin","onDragOriginEnd","startOrigin","startTargetOrigin","isDragOrigin","distOrigin","dragDelta","deltaOrigin","getBorderRadius","borderRadius","triggerRoundEvent","roundRelative","borderRadiusState","Roundable","roundable","minRoundControls","maxRoundControls","roundClickable","onRoundStart","onRound","onRoundEnd","verticalCount","horizontalCount","isDisplay","display","controlIndex","lineIndex","isRound","selectedControlPose","selectedVertical","selectedHorizontal","pose","poseDist","horizontalsLength","verticalsLength","addBorderRadius","BeforeRenderable","onBeforeRenderStart","onBeforeRender","onBeforeRenderEnd","onBeforeRenderGroupStart","onBeforeRenderGroup","onBeforeRenderGroupEnd","cssMatrix","startTransform","isIdentityMatrix","resetTransform","fillDragStartParams","fillDragParams","Renderable","onRenderStart","onRender","onRenderEnd","onRenderGroupStart","onRenderGroup","onRenderGroupEnd","resultCount","fillDragEndParams","triggerAble","ableType","eventOperation","eventAffix","requestInstant","conditionName","isFirstStart","controlGesto","updateRect","requestAble_1","eventAbles","elementFromPoint","isUpdate","nextDatas","isEventStart","isForceEnd","isUnmounted","getTargetAbleGesto","moveableTarget","controlBox","startFunc","eventTarget","isMoveableElement","getAbleGesto","conditionFunctions","EventManager","_onEvent","setAbles","MoveableManager","targetAbles","mouseEnter","mouseLeave","_prevTarget","_prevDragArea","_observer","_observerId","onPreventClick","stopPropagation","checkUpdateRect","parentPosition","propsTarget","ControlBoxElement","checkUpdate","updateRenderPoses","stateTarget","groupTargets","ableAttributes","getEnabledAbles","renderAbles","_renderLines","wrapperMoveable","_updateTargets","_updateNativeEvents","_updateEvents","updateCheckInput","_updateObserver","manager","hitTest","totalSize","isTarget","isSetState","updateState","updateTarget","statePos","getManager","getAbsoluteRotation","isInstant","requsetAble","ableRequester","requester","ableParam","stateLeft","stateTop","stateContainer","updateAbles","moveableContainer","unsetAbles","useCSS","customStyleMap","customStyledMap","always","Renderer","groupByMap","ResizeObserver","observer","observe","box","controlBoxElement","hasTargetAble","hasControlAble","_isTargetChanged","useDragArea","prevTarget","prevDragArea","eventKeys","hasAbles","Groupable","defaultGroupRotate","defaultGroupOrigin","Clickable","clickable","endEvent","containsElement","containsTarget","targetIndex","parentTarget","getDraggableEvent","IndividualGroupable","individualGroupable","MOVEABLE_ABLES","MOVEABLE_EVENTS_PROPS_MAP","MOVEABLE_PROPS_MAP","MOVEABLE_EVENTS_MAP","MOVEABLE_EVENTS","MOVEABLE_PROPS","getMaxPos","getMinPos","MoveableGroup","differ","updateGroup","moveablePoses","groupWidth","groupHeight","fixedRotation","rad_1","a1_1","tan","a2_1","b1MinMax_1","b2MinMax_1","rotatePoses","changedWidth","getGroupRect","nextTarget","isContainerChanged","MoveableIndividualGroup","InitialMoveable","refTargets","selectorMap","duplicate","makeStyled","cssMap","getTotalAbles","defaultStyled","prefixCSS","defaultAbles","moveableContructor","userAbles","userProps","elementTargets","getElementTargets","_updateRefs","isGroup","prevRefTargets","nextRefTargets","isBrowser","nextSelectorMap","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__decorate","propertyName","methodName","Moveable","InnerMoveable","Moveable$1","PROPERTIES","METHODS","EVENTS","tempElement","nextOptions","innerMoveable","getMoveable","dispatch","onMount","VanillaMoveable","onName","result2","getInstance","tankIcon","img0","img0_src_value","img1","img1_src_value","healerIcon","img2","img2_src_value","img3","img3_src_value","meleeIcon","img4","img4_src_value","img5","img5_src_value","magicRangedIcon","img6","img6_src_value","physRangedIcon","img7","img7_src_value","div15","div0","div1","div2","div3","div4","div5","div6","div7","div8","div9","div10","div11","div12","div13","div14","tankOneFrame","tankTwoFrame","healerOneFrame","healerTwoFrame","meleeOneFrame","meleeTwoFrame","magicRangedFrame","physRangedFrame","selectedFrame","toMove","estinien","img","img_src_value","getMultipleRandom","random","onload","party","getElementById","createDebuff","elem","firstMarkers","includes","secondMarkers","char","stepOne","h1","main"],"mappings":"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"}